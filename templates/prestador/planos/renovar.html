{% extends "prestador/base.html" %}

{% block titulo %}Renovar Plano{% endblock %}

{% block conteudo %}
    <h1 class="h3">Renovar Assinatura</h1>

    {# Bloco para exibir a mensagem de feedback após a tentativa de renovação #}
    {% if mensagem %}
        <div class="alert {% if sucesso %}alert-success{% else %}alert-danger{% endif %}" role="alert">
            {{ mensagem }}
        </div>
    {% endif %}

    {# Se o plano ainda não foi renovado com sucesso nesta interação, mostra o formulário #}
    {% if not sucesso %}
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Confirmação de Renovação</h5>
                <p>
                    Sua assinatura será estendida por mais 30 dias a partir da data de expiração.
                </p>
                <p>Clique no botão abaixo para confirmar a renovação do seu plano.</p>

                {# --- FORMULÁRIO DE RENOVAÇÃO --- #}
                 <form method="post" action="/prestador/planos/editar">
        <input type="hidden" name="id_prestador" value="1">
                    
                    {# 
                        Campo oculto para enviar o ID do prestador.
                        O valor "1" é um exemplo e deve ser substituído pelo ID do usuário logado.
                    #}
                    <input type="hidden" name="id_prestador" value="1">
                    
                    <button type="submit" class="btn btn-success">Confirmar Renovação</button>
                </form>
                {# --- FIM DO FORMULÁRIO --- #}
            </div>
        </div>
    {% endif %}

    <div class="mt-3">
        <a href="{{ url_for('planos_prestador') }}" class="btn btn-secondary">Voltar para Meus Planos</a>
    </div>
{% endblock %}
