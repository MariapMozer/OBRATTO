# .coverage

This is a binary file of the type: Binary

# .gitignore

```
# Ambiente virtual
.venv/
env/
venv/
ENV/

# Variáveis de ambiente (SEGURANÇA)
.env
.env.local
.env.*.local

# Bytecode compilado
__pycache__/
*.py[cod]
*$py.class

# Logs
*.log
logs/

# Arquivos temporários do sistema
*.swp
*.swo
*.bak
*.tmp
*.DS_Store
Thumbs.db
*.db-shm
*.db-wal


# Arquivos de packaging e distribuição
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
*.egg-info/
.installed.cfg
*.egg

# PyInstaller
# Veja https://pyinstaller.org/en/stable/usage.html
*.manifest
*.spec

# Rodas
*.whl

# Pytest cache
.pytest_cache/

# mypy
.mypy_cache/
.dmypy.json
dmypy.json

# Coverage reports
htmlcov/
.tox/
.coverage
.coverage.*
.cache
nosetests.xml
coverage.xml
*.cover
*.py,cover

# Cython build
cython_debug/

# Jupyter Notebook checkpoints
.ipynb_checkpoints

# VS Code
#.vscode/

# Arquivos de configuração do PyCharm
.idea/

# Arquivos de configuração do Visual Studio
*.suo
*.ntvs*
*.njsproj
*.sln
*.sw?
CLAUDE.md
.claude

node_modules/
dados.db
codebase_default.md
docs/antigos/
.aidigestignore
*.temp

```

# antigo/templates/administrador/alterar_categoria.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<div class="card">
    <div class="card-body">
        <h2>Alteração de Categoria</h2>
        <hr>
        <form action="/alterar_categoria" method="post">
            <input type="hidden" nome="id" value="{{ categoria.id_categoria }}">
            <div class="form-floating mb-3">
            <input type="text" class="form-control" id="nome" nome="nome" descricao="descricao" placeholder="Nome da Categoria" required value="{{ categoria.nome }}">
                <label for="nome">Nome da Categoria</label>
            </div>
            <button type="submit" class="btn btn-primary me-2">Alterar Categoria</button>
            <a href="/administrador/categoria" class="btn btn-secondary">Cancelar Alteração</a>
        </form>
    </div>
</div>
{% endblock %}


```

# antigo/templates/administrador/cadastrar_categoria.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<div class="container py-4" style="max-width: 600px;">
    <h1 class="fonte-titulo titulo_categorias mb-4">Cadastrar Categoria</h1>
    <form id="categoriaForm" autocomplete="off" novalidate>
        <!-- Nome do animal -->
        <div class="mb-3">
            <label for="nomeAnimal" class="form-label fw-semibold">Nome do animal <span class="text-danger">*</span></label>
            <input type="text" class="form-control" id="nomeAnimal" name="nomeAnimal" required maxlength="50" placeholder="Digite o nome do animal">
            <div class="invalid-feedback">O nome do animal é obrigatório.</div>
        </div>
        <!-- Upload de fotos -->
        <div class="mb-3">
            <label for="fotos" class="form-label fw-semibold">Adicione uma imagem</label>
            <input class="form-control" type="file" id="fotos" name="fotos" accept="image/*">
            <small class="form-text text-muted">Formato permitido: JPG.</small>
            <div id="preview" class="d-flex flex-wrap gap-2 mt-2"></div>
            <div class="invalid-feedback d-block" id="fotosError" style="display:none;"></div>
        </div>
        <!-- Seletor de cor -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Cor da categoria</label>
            <div id="colorPickerContainer" class="mb-2"></div>
            <input type="hidden" id="corCategoria" name="corCategoria" value="#ed6291">
            <input type="color">
            
        </div>
        <!-- Botão salvar -->
        <button type="submit" class="btn btn-success px-4 py-2 fw-semibold" style="border-radius: 10px;">Salvar</button>
    </form>
</div>

{% endblock %}
```

# antigo/templates/administrador/excluir_categoria.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Excluir Categoria</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/excluir_chamado.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Excluir Chamado</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/excluir_denuncia.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Excluir Denuncias</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/home_administrador.html

```html
<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VetConecta - Admin</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <!-- Ícones do Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <!-- Header -->
    <header class="topo">
            <div class="topo-logo">
                <img src="/static/img/pata_icon.png" alt="Logo Pata" class="logo-pata" height="50">
                <img src="/static/img/nome_icon.png" alt="Logo Pata" class="logo-pata" height="50">
            
        </div>
    </header>

    <!-- Layout -->
    <div class="layout">

        <!-- Menu lateral -->
        <nav class="sidebar">
            <ul class="menu">
                <li class="menu-item ativo">
                    <i class="fas fa-user-shield"></i> Admin
                </li>
                <li class="menu-item">
                    <i class="fas fa-users"></i> Tutor
                </li>
                <li class="menu-item">
                    <i class="fas fa-stethoscope"></i> Veterinário
                </li>
                <li class="menu-item">
                    <i class="fas fa-sign-in-alt"></i> Login
                </li>
            </ul>
        </nav>

        <!-- Conteúdo principal -->
        <main class="conteudo">
            <h1>Página Inicial do Admin</h1>

            <div class="cards-grid">
                <div class="card"><i class="fas fa-folder"></i> Categorias</div>
                <div class="card"><i class="fas fa-comments"></i> Comentários</div>
                <div class="card"><i class="fas fa-envelope"></i> Mensagens</div>
                <div class="card"><i class="fas fa-file-alt"></i> Artigos</div>
                <div class="card"><i class="fas fa-flag"></i> Denúncias</div>
                <div class="card"><i class="fas fa-id-card"></i> Solicitações de Validação de CRMV</div>
                <div class="card"><i class="fas fa-chart-bar"></i> Gráfico</div>
            </div>
        </main>
    </div>

</body>

</html>
```

# antigo/templates/administrador/listar_categorias.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Listar Categorias</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/listar_chamados.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Listar Chamado</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/listar_denuncias.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Listar Denuncias</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/listar_verificacao_crmv.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Listar Verificação CRMV</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/moderar_comentarios.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Moderar Comentarios</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/responder_chamado.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Responder Chamado</h1>
<hr>
{% endblock %}
```

# antigo/templates/administrador/responder_verificacao_crmv.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Responder Verificação CRMV</h1>
<hr>
{% endblock %}
```

# antigo/templates/base_publica_login.html

```html
<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>VetConecta</title>
        <link rel="stylesheet" href="/static/css/styles.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
        {% block head %}{% endblock %}
    </head>
    <body>
        <main>
            {% block conteudo %}
            {% endblock %}
        </main>

        <!-- Footer -->
        <footer class="text-center py-4 footer-bg">
            <div class="container">
                <p class="mb-3 fw-semibold fs-6 footer-titulo">VetConecta: cuidar é se informar!</p>

                <!-- Logo centralizada -->
                <div class="d-flex justify-content-center align-items-center mb-3">
                    <img src="/static/img/pata_icon.png" alt="Ícone Pata" class="footer-pata" height="50">
                    <img src="/static/img/nome_icon.png" alt="Logo VetConecta" class="footer-nome" height="50">
                </div>

                <!-- Informações legais -->
                <p class="mb-1 small text-muted">
                    Informações seguras - A VetConecta garante segurança nas informações prestadas
                </p>
                <p class="small text-muted">
                    Copyright 2025 © Todos os direitos reservados à VetConecta
                </p>
            </div>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
        <script src="/static/js/script.js"></script>
    </body>
</html>

```

# antigo/templates/base_publica.html

```html
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VetConecta</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    {% block head %}{% endblock %}
</head>

<body>
    <!-- Faixa superior: Logo centralizada -->
    <header class="w-100 d-flex justify-content-center align-items-center py-3">
        <img src="/static/img/logos/logo-vetconecta-color.png" alt="Ícone Pata" class="logo-pata" height="50">
        <img src="/static/img/logos/nome-vetconecta-color.png" alt="Logo VetConecta" class="logo-nome" height="50">
    </header>

    <!-- Navbar com fundo roxo -->
    <nav class="navbar navbar-expand-lg fundo_navbar py-3">
        <div class="container-fluid d-flex justify-content-between align-items-center px-4">
            <!-- Esquerda: Link -->
            <a href="/quemsomos" class="text-decoration-none text-white">Quem Somos</a>

            <!-- Centro: Barra de pesquisa -->
            <form class="d-flex w-50 justify-content-center">
                <div class="input-group w-100 search-group border-0">
                    <input class="form-control border-white" type="search" placeholder="O que seu pet necessita?">
                    <span class="input-group-text bg-white">
                        <i class="bi bi-search"></i>
                    </span>
                </div>
            </form>

            <!-- Direita: Ícone de perfil -->
            {% if request.session.get('usuario') %}
            <ul>
                <!-- Menu Admin -->
                {% if request.session.get('usuario').perfil == 'admin' %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown">
                        Administrar
                    </a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="/admin/usuarios">Usuários</a></li>
                        <li><a class="dropdown-item" href="/admin/relatorios">Relatórios</a></li>
                    </ul>
                </li>
                {% endif %}
                <!-- Menu do Usuário -->
                <div class="dropdown">
                    <button class="btn dropdown-toggle p-0 text-white" type="button" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        {% if request.session.get('usuario').foto %}
                        <img src="{{request.session.get('usuario').foto}}" alt="" class="rounded-circle" width="40">
                        {% else %}
                        <i class="bi bi-person-circle fs-2 text-white mr-5"></i>
                        {% endif %}
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <li><a class="dropdown-item" href="/perfil">Meu Perfil</a></li>
                        <li>
                            <hr class="dropdown-divider">
                        </li>
                        <li><a class="dropdown-item" href="/logout">Sair</a></li>
                    </ul>
                </div>
            </ul>
            {% else %}
            <!-- Menu para não logados -->
            <div class="text-white d-flex gap-3">
                <a class="nav-link" href="/login">Login</a>
                <a class="nav-link" href="/cadastro">Cadastre-se</a>
            </div>
            {% endif %}
        </div>
    </nav>

    <main>
        {% block conteudo %}
        {% endblock %}
    </main>

    <!-- Footer -->
    <footer class="text-center py-4 footer-bg">
        <div class="container">
            <p class="mb-3 fw-semibold fs-6 footer-titulo">VetConecta: cuidar é se informar!</p>

            <!-- Logo centralizada -->
            <div class="d-flex justify-content-center align-items-center mb-3">
                <img src="/static/img/pata_icon.png" alt="Ícone Pata" class="footer-pata" height="50">
                <img src="/static/img/nome_icon.png" alt="Logo VetConecta" class="footer-nome" height="50">
            </div>

            <!-- Informações legais -->
            <p class="mb-1 small text-muted">
                Informações seguras - A VetConecta garante segurança nas informações prestadas
            </p>
            <p class="small text-muted">
                Copyright 2025 © Todos os direitos reservados à VetConecta
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/script.js"></script>
</body>

</html>
```

# antigo/templates/perfil/dados.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<!-- Container centralizado para foto atual -->
<div class="d-flex justify-content-center">
    <img id="foto-atual"
         src="{{ usuario.foto or '/static/img/user-default.png' }}"
         class="rounded-circle mb-3"
         style="width: 150px; height: 150px; object-fit: cover; border: 3px solid #dee2e6;"
         alt="Foto do perfil">
</div>

<!-- Preview da nova foto (inicialmente oculto) -->
<div id="preview-foto-container" style="display: none;">
    <div class="d-flex justify-content-center">
        <img id="preview-foto"
             src=""
             class="rounded-circle mb-2"
             style="width: 150px; height: 150px; object-fit: cover; border: 3px solid #28a745;"
             alt="Preview da nova foto">
    </div>
    <div class="small text-success mb-2">
        <i class="bi-check-circle"></i> Nova foto selecionada
    </div>
</div>

<!-- Formulário de upload -->
<form action="/perfil/alterar-foto" method="post" enctype="multipart/form-data">
    <div class="mb-2">
        <label for="foto" class="form-label small">Selecionar Nova Foto</label>
        <input type="file"
               class="form-control form-control-sm"
               id="foto"
               name="foto"
               accept="image/*">  <!-- ← Aceita apenas imagens -->
        <div class="form-text small">JPG, JPEG ou PNG</div>
    </div>
    <button type="submit" class="btn btn-sm btn-outline-primary" id="btn-alterar" disabled>
        <i class="bi-camera"></i> Alterar Foto
    </button>
    <button type="button" class="btn btn-sm btn-outline-secondary" id="btn-cancelar" onclick="cancelarSelecao()" style="display: none;">
        <i class="bi-x"></i> Cancelar
    </button>
</form>
{% endblock %}

```

# antigo/templates/publico/artigos.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}

<link rel="stylesheet" href="static/css/artigos.css">

    <main class="container my-4">
        <h1 class="mb-4">Artigos</h1>

        <div class="articles-container">
            <div class="article orange">
                <img src="static/img/gato.jpg" alt="gato">
                <div class="article-content">
                    <h3>Ração para gato filhote: conheça 5 opções</h3>
                    <p>Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem</p>
                    <p>02 de Junho de 2025<br>@vetGatinhos</p>
                    <a href="#" class="btn">Ler o artigo completo</a>
                    <!-- <button href="#" class="btn">Ler o artigo completo</button> -->
                </div>
            </div>

            <div class="article blue">
                <img src="static/img/calopsita.jpeg" alt="ave">
                <div class="article-content">
                    <h3>Aves que falam: conheça 15 pássaros imitadores</h3>
                    <p>Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem</p>
                    <p>02 de Junho de 2025<br>@vetAves</p>
                    <a href="#" class="btn">Ler o artigo completo</a>
                </div>
            </div>

            <div class="article teal">
                <img src="static/img/peixe.jpg" alt="peixe">
                <div class="article-content">
                    <h3>Tudo sobre peixes em aquário pequeno</h3>
                    <p>Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem</p>
                    <p>31 de Maio de 2025<br>@vetPeixes</p>
                    <a href="#" class="btn">Ler o artigo completo</a>
                </div>
            </div>

            <div class="article pink">
                <img src="static/img/roedor.jpeg" alt="roedor">
                <div class="article-content">
                    <h3>Brinquedos para roedores domésticos: confira 10 opções</h3>
                    <p>Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem Lorem</p>
                    <p>30 de Maio de 2025<br>@vetRoedores</p>
                    <a href="#" class="btn">Ler o artigo completo</a>
                </div>
            </div>
        </div>
    </main>



    <script src="/static/js/script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}
```

# antigo/templates/publico/cadastro.html

```html
{% extends "base_publica_login.html" %}
{% block head %}
<title>Cadastro - VetConecta</title>
<link rel="stylesheet" href="/static/css/login.css">
<link rel="stylesheet" href="/static/css/styles.css">
{% endblock %}
{% block conteudo %}
<body>
    <div class="bg-full">
        <div class="login-box">
            <img src="/static/img/pata_icon.png" alt="Logo VetConecta" class="logo-img">
            <div class="brand-title">
                <span>Vet</span>
                <span class="brand-subtitle">Conecta</span>
            </div>
            <h5 class="mb-4 fw-semibold login-title">Cadastro</h5>
            <form action="/cadastro" method="post">
                {% if erros and 'GERAL' in erros.keys() %}
                <div class="alert alert-danger" role="alert">
                    {{ erros['GERAL'] }}
                </div>
                {% endif %}
                <div class="mb-3 text-start">
                    <label class="form-label">Se cadastrar como:</label>
                    <br>
                    <div class="form-check form-check-inline">
                        <input
                            class="form-check-input"
                            type="radio"
                            name="perfil"
                            id="tutor"
                            value="tutor"
                            required
                            {% if dados and dados.perfil == 'tutor' %}checked{% endif %}
                        >
                        <label class="form-check-label" for="tutor">Tutor</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input
                            class="form-check-input"
                            type="radio"
                            name="perfil"
                            id="veterinario"
                            value="veterinario"
                            required
                            {% if dados and dados.perfil == 'veterinario' %}checked{% endif %}
                        >
                        <label class="form-check-label" for="veterinario">Veterinário</label>
                    </div>
                    {% if erros and 'PERFIL' in erros %}
                    <div class="invalid-feedback d-block">{{ erros['PERFIL'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="nome" class="form-label">Nome</label>
                    <input
                        type="text"
                        class="form-control {% if erros and 'NOME' in erros.keys() %}is-invalid{% endif %}"
                        id="nome"
                        value="{{dados.nome if dados else ''}}"
                        name="nome"
                        placeholder="Digite seu nome"
                        required
                    >
                    {% if erros and 'NOME' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['NOME'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="email" class="form-label">Email</label>
                    <input
                        type="email"
                        class="form-control {% if erros and 'EMAIL' in erros.keys() %}is-invalid{% endif %}"
                        id="email"
                        value="{{dados.email if dados else ''}}"
                        name="email"
                        placeholder="Digite seu email"
                        required
                    >
                    {% if erros and 'EMAIL' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['EMAIL'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="telefone" class="form-label">Telefone</label>
                    <input
                        type="tel"
                        class="form-control {% if erros and 'TELEFONE' in erros.keys() %}is-invalid{% endif %}"
                        id="telefone"
                        value="{{dados.telefone if dados else ''}}"
                        name="telefone"
                        placeholder="Digite seu telefone"
                        required
                    >
                    {% if erros and 'TELEFONE' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['TELEFONE'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start" id="crmv-field" style="display: none;">
                    <label for="crmv" class="form-label">CRMV</label>
                    <input
                        type="text"
                        class="form-control {% if erros and 'CRMV' in erros.keys() %}is-invalid{% endif %}"
                        id="crmv"
                        value="{{dados.crmv if dados else ''}}"
                        name="crmv"
                        placeholder="Digite seu CRMV"
                    >
                    {% if erros and 'CRMV' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['CRMV'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="senha" class="form-label">Senha</label>
                    <input
                        type="password"
                        class="form-control {% if erros and 'SENHA' in erros.keys() %}is-invalid{% endif %}"
                        id="senha"
                        name="senha"
                        placeholder="Digite sua senha"
                        required
                    >
                    {% if erros and 'SENHA' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['SENHA'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="confirmar_senha" class="form-label">Confirmar Senha</label>
                    <input
                        type="password"
                        class="form-control {% if erros and 'CONFIRMAR_SENHA' in erros.keys() %}is-invalid{% endif %}"
                        id="confirmar_senha"
                        name="confirmar_senha"
                        placeholder="Confirme sua senha"
                        required
                    >
                    {% if erros and 'CONFIRMAR_SENHA' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['CONFIRMAR_SENHA'] }}</div>
                    {% endif %}
                </div>
                <button type="submit" class="btn btn-login w-100">Entrar</button>
                <br>
                <div class="form-check text-start mb-3">
                    <input
                        class="form-check-input"
                        type="checkbox"
                        id="termos"
                        name="termos"
                        required
                        {% if dados and dados.termos %}checked{% endif %}
                    >
                    <label class="form-check-label" for="termos">
                        Aceito os
                        <a href="termos.html" class="text-primary fw-semibold">Termos de privacidade.</a>
                    </label>
                    {% if erros and 'TERMOS' in erros.keys() %}
                    <div class="invalid-feedback d-block">{{ erros['TERMOS'] }}</div>
                    {% endif %}
                </div>
            </form>
            <div class="mt-3 text-center">
                <span>Já tem uma conta cadastrada?</span>
                <a href="login.html" class="text-primary fw-semibold">Faça login!</a>
            </div>
        </div>
    </div>
    <script src="/static/js/scripts_cadastro.js"></script>
{% endblock %}

```

# antigo/templates/publico/esqueci_senha.html

```html
{% extends "base_publica.html" %}
{% block head %}
<title>Recuperar Senha - VetConecta</title>
<link rel="stylesheet" href="/static/css/login.css">
<link rel="stylesheet" href="/static/css/styles.css">
{% endblock %}
{% block conteudo %}
<body>

  <div class="bg-full">
    <div class="login-box">
      <!-- Logo -->
      <img src="/static/img/pata_icon.png" alt="Logo VetConecta" class="logo-img">
      <div class="brand-title">
        <span>Vet</span><span class="brand-subtitle">Conecta</span>
      </div>

      <!-- Título -->
      <h5 class="mb-4 fw-semibold login-title">Recuperar Senha</h5>

      {% if erro %}
      <div class="alert alert-danger" role="alert">
        {{ erro }}
      </div>
      {% endif %}

      {% if sucesso %}
      <div class="alert alert-success" role="alert">
        {{ sucesso }}
      </div>

      {% if debug_link %}
      <!-- REMOVER EM PRODUÇÃO -->
      <div class="alert alert-warning" role="alert">
        <strong>Link de teste:</strong><br>
        <a href="{{ debug_link }}" target="_blank">{{ debug_link }}</a>
      </div>
      {% endif %}

      <div class="mt-3 text-center">
        <a href="/login" class="btn btn-link">Voltar ao Login</a>
      </div>
      {% else %}

      <p class="text-muted text-center mb-4">
        Digite seu e-mail cadastrado e enviaremos instruções para redefinir sua senha.
      </p>

      <!-- Formulário -->
      <form method="post" action="/esqueci-senha">
        <div class="mb-3 text-start">
          <label for="email" class="form-label">Email</label>
          <input type="email" class="form-control" id="email" name="email"
                 placeholder="Digite seu email" required autofocus>
        </div>
        <button type="submit" class="btn btn-login w-100">Enviar Instruções</button>
      </form>

      <div class="mt-3 text-center">
        <a href="/login" class="btn btn-link">Voltar ao Login</a>
      </div>
      {% endif %}

    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
{% endblock %}

```

# antigo/templates/publico/index.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}

<!-- Carrossel -->
<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-indicators">
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
            aria-current="true" aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
            aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
            aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner custom-carousel">
        <div class="carousel-item active">
            <img src="static/img/tentativa.webp" class="d-block w-100 custom-carousel-img" alt="Família">
        </div>
        <div class="carousel-item">
            <img src="static/img/anuncio8.jpg" class="d-block w-100 custom-carousel-img" alt="Top Gun">
        </div>
        <div class="carousel-item">
            <img src="static/img/anuncio8.jpg" class="d-block w-100 custom-carousel-img" alt="Família 2">
        </div>
    </div>
    <!-- Botões de navegação -->
    <button class="carousel-control-prev categoria-btn" type="button" data-bs-target="#carouselExampleIndicators"
        data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
        data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Próximo</span>
    </button>
</div>

<!-- Categorias bolotas -->
<div class="d-flex justify-content-center flex-wrap gap-5 text-center m-5">
    <div>
        <img src="static/img/icons/gato_icon.jpg" alt="Gatos" class="categoria-img" />
        <div class="d-flex justify-content-center flex-wrap gap-3">
            <a href="outra-pagina.html"
                class="btn fw-bold m-4 d-flex align-items-center justify-content-center titulo_categorias categoria-btn">
                Gatos
            </a>
        </div>
    </div>
    <div>
        <img src="static/img/icons/cao_icon.jpg" alt="Cachorros" class="categoria-img" />
        <div class="d-flex justify-content-center flex-wrap gap-3">
            <a href="outra-pagina.html"
                class="btn fw-bold m-4 d-flex align-items-center justify-content-center titulo_categorias categoria-btn">
                Cachorros
            </a>
        </div>
    </div>
    <div>
        <img src="static/img/icons/roedor_icon.jpg" alt="Roedores" class="categoria-img" />
        <div class="d-flex justify-content-center flex-wrap gap-3">
            <a href="outra-pagina.html"
                class="btn fw-bold m-4 d-flex align-items-center justify-content-center titulo_categorias categoria-btn">
                Roedores
            </a>
        </div>
    </div>
    <div>
        <img src="static/img/icons/passaro.jpg" alt="Aves" class="categoria-img" />
        <div class="d-flex justify-content-center flex-wrap gap-3">
            <a href="outra-pagina.html"
                class="btn fw-bold m-4 d-flex align-items-center justify-content-center titulo_categorias categoria-btn">
                Aves
            </a>
        </div>
    </div>
    <div>
        <img src="static/img/icons/tartaruga_icon.jpg" alt="Répteis e Anfíbios" class="categoria-img" />
        <div class="d-flex justify-content-center flex-wrap gap-3">
            <a href="outra-pagina.html"
                class="btn fw-bold m-4 d-flex align-items-center justify-content-center titulo_categorias categoria-btn">
                Répteis e Peixes
            </a>
        </div>
    </div>
</div>

<!-- Artigos recentes -->
<div class="container p-3">
    <h1 class="fw-bold mb-4">Artigos recentes</h1>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-4 g-4">
        <!-- Exemplo de card -->
        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-cachorros artigo-card">
                <img src="static/img/cao2.jpg" class="card-img-top" alt="Cachorro e humano">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Abril Laranja: mês dedicado à prevenção da crueldade animal.</h6>
                    <p class="mb-1 small">03 de Junho de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-gatos artigo-card">
                <img src="static/img/gato.jpg" class="card-img-top" alt="Gato comendo">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Ração para gato filhote: conheça 5 opções</h6>
                    <p class="mb-1 small">02 de Junho de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-aves artigo-card">
                <img src="static/img/papagaio.jpg" class="card-img-top" alt="Papagaio branco voando">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Aves que falam: conheça 15 pássaros imitadores</h6>
                    <p class="mb-1 small">01 de Junho de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-repteis artigo-card">
                <img src="static/img/peixe.jpg" class="card-img-top" alt="Peixe laranja">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Tudo sobre peixes em aquário pequeno</h6>
                    <p class="mb-1 small">31 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-roedores artigo-card">
                <img src="static/img/roedor.jpeg" class="card-img-top" alt="Roedor branco na mão">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Brinquedos para roedores domésticos: confira 10 opções</h6>
                    <p class="mb-1 small">30 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-repteis artigo-card">
                <img src="static/img/tartaruga.webp" class="card-img-top" alt="Lagarto verde">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Alimentos Naturais para Répteis: Como Preparar em Casa</h6>
                    <p class="mb-1 small">29 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-cachorros artigo-card">
                <img src="static/img/caramelo.jpg" class="card-img-top" alt="Outro artigo">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Novo artigo especial sobre bem-estar animal</h6>
                    <p class="mb-1 small">28 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-gatos artigo-card">
                <img src="static/img/gatinho.jpeg" class="card-img-top" alt="Gato e veterinário">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Vacinação em dia: importância e calendário</h6>
                    <p class="mb-1 small">27 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-aves artigo-card">
                <img src="static/img/calopsita.jpeg" class="card-img-top" alt="Pet com brinquedos">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Top 5 brinquedos para pets ativos</h6>
                    <p class="mb-1 small">26 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-repteis artigo-card">
                <img src="static/img/reptil.webp" class="card-img-top" alt="Pequeno animal no colo">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Primeiros socorros para pets: saiba como agir</h6>
                    <p class="mb-1 small">25 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-gatos artigo-card">
                <img src="static/img/gato.jpg" class="card-img-top" alt="Pequeno animal no colo">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Primeiros socorros para pets: saiba como agir</h6>
                    <p class="mb-1 small">25 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card h-100 border-0 rounded-4 overflow-hidden bg-roedores artigo-card">
                <img src="static/img/rato.jpg" class="card-img-top" alt="Pequeno animal no colo">
                <div class="card-body text-white">
                    <h6 class="fw-bold">Primeiros socorros para pets: saiba como agir</h6>
                    <p class="mb-1 small">25 de Maio de 2025</p>
                    <p class="mb-2 small">@veterinario</p>
                </div>
            </div>
        </div>

        <!-- demais cards seguem o mesmo padrão -->
    </div>
    <div class="row">
        <div class="col text-center mt-4">
            <a href="/artigos" class="btn btn-lg rounded-pill px-5 py-3 fw-bold ver-mais-btn">
                Ver Mais
            </a>
        </div>
    </div>
</div>

<!-- PetGram -->
<div class="container-fluid pt-3 petgram-bg">
    <div class="container text-center">
        <h1 class="fw-bold m-3 petgram-title">
            Pet<span class="petgram-subtitle">Gram</span>
        </h1>
        <h1 class="fw-light mb-5">
            Aqui você pode acompanhar e admirar os pets mais fofos do Brasil!
        </h1>
        <div class="row row-cols-1 row-cols-md-4 g-4">
            <!-- Card Pet -->
            <div class="col">
                <div class="card h-100 petgram-card petgram-borda">
                    <img src="static/img/caramelo.jpg" class="card-img-top petgram-img" alt="Pet1">
                    <div class="card-body text-start">
                        <h6 class="fw-bold">@CarameloDivo</h6>
                        <p class="text-muted mb-1">Cachorro caramelo muito fofo</p>
                        <div class="like-btn mt-2">
                            <input type="checkbox" id="curtir1" class="d-none">
                            <label for="curtir1" class="fs-4 text-dark like-icon">
                                <i class="bi bi-heart"></i>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Card 2 -->
            <div class="col">
                <div class="card h-100 petgram-card petgram-borda">
                    <img src="static/img/rato.jpg" class="card-img-top petgram-img" alt="Pet2">
                    <div class="card-body text-start">
                        <h6 class="fw-bold">@Bolinha</h6>
                        <p class="text-muted mb-1">Hamster esperto, engraçado, curioso...</p>
                        <div class="like-btn mt-2">
                            <input type="checkbox" id="curtir2" class="d-none">
                            <label for="curtir2" class="fs-4 text-dark like-icon">
                                <i class="bi bi-heart"></i>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="col">
                <div class="card h-100 petgram-card petgram-borda">
                    <img src="static/img/tartaruga.webp" class="card-img-top petgram-img" alt="Pet3">
                    <div class="card-body text-start">
                        <h6 class="fw-bold">@SenhorCascos</h6>
                        <p class="text-muted mb-1">Tartaruga dorminhoca e tranquila</p>
                        <div class="like-btn mt-2">
                            <input type="checkbox" id="curtir3" class="d-none">
                            <label for="curtir3" class="fs-4 text-dark like-icon">
                                <i class="bi bi-heart"></i>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 4 -->
            <div class="col">
                <div class="card h-100 petgram-card petgram-borda">
                    <img src="static/img/tartaruga.webp" class="card-img-top petgram-img" alt="Pet4">
                    <div class="card-body text-start">
                        <h6 class="fw-bold">@SenhorCascos</h6>
                        <p class="text-muted mb-1">Tartaruga dorminhoca e tranquila</p>
                        <div class="like-btn mt-2">
                            <input type="checkbox" id="curtir4" class="d-none">
                            <label for="curtir4" class="fs-4 text-dark like-icon">
                                <i class="bi bi-heart"></i>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- outros cards pets... -->
        </div>
        <div class="text-center mt-4">
            <a href="/posts" class="btn btn-lg ver-mais-btn rounded-pill px-5 py-3 fw-bold mb-4 petgram-btn">
                Ver Mais
            </a>
        </div>
    </div>
</div>
{% endblock %}
```

# antigo/templates/publico/login.html

```html
{% extends "base_publica_login.html" %}
{% block head %}
<title>Quem Somos - VetConecta</title>
<link rel="stylesheet" href="/static/css/login.css">
<link rel="stylesheet" href="/static/css/styles.css">
{% endblock %}
{% block conteudo %}
<body>
    <div class="bg-full">
        <div class="login-box">
            <img src="/static/img/pata_icon.png" alt="Logo VetConecta" class="logo-img">
            <div class="brand-title">
                <span>Vet</span>
                <span class="brand-subtitle">Conecta</span>
            </div>
            <h5 class="mb-4 fw-semibold login-title">Login</h5>
            <form action="/login" method="post">
                {% if redirect: %}
                <input type="hidden" name="next" value="{{ redirect }}">
                {% endif %}
                {% if erros and 'GERAL' in erros.keys() %}
                <div class="alert alert-danger" role="alert">
                    {{ erros['GERAL'] }}
                </div>
                {% endif %}
                <div class="mb-3 text-start">
                    <label for="email" class="form-label">Email</label>
                    <input
                        type="email"
                        class="form-control {% if erros and 'EMAIL' in erros.keys() %}is-invalid{% endif %}"
                        id="email"
                        value="{{dados.email if dados else '' }}"
                        placeholder="Digite seu e-mail"
                        required
                        name="email"
                    >
                    {% if erros and 'EMAIL' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['EMAIL'] }}</div>
                    {% endif %}
                </div>
                <div class="mb-3 text-start">
                    <label for="senha" class="form-label">Senha</label>
                    <input
                        type="password"
                        class="form-control {% if erros and 'SENHA' in erros.keys() %}is-invalid{% endif %}"
                        id="senha"
                        placeholder="Digite sua senha"
                        required
                        name="senha"
                    >
                    {% if erros and 'SENHA' in erros.keys() %}
                    <div class="invalid-feedback">{{ erros['SENHA'] }}</div>
                    {% endif %}
                </div>
                <button type="submit" class="btn btn-login w-100">Entrar</button>
                <a href="/esqueci-senha" class="btn btn-link">Esqueci minha senha</a>
            </form>
        </form>
        <div class="mt-3 text-center">
            <span>Não tem uma conta cadastrada?</span>
            <a href="/cadastro" class="text-primary fw-semibold">Cadastre-se!</a>
        </div>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
{% endblock %}

```

# antigo/templates/publico/perfil.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-8 col-lg-7">
            <div class="card-perfil p-4 d-flex flex-row align-items-start gap-4">
                <!-- Coluna da foto e upload -->
                <div class="d-flex flex-column align-items-center" style="min-width: 160px;">
                    <img id="preview-foto"
                         src="{{ usuario.foto or '/static/img/user-default.png' }}"
                         class="rounded-circle mb-2"
                         style="width:120px; height:120px; object-fit:cover; border: 3px solid #28a745;"
                         alt="Foto do perfil">
                    <form action="/perfil/alterar-foto" method="post" enctype="multipart/form-data" class="w-100 mb-2">
                        <label for="foto" class="form-label small mb-1 text-center w-100">Selecionar Nova Foto</label>
                        <input type="file"
                               class="form-control form-control-sm mb-1 text-center"
                               style="max-width: 180px;"
                               id="foto"
                               name="foto"
                               accept="image/*">
                        <div class="form-text small mb-2 text-center">JPG, JPEG ou PNG</div>
                        <div class="d-flex gap-2 justify-content-center w-100">
                            <button type="submit" class="btn btn-sm btn-outline-primary" id="btn-alterar" disabled>
                                <i class="bi-camera"></i> Alterar Foto
                            </button>
                            <button type="button" class="btn btn-sm btn-outline-secondary" id="btn-cancelar" onclick="cancelarSelecao()" style="display: none;">
                                <i class="bi-x"></i> Cancelar
                            </button>
                        </div>
                    </form>
                </div>
                <!-- Coluna dos dados do usuário -->
                <div class="flex-grow-1">
                    <form action="/perfil/atualizar" method="post" class="w-100">
                        <div class="mb-3">
                            <span class="badge bg-success"><i class="bi bi-patch-check-fill"></i> Verificado</span>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Nome</label>
                            <input type="text" class="form-control" name="nome" value="{{ usuario.nome or '' }}" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">E-mail</label>
                            <input type="email" class="form-control" name="email" value="{{ usuario.email or '' }}" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Telefone</label>
                            <input type="text" class="form-control" name="telefone" value="{{ usuario.telefone or '' }}">
                        </div>
                        {% if usuario.perfil == 'veterinario' %}
                        <div class="mb-3">
                            <label class="form-label fw-semibold">CRMV</label>
                            <input type="text" class="form-control" name="crmv" value="{{ usuario.crmv or '' }}" readonly>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Bio</label>
                            <textarea class="form-control" name="bio" rows="2">{{ usuario.bio or '' }}</textarea>
                        </div>{% endif %}
                        <div class="d-flex justify-content-end">
                            <button type="submit" class="btn btn-primary">Salvar Alterações</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
document.getElementById('foto').addEventListener('change', function(e) {
    const file = e.target.files[0];
    const previewImg = document.getElementById('preview-foto');
    const btnAlterar = document.getElementById('btn-alterar');
    const btnCancelar = document.getElementById('btn-cancelar');

    if (file) {
        const reader = new FileReader();
        reader.onload = function(event) {
            previewImg.src = event.target.result; // Troca a imagem imediatamente
            btnAlterar.disabled = false;
            btnCancelar.style.display = 'inline-block';
        };
        reader.readAsDataURL(file);
    } else {
        btnAlterar.disabled = true;
        btnCancelar.style.display = 'none';
        previewImg.src = "{{ usuario.foto or '/static/img/user-default.png' }}";
    }
});

function cancelarSelecao() {
    document.getElementById('foto').value = '';
    document.getElementById('btn-alterar').disabled = true;
    document.getElementById('btn-cancelar').style.display = 'none';
    document.getElementById('preview-foto').src = "{{ usuario.foto or '/static/img/user-default.png' }}";
}
</script>
{% endblock %}
```

# antigo/templates/publico/posts.html

```html
{% extends "base_publica.html" %}
{% block head %}
{% endblock %}
<link rel="stylesheet" href="/static/css/styles.css">

{% block conteudo %}
<div class="container-fluid pt-3 petgram-bg">
    <div class="container text-center">
        <h1 class="fw-bold m-3 petgram-title">
            Pet<span class="petgram-subtitle">Gram</span>
        </h1>
        <h3 class="fw-light mb-5">
            Aqui você pode acompanhar e admirar os pets mais fofos do Brasil!
        </h3>
        <div class="row row-cols-1 row-cols-md-4 g-4 pb-5">

            <!-- Card 1 -->
            <div class="col">
            <div class="card h-100 d-flex flex-column">
                <img src="static/img/caramelo.jpg" class="card-img-top petgram-img" alt="Pet1">
                <div class="card-body d-flex flex-column">
                    <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@CarameloDivo</a>
                    <p class="text-muted mb-1">Cachorro caramelo muito fofo</p>

                    <!-- força botões para base -->
                    <div class="mt-auto d-flex justify-content-between align-items-center">
                        <div class="like-btn">
                            <input type="checkbox" id="curtir1" class="d-none">
                            <label for="curtir1" class="fs-4 text-dark like-icon mb-0">
                                <i class="bi bi-heart"></i>
                            </label>
                        </div>
                        <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                            <i class="bi bi-flag-fill me-1"></i> Denunciar
                        </a>
                    </div>
                </div>
            </div>
            </div>


            <!-- Card 2 -->
            <div class="col">
            <div class="card h-100 d-flex flex-column">
                <img src="static/img/caramelo.jpg" class="card-img-top petgram-img" alt="Pet1">
                <div class="card-body d-flex flex-column">
                    <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@CarameloDivo</a>
                    <p class="text-muted mb-1">Cachorro caramelo muito fofo</p>

                    <!-- força botões para base -->
                    <div class="mt-auto d-flex justify-content-between align-items-center">
                        <div class="like-btn">
                            <input type="checkbox" id="curtir1" class="d-none">
                            <label for="curtir1" class="fs-4 text-dark like-icon mb-0">
                                <i class="bi bi-heart"></i>
                            </label>
                        </div>
                        <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                            <i class="bi bi-flag-fill me-1"></i> Denunciar
                        </a>
                    </div>
                </div>
            </div>
            </div>


            <!-- Card 3 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/tartaruga.webp" class="card-img-top petgram-img" alt="Pet3">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@TartarugaZen</a>
                        <p class="text-muted mb-1">Tartaruga dorminhoca e tranquila</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir3" class="d-none">
                                <label for="curtir3" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 4 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/tartaruga.webp" class="card-img-top petgram-img" alt="Pet4">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@TartarugaZen</a>
                        <p class="text-muted mb-1">Tartaruga dorminhoca e tranquila</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir4" class="d-none">
                                <label for="curtir4" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

                        <!-- Card 1 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/caramelo.jpg" class="card-img-top petgram-img" alt="Pet1">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@CarameloDivo</a>
                        <p class="text-muted mb-1">Cachorro caramelo muito fofo</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir1" class="d-none">
                                <label for="curtir1" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/rato.jpg" class="card-img-top petgram-img" alt="Pet2">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@HamsterCurioso</a>
                        <p class="text-muted mb-1">Hamster esperto, engraçado, curioso...</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir2" class="d-none">
                                <label for="curtir2" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/tartaruga.webp" class="card-img-top petgram-img" alt="Pet3">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@TartarugaZen</a>
                        <p class="text-muted mb-1">Tartaruga dorminhoca e tranquila</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir3" class="d-none">
                                <label for="curtir3" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 4 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/tartaruga.webp" class="card-img-top petgram-img" alt="Pet4">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@TartarugaZen</a>
                        <p class="text-muted mb-1">Tartaruga dorminhoca e tranquila</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir4" class="d-none">
                                <label for="curtir4" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Card 1 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/caramelo.jpg" class="card-img-top petgram-img" alt="Pet1">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@CarameloDivo</a>
                        <p class="text-muted mb-1">Cachorro caramelo muito fofo</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir1" class="d-none">
                                <label for="curtir1" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/rato.jpg" class="card-img-top petgram-img" alt="Pet2">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@HamsterCurioso</a>
                        <p class="text-muted mb-1">Hamster esperto, engraçado, curioso...</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir2" class="d-none">
                                <label for="curtir2" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/tartaruga.webp" class="card-img-top petgram-img" alt="Pet3">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@TartarugaZen</a>
                        <p class="text-muted mb-1">Tartaruga dorminhoca e tranquila</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir3" class="d-none">
                                <label for="curtir3" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card 4 -->
            <div class="col">
                <div class="card h-100">
                    <img src="static/img/tartaruga.webp" class="card-img-top petgram-img" alt="Pet4">
                    <div class="card-body text-start">
                        <a href="perfil" class="text-dark fw-bold text-decoration-none h6">@TartarugaZen</a>
                        <p class="text-muted mb-1">Tartaruga dorminhoca e tranquila</p>
                        <div class="d-flex justify-content-between align-items-center mt-2">
                            <div class="like-btn">
                                <input type="checkbox" id="curtir12" class="d-none">
                                <label for="curtir4" class="fs-4 text-dark like-icon mb-0">
                                    <i class="bi bi-heart"></i>
                                </label>
                            </div>
                            <a href="#" class="text-danger small fw-semibold" data-bs-toggle="modal" data-bs-target="#denunciarModal">
                                <i class="bi bi-flag-fill me-1"></i> Denunciar
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Repita o mesmo padrão para os outros cards... -->
        </div>
    </div>
</div>

<!-- Modal Denúncia -->
<div class="modal fade" id="denunciarModal" tabindex="-1" aria-labelledby="denunciarLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content petgram-modal">
      <div class="modal-header border-0">
        <h5 class="modal-title fw-bold" id="denunciarLabel">
          <i class="bi bi-exclamation-triangle-fill text-danger me-2"></i> Denunciar
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
      </div>
      <div class="modal-body text-center">
        <p class="mb-3">Nos ajude a manter o blog seguro.<br> Descreva o motivo da denúncia</p>
        <textarea class="form-control" rows="4" placeholder="Digite aqui o motivo..."></textarea>
      </div>
      <div class="modal-footer border-0 justify-content-center">
        <button type="button" class="btn btn-danger px-4">Enviar denúncia</button>
      </div>
    </div>
  </div>
</div>
{% endblock %}

```

# antigo/templates/publico/quemsomos.html

```html
{% extends "base_publica.html" %}
{% block head %}
<title>Quem Somos - VetConecta</title>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="/static/css/styles-quemsomos.css">
{% endblock %}
{% block conteudo %}
<style>

</style>
</head>

<body class="quemsomos-bg">
    <main class="container">
        <h1 class="fonte-titulo my-5">Quem Somos</h1><br>
        <p>O <span class="fonte-titulo">VetConecta</span> é um espaço criado para unir tutores de animais e
            veterinários especializados em um ambiente digital que valoriza informação de qualidade, cuidado responsável
            e amor pelos pets. Nosso propósito é oferecer <strong>conteúdos confiáveis, revisados por
                profissionais</strong>, que abordam temas como saúde, nutrição, comportamento e cuidados preventivos,
            ajudando tutores a tomarem decisões seguras e conscientes.</p>

        <p>Sabemos que, muitas vezes, o acesso a um veterinário pode ser difícil devido à distância, custos ou falta de
            tempo. Por isso, desenvolvemos uma plataforma que aproxima conhecimento e cuidado, garantindo que cada tutor
            tenha orientação segura na palma da mão.</p>

        <p>O VetConecta é fruto do trabalho e dedicação de <strong>Brenda Souza Oliveira, Kauany Stefany Gomes de
                Oliveira, Luana Santos Neves e Sofia Koppe Fernandes Bettcher</strong>, alunas do Instituto Federal do
            Espírito Santo – Campus Cachoeiro de Itapemirim, unindo tecnologia, inovação e paixão pelos animais.</p>

        <p>Mais do que um blog, somos uma <strong>comunidade engajada</strong> em promover o bem-estar animal,
            incentivar práticas responsáveis e fortalecer o vínculo entre tutores e seus companheiros de quatro patas.
            Aqui, cada artigo, dica e conversa é um passo a mais para uma vida mais saudável e feliz para nossos pets.
        </p><br>
    </main>
    <div class="mt-5">
        <div class="wave-container">
            <svg viewBox="0 0 1366 48" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-eeb6fc76="">
                <path
                    d="M336.091 0C49.0433 0 0 48 0 48L1366 48V0C1366 0 1283.78 37.5061 1005.39 37.5061C726.995 37.5061 623.138 0 336.091 0Z"
                    fill="#3569A6" data-v-eeb6fc76=""></path>
            </svg>
        </div>
    </div>
    <div class="team flex-column">
        <div class="container">

            <h1 class="fonte-titulo nossa-equipe">Nossa Equipe</h1>
            <div class="d-flex justify-content-around">
                <div class="team-member">
                    <img src="/static/img/alunas/brenda.jpg" alt="Brenda Souza Oliveira">
                    <h3>Brenda Souza</h3>
                </div>
                <div class="team-member">
                    <img src="/static/img/alunas/kauany.jpg" alt="Kauany Stefany Gomes de Oliveira">
                    <h3>Kauany Stefany</h3>
                </div>
                <div class="team-member">
                    <img src="/static/img/alunas/luana.jpg" alt="Luana Santos Neves">
                    <h3>Luana Santos</h3>
                </div>
                <div class="team-member">
                    <img src="/static/img/alunas/sofia.jpg" alt="Sofia Koppe Fernandes Bettcher">
                    <h3>Sofia Koppe</h3>
                </div>
            </div>
        </div>
    </div>
    <div class="mb-5">
        <svg viewBox="0 0 1366 48" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-eeb6fc76="">
            <path
                d="M1029.91 48C1316.96 48 1366 0 1366 0L0 0V48C0 48 82.2194 10.4939 360.612 10.4939C639.005 10.4939 742.862 48 1029.91 48Z"
                fill="#3569A6" data-v-eeb6fc76=""></path>
        </svg>
    </div>

</body>

</html>
{% endblock %}
```

# antigo/templates/publico/redefinir_senha.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Redefinir Senha</h1>
<hr>
{% endblock %}
```

# antigo/templates/publico/tutor.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Página do Tutor</h1>
<hr>
{% endblock %}
```

# antigo/templates/publico/veterinario.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Página do Veterinário</h1>
<hr>
{% endblock %}
```

# antigo/templates/tutor/excluir_postagem_feed.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Excluir Postagem Feed Tutor</h1>
<hr>
{% endblock %}
```

# antigo/templates/tutor/fazer_postagem_feed.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Fazer Postagem Feed Tutor</h1>
<hr>
{% endblock %}
```

# antigo/templates/tutor/home_tutor.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Home Tutor</h1>
<hr>
{% endblock %}
```

# antigo/templates/tutor/listar_postagens_feed.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Listar Postagem Feed Tutor</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/alterar_dados.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Alterar Dados</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/alterar_senha.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Alterar Senha</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/comentar.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Comentar</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/comentarios.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Comentarios</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/curtidas.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Curtidas</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/denunciar.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Denunciar</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/excluir_comentario.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Excluir Comentarios</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/solicitacoes_chamado.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Solicitações de Chamado</h1>
<hr>
{% endblock %}
```

# antigo/templates/usuario/solicitar_chamado.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Solicitar Chamado</h1>
<hr>
{% endblock %}
```

# antigo/templates/veterinario/alterar_postagem_artigo.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Alterar Postagem Artigo</h1>
<hr>
{% endblock %}
```

# antigo/templates/veterinario/cadastrar_postagem_artigo.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Criar Publicação - VetConecta</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/cadastrar_postagem.css">
</head>
<body class="bg-light">

  <!-- Container -->
  <div class="container my-5">
    <div class="card shadow p-4">
      <h2 class="mb-4 text-center fw-bold">Criar Publicação</h2>
      <form>
        <div class="mb-3">
          <label for="titulo" class="form-label">Título</label>
          <input type="text" class="form-control" id="titulo" placeholder="Digite o título do artigo">
        </div>
        <div class="mb-3">
          <label for="categoria" class="form-label">Categoria</label>
          <select class="form-select" id="categoria">
            <option selected>Escolha uma categoria</option>
            <option value="1">Cuidados</option>
            <option value="2">Alimentação</option>
            <option value="3">Bem-estar</option>
            <option value="4">Curiosidades</option>
          </select>
        </div>
        <div class="mb-3">
          <label for="conteudo" class="form-label">Conteúdo</label>
          <textarea class="form-control" id="conteudo" rows="6" placeholder="Escreva aqui sua publicação..."></textarea>
        </div>
        <div class="mb-3">
            <label class="form-label">Imagem</label>
            <input class="form-control" type="file" id="formFile">
        </div>

        <div class="upload-area mb-4" id="uploadArea"> <!-- adicionei mb-4 -->
            <div class="upload-icon">☁️</div>
            <p>Clique ou arraste o arquivo</p>
            <input type="file" id="formFileHidden" hidden>
        </div>

<div class="text-center">
  <button type="submit" class="btn custom-btn">Publicar</button>
</div>

      </form>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

{% endblock %}
```

# antigo/templates/veterinario/excluir_postagem_artigo.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Excluir Postagem Artigo</h1>
<hr>
{% endblock %}
```

# antigo/templates/veterinario/fazer_solicitacao_crmv.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Fazer Solicitação CRMV</h1>
<hr>
{% endblock %}
```

# antigo/templates/veterinario/listar_estatisticas.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Listar Estatisticas</h1>
<hr>
{% endblock %}
```

# antigo/templates/veterinario/listar_postagem_artigo.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Listar Postagem Artigo</h1>
<hr>
{% endblock %}
```

# antigo/templates/veterinario/obter_solicitacao_crmv.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Obter Solicitação CRMV</h1>
<hr>
{% endblock %}
```

# antigo/templates/veterinario/veterinario_home.html

```html
{% extends "base_publica.html" %}
{% block conteudo %}
<h1>Home Veterinário</h1>
<hr>
{% endblock %}
```

# config/__init__.py

```py

```

# config/upload_config.py

```py
"""
Configurações de Upload de Arquivos
"""
from pathlib import Path
from typing import Set


class UploadConfig:
    """Configurações centralizadas para upload de arquivos"""

    # Diretórios    
    USUARIOS_DIR = Path("static/img/usuarios")      

    # Formato de nome de arquivo para fotos de usuários
    FOTO_USUARIO_PATTERN = "{:08d}"  # Formato: 00000123 (8 dígitos)

    # Limites de tamanho
    MAX_FILE_SIZE = 5 * 1024 * 1024  # 5MB
    MAX_FILE_SIZE_MB = 5

    # Dimensões de imagem
    MAX_WIDTH = 2048
    MAX_HEIGHT = 2048
    MIN_WIDTH = 100
    MIN_HEIGHT = 100

    # Tipos permitidos
    ALLOWED_EXTENSIONS: Set[str] = {'.jpg', '.jpeg', '.png', '.webp'}
    ALLOWED_MIME_TYPES: Set[str] = {
        'image/jpeg',
        'image/png',
        'image/webp'
    }

    # Magic bytes para validação
    MAGIC_BYTES = {
        b'\xFF\xD8\xFF': 'jpeg',
        b'\x89\x50\x4E\x47\x0D\x0A\x1A\x0A': 'png',
        b'RIFF': 'webp'  # Seguido por 'WEBP' nos bytes 8-11
    }

    # Permissões
    DIR_PERMISSIONS = 0o755
    FILE_PERMISSIONS = 0o644

    # Timeouts
    UPLOAD_TIMEOUT = 30  # segundos

    @classmethod
    def init_directories(cls):
        """Cria diretórios necessários com permissões corretas"""
        for directory in [cls.USUARIOS_DIR]:
            directory.mkdir(parents=True, exist_ok=True)
            directory.chmod(cls.DIR_PERMISSIONS)


# Inicializar na inicialização da aplicação
UploadConfig.init_directories()

```

# dados.db-shm

This is a binary file of the type: Binary

# dados.db-wal

```db-wal

```

# Dockerfile

```
FROM ubuntu:22.04
RUN apt-get update
RUN apt-get install -y python3 python3-pip git

WORKDIR /app

RUN git clone https://github.com/KauanyStefany/VetConectaNovo.git .
RUN pip3 install --no-cache-dir -r requirements.txt

CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "80"]
```

# dtos/__init__.py

```py
"""
Pacote de DTOs do sistema.

Este módulo centraliza todos os DTOs (Data Transfer Objects) organizados por funcionalidade:
- BaseDTO: Classe base com configurações comuns
- usuario_dto: DTOs relacionados a usuários

Imports facilitados para os DTOs mais comuns:
"""

# Base
from .base_dto import BaseDTO

# Usuário
from .usuario_dto import (
    CriarUsuarioDTO,
    AtualizarUsuarioDTO
)

__all__ = [
    # Base
    'BaseDTO',

    # Usuário
    'CriarUsuarioDTO',
    'AtualizarUsuarioDTO',
]
```

# dtos/admin_dto.py

```py
from pydantic import field_validator
from typing import Optional
from .base_dto import BaseDTO
from util.validacoes_dto import validar_texto_obrigatorio

class CriarAdminDTO(BaseDTO):
    """
    DTO para criação de novo administrador.
    Usado em formulários de registro de admin.
    """

    nome: str
    email: str
    senha: str

    @field_validator('nome')
    @classmethod
    def validar_nome(cls, v: str) -> str:
        validador = cls.validar_campo_wrapper(
            lambda valor, campo: validar_texto_obrigatorio(
                valor, campo, min_chars=2, max_chars=100
            ),
            "Nome"
        )
        return validador(v)

    @field_validator('senha')
    @classmethod
    def validar_senha(cls, v: str) -> str:
        if not v or not v.strip():
            raise ValueError('Senha é obrigatória')
        if len(v.strip()) != 8:
            raise ValueError('Senha deve ter exatamente 8 caracteres')
        return v

class AtualizarAdminDTO(BaseDTO):
    """
    DTO para atualização de dados do administrador.
    Campos opcionais para atualização parcial.
    """

    nome: str
    senha: str

    @field_validator('nome')
    @classmethod
    def validar_nome(cls, v: Optional[str]) -> Optional[str]:
        if not v:
            return v
        validador = cls.validar_campo_wrapper(
            lambda valor, campo: validar_texto_obrigatorio(
                valor, campo, min_chars=2, max_chars=100
            ),
            "Nome"
        )
        return validador(v)

    @field_validator('senha')
    @classmethod
    def validar_senha(cls, v: Optional[str]) -> Optional[str]:
        if not v:
            return v
        if len(v.strip()) != 8:
            raise ValueError('Senha deve ter exatamente 8 caracteres')
        return v

```

# dtos/auth_dto.py

```py
from pydantic import field_validator, model_validator

from model.enums import PerfilUsuario
from .base_dto import BaseDTO
from util.validacoes_dto import (
    validar_email,
    validar_enum_valor,
    validar_nome_pessoa,
    validar_telefone,
    validar_crmv,
    validar_senha,
    validar_senhas_coincidem,
)


class LoginDTO(BaseDTO):
    email: str
    senha: str

    @field_validator("email")
    @classmethod
    def validar_email(cls, v: str) -> str:
        return validar_email(v)

    @field_validator("senha")
    @classmethod
    def validar_senha(cls, v: str) -> str:
        return validar_senha(v)


class CadastroBaseDTO(BaseDTO):
    nome: str
    email: str
    telefone: str
    senha: str
    confirmar_senha: str
    perfil: str

    @field_validator("nome")
    @classmethod
    def validar_nome(cls, v: str) -> str:
        return validar_nome_pessoa(v)

    @field_validator("telefone")
    @classmethod
    def validar_telefone(cls, v: str) -> str:
        return validar_telefone(v)

    @field_validator("senha")
    @classmethod
    def validar_senha(cls, v: str) -> str:
        return validar_senha(v, min_chars=8, max_chars=128)

    @field_validator("perfil")
    @classmethod
    def validar_perfil(cls, v: str) -> str:
        return validar_enum_valor(v, PerfilUsuario)

    @model_validator(mode="after")
    def validar_senhas_coincidem_model(self):
        validar_senhas_coincidem(self.senha, self.confirmar_senha)
        return self


class CadastroTutorDTO(CadastroBaseDTO):
    pass


class CadastroVeterinarioDTO(CadastroBaseDTO):
    crmv: str

    @field_validator("crmv")
    @classmethod
    def validar_crmv(cls, v: str) -> str:
        return validar_crmv(v)


class EsqueciSenhaDTO(BaseDTO):
    email: str

    @field_validator("email")
    @classmethod
    def validar_email(cls, v: str) -> str:
        return validar_email(v)


class RedefinirSenhaDTO(BaseDTO):
    senha: str
    confirmar_senha: str

    @field_validator("senha")
    @classmethod
    def validar_senha(cls, v: str) -> str:
        return validar_senha(v, min_chars=8, max_chars=128)

    @model_validator(mode="after")
    def validar_senhas_coincidem_model(self):
        validar_senhas_coincidem(self.senha, self.confirmar_senha)
        return self

```

# dtos/base_dto.py

```py
"""
Classe base para todos os DTOs do sistema.
Fornece configurações padrão e métodos de validação comuns.
"""

from pydantic import BaseModel, ConfigDict

class BaseDTO(BaseModel):
    """
    Classe base para todos os DTOs do sistema.
    Fornece configurações padrão e métodos de validação comuns.

    Esta classe implementa:
    - Configurações padrão do Pydantic
    - Wrapper para tratamento de erros de validação
    - Métodos auxiliares para conversão de dados
    """

    model_config = ConfigDict(
        # Remover espaços em branco automaticamente
        str_strip_whitespace=True,
        # Validar na atribuição também (não só na criação)
        validate_assignment=True,
        # Usar valores dos enums ao invés dos objetos
        use_enum_values=True,
        # Permitir population by name (útil para formulários HTML)
        populate_by_name=True,
        # Validar valores padrão também
        validate_default=True
    )

    def to_dict(self) -> dict:
        """
        Converte DTO para dicionário simples.
        Remove campos None para limpar o retorno.

        Returns:
            Dicionário com os dados do DTO
        """
        return self.model_dump(exclude_none=True)

    def to_json(self) -> str:
        """
        Converte DTO para JSON.
        Remove campos None para limpar o retorno.

        Returns:
            String JSON com os dados do DTO
        """
        return self.model_dump_json(exclude_none=True)

    @classmethod
    def from_dict(cls, data: dict):
        """
        Cria DTO a partir de dicionário.

        Args:
            data: Dicionário com os dados

        Returns:
            Instância do DTO
        """
        return cls(**data)

    def __str__(self) -> str:
        """Representação string melhorada do DTO"""
        campos = ', '.join([f"{k}={v}" for k, v in self.to_dict().items()])
        return f"{self.__class__.__name__}({campos})"

    def __repr__(self) -> str:
        """Representação técnica do DTO"""
        return self.__str__()

```

# dtos/categoria_artigo_dto.py

```py
from pydantic import BaseModel, field_validator
import re


class CategoriaCadastroDTO(BaseModel):
	nome: str
	cor: str
	imagem: str

	@field_validator('nome')
	@classmethod
	def validate_nome(cls, nome: str) -> str:
		if not nome or not nome.strip():
			raise ValueError('Nome é obrigatório')
		nome_stripped = nome.strip()
		if len(nome_stripped) < 5:
			raise ValueError('Nome deve ter pelo menos 5 caracteres')
		return nome_stripped

	@field_validator('cor')
	@classmethod
	def validate_cor(cls, cor: str) -> str:
		if not cor or not cor.strip():
			raise ValueError('Cor é obrigatória')
		cor = cor.strip()
		# aceitar formatos como #fff ou #ffffff
		if not re.match(r'^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$', cor):
			raise ValueError('Formato de cor inválido. Use hexadecimal (#RRGGBB ou #RGB)')
		return cor

	@field_validator('imagem')
	@classmethod
	def validate_imagem(cls, imagem: str) -> str:
		if not imagem or not imagem.strip():
			raise ValueError('Imagem é obrigatória')
		imagem = imagem.strip()
		# validação simples: aceitar caminhos/nomes com extensão comum
		if not re.search(r'\.(jpg|jpeg|png|gif)$', imagem, re.IGNORECASE):
			raise ValueError('Imagem deve ser um arquivo com extensão JPG, JPEG, PNG ou GIF')
		return imagem

```

# dtos/chamado_dto.py

```py
from pydantic import BaseModel, field_validator


class ChamadoDTO(BaseModel):
    titulo: str
    descricao: str

    @field_validator('titulo')
    @classmethod
    def validate_titulo(cls, titulo):
        if not titulo or not titulo.strip():
            raise ValueError('Título é obrigatório')
        if len(titulo.split()) < 2:
            raise ValueError('Título deve ter pelo menos 2 palavras')
        return titulo.strip()

    @field_validator('descricao')
    @classmethod
    def validate_descricao(cls, descricao):
        if not descricao or not descricao.strip():
            raise ValueError('Descrição é obrigatória')
        if len(descricao.split()) < 5:
            raise ValueError('Descrição deve ter pelo menos 5 palavras')
        return descricao.strip()
```

# dtos/comentario_dto.py

```py
from pydantic import BaseModel, field_validator
from typing import Optional
from datetime import datetime


class ComentarioDTO(BaseModel):
    id_postagem_artigo: int
    texto: str
    data_comentario: Optional[datetime] = None
    data_moderacao: Optional[datetime] = None

    @field_validator('texto')
    @classmethod
    def validate_texto(cls, texto):
        if not texto or not texto.strip():
            raise ValueError('Texto do comentário é obrigatório')
        if len(texto.split()) < 5:
            raise ValueError('Texto do comentário muito curto')
        if len(texto.strip()) > 2000:
            raise ValueError('Texto do comentário muito longo (máx. 2000 caracteres)')
        return texto.strip()


```

# dtos/denuncia_dto.py

```py
from pydantic import BaseModel, field_validator
from typing import Optional
from datetime import datetime

from model.enums import DenunciaStatus


class DenunciaDTO(BaseModel):
    motivo: str
    status: Optional[str] = None
    data_denuncia: Optional[datetime] = None

    @field_validator('motivo')
    @classmethod
    def validate_motivo(cls, motivo):
        if not motivo or not motivo.strip():
            raise ValueError('Motivo é obrigatório')
        if len(motivo.split()) < 5:
            raise ValueError('Motivo deve ter pelo menos 5 palavras')
        return motivo.strip()

    @field_validator('status')
    @classmethod
    def validate_status(cls, status):
        if status is None:
            return DenunciaStatus.PENDENTE.value
        if isinstance(status, DenunciaStatus):
            return status.value
        if status not in {s.value for s in DenunciaStatus}:
            raise ValueError(f'Status inválido. Valores possíveis: {[s.value for s in DenunciaStatus]}')
        return status

```

# dtos/postagem_artigo_dto.py

```py
from pydantic import BaseModel, field_validator

class PostagemArtigoDTO(BaseModel):

    titulo: str
    conteudo: str
    id_categoria_artigo: int

    @field_validator('titulo')
    @classmethod
    def validate_titulo(cls, v):
        if not v or not v.strip():
            raise ValueError('Título é obrigatório')
        if len(v.split()) < 2:
            raise ValueError('O título deve ter pelo menos 2 palavras')
        if len(v.split()) > 20:
            raise ValueError('O título deve ter no máximo 20 palavras')
        return v

    @field_validator('conteudo')
    @classmethod
    def validate_conteudo(cls, v):
        if not v or not v.strip():
            raise ValueError('Conteúdo é obrigatório')
        if len(v.split()) < 10:
            raise ValueError('Conteúdo deve ter pelo menos 10 palavras')
        return v

    @field_validator('id_categoria_artigo')
    @classmethod
    def validate_id_categoria_artigo(cls, v):
        if not isinstance(v, int) or v <= 0:
            raise ValueError('ID da categoria é obrigatório e deve ser positivo')
        return v
```

# dtos/postagem_feed_dto.py

```py
from pydantic import BaseModel, field_validator

class PostagemFeedDTO(BaseModel):
    imagem: str | None = None
    descricao: str | None = None

    @field_validator('descricao')
    @classmethod
    def validate_descricao(cls, v):
        if v is not None and not v.strip():
            raise ValueError('Descrição não pode ser vazia se fornecida')
        return v

    @field_validator('imagem')
    @classmethod
    def validate_imagem(cls, v):
        if v is not None:
            if not v.strip():
                raise ValueError('Imagem não pode ser vazia se fornecida')
            ext = v.lower().split('.')[-1]
            if ext not in ['jpg', 'jpeg', 'png']:
                raise ValueError('A imagem deve ser dos tipos: jpg, jpeg ou png')
        return v
```

# dtos/resposta_chamado_dto.py

```py
from pydantic import BaseModel, field_validator
from typing import Optional

class RespostaChamadoDTO(BaseModel):
    id_chamado: int
    titulo: str
    descricao: str
    data: Optional[str] = None  # data pode ser preenchida automaticamente

    @field_validator('id_chamado')
    @classmethod
    def validate_id_chamado(cls, v):
        if not isinstance(v, int) or v <= 0:
            raise ValueError('ID do chamado é obrigatório e deve ser positivo')
        return v

    @field_validator('titulo')
    @classmethod
    def validate_titulo(cls, v):
        if not v or not v.strip():
            raise ValueError('Título é obrigatório')
        if len(v.split()) < 5:
            raise ValueError('Título deve ter pelo menos 5 caracteres')
        if len(v.strip()) > 80:
            raise ValueError('Título deve ter no máximo 80 caracteres')
        return v

    @field_validator('descricao')
    @classmethod
    def validate_descricao(cls, v):
        if not v or not v.strip():
            raise ValueError('Descrição é obrigatória')
        if len(v.split()) < 10:
            raise ValueError('Descrição deve ter pelo menos 10 palavras')
        if len(v.strip()) > 500:
            raise ValueError('Descrição deve ter no máximo 500 caracteres')
        return v
```

# dtos/usuario_dto.py

```py
"""
DTOs relacionados a usuários.
Agrupa todas as validações e estruturas de dados para operações com usuários.
"""

from pydantic import EmailStr, Field, field_validator
from typing import Optional
from .base_dto import BaseDTO
from util.validacoes_dto import (
    validar_texto_obrigatorio, validar_telefone, validar_crmv
)


class CriarUsuarioDTO(BaseDTO):
    """
    DTO para criação de novo usuário.
    Usado em formulários de registro.
    """

    nome: str = Field(
        ...,
        min_length=2,
        max_length=100,
        description="Nome completo do usuário"
    )
    email: EmailStr = Field(
        ...,
        description="E-mail válido do usuário"
    )
    telefone: str = Field(
        ...,
        min_length=10,
        description="Telefone com DDD"
    )


    @field_validator('nome')
    @classmethod
    def validar_nome(cls, v: str) -> str:
        validador = cls.validar_campo_wrapper(
            lambda valor, campo: validar_texto_obrigatorio(
                valor, campo, min_chars=2, max_chars=100
            ),
            "Nome"
        )
        return validador(v)

    @field_validator('telefone')
    @classmethod
    def validar_telefone_campo(cls, v: str) -> str:
        validador = cls.validar_campo_wrapper(
            lambda valor, campo: validar_telefone(valor),
            "Telefone"
        )
        return validador(v)

    @classmethod
    def criar_exemplo_json(cls, **overrides) -> dict:
        """Exemplo de dados para documentação da API"""
        exemplo = {
            "nome": "João Silva",
            "email": "joao.silva@email.com",
            "telefone": "(11) 99999-9999",
        }
        exemplo.update(overrides)
        return exemplo


class AtualizarUsuarioDTO(BaseDTO):
    """
    DTO para atualização de dados do usuário.
    Campos opcionais para atualização parcial.
    """

    nome: Optional[str] = Field(
        None,
        min_length=2,
        max_length=100,
        description="Nome completo"
    )
    telefone: Optional[str] = Field(
        None,
        description="Telefone"
    )

    @field_validator('nome')
    @classmethod
    def validar_nome(cls, v: Optional[str]) -> Optional[str]:
        if not v:
            return v
        validador = cls.validar_campo_wrapper(
            lambda valor, campo: validar_texto_obrigatorio(
                valor, campo, min_chars=2, max_chars=100
            ),
            "Nome"
        )
        return validador(v)

    @field_validator('telefone')
    @classmethod
    def validar_telefone_campo(cls, v: Optional[str]) -> Optional[str]:
        if not v:
            return v
        validador = cls.validar_campo_wrapper(
            lambda valor, campo: validar_telefone(valor),
            "Telefone"
        )
        return validador(v)


# Configurar exemplos JSON nos model_config
CriarUsuarioDTO.model_config.update({
    "json_schema_extra": {
        "example": CriarUsuarioDTO.criar_exemplo_json()
    }
})
```

# htmlcov/.gitignore

```
# Created by coverage.py
*

```

# htmlcov/class_index.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage report</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="indexfile">
<header>
    <div class="content">
        <h1>Coverage report:
            <span class="pc_cov">19%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>f</kbd>
                        <kbd>n</kbd>
                        <kbd>s</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        <kbd>c</kbd>
                        &nbsp; change column sorting
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <form id="filter_container">
            <input id="filter" type="text" value="" placeholder="filter...">
            <div>
                <input id="hide100" type="checkbox" >
                <label for="hide100">hide covered</label>
            </div>
        </form>
        <h2>
                <a class="button" href="index.html">Files</a>
                <a class="button" href="function_index.html">Functions</a>
                <a class="button current">Classes</a>
        </h2>
        <p class="text">
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:31 -0300
        </p>
    </div>
</header>
<main id="index">
    <table class="index" data-sortable>
        <thead>
            <tr class="tablehead" title="Click to sort">
                <th id="file" class="name left" aria-sort="none" data-shortcut="f">File<span class="arrows"></span></th>
                <th id="region" class="name left" aria-sort="none" data-default-sort-order="ascending" data-shortcut="n">class<span class="arrows"></span></th>
                <th id="statements" aria-sort="none" data-default-sort-order="descending" data-shortcut="s">statements<span class="arrows"></span></th>
                <th id="missing" aria-sort="none" data-default-sort-order="descending" data-shortcut="m">missing<span class="arrows"></span></th>
                <th id="excluded" aria-sort="none" data-default-sort-order="descending" data-shortcut="x">excluded<span class="arrows"></span></th>
                <th id="coverage" class="right" aria-sort="none" data-shortcut="c">coverage<span class="arrows"></span></th>
            </tr>
        </thead>
        <tbody>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9___init___py.html">model/__init__.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9___init___py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_administrador_model_py.html#t4">model/administrador_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_administrador_model_py.html#t4"><data value='Administrador'>Administrador</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_administrador_model_py.html">model/administrador_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_administrador_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html#t4">model/categoria_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html#t4"><data value='CategoriaArtigo'>CategoriaArtigo</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html">model/categoria_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>6</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="6 6">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_chamado_model_py.html#t8">model/chamado_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_chamado_model_py.html#t8"><data value='Chamado'>Chamado</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_chamado_model_py.html">model/chamado_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_chamado_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>13</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="13 13">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_comentario_model_py.html#t7">model/comentario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_comentario_model_py.html#t7"><data value='ComentarioArtigo'>ComentarioArtigo</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_comentario_model_py.html">model/comentario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_comentario_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html#t6">model/curtida_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html#t6"><data value='CurtidaArtigo'>CurtidaArtigo</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html">model/curtida_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_feed_model_py.html#t6">model/curtida_feed_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_feed_model_py.html#t6"><data value='CurtidaFeed'>CurtidaFeed</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_feed_model_py.html">model/curtida_feed_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_feed_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_denuncia_model_py.html#t7">model/denuncia_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_denuncia_model_py.html#t7"><data value='Denuncia'>Denuncia</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_denuncia_model_py.html">model/denuncia_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_denuncia_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>12</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="12 12">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html#t3">model/enums.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html#t3"><data value='ChamadoStatus'>ChamadoStatus</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html#t8">model/enums.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html#t8"><data value='DenunciaStatus'>DenunciaStatus</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html#t14">model/enums.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html#t14"><data value='VerificacaoStatus'>VerificacaoStatus</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html#t20">model/enums.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html#t20"><data value='PerfilUsuario'>PerfilUsuario</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html">model/enums.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>19</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="19 19">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html#t5">model/postagem_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html#t5"><data value='PostagemArtigo'>PostagemArtigo</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html">model/postagem_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_feed_model_py.html#t5">model/postagem_feed_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_feed_model_py.html#t5"><data value='PostagemFeed'>PostagemFeed</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_feed_model_py.html">model/postagem_feed_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_feed_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html#t6">model/resposta_chamado_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html#t6"><data value='RespostaChamado'>RespostaChamado</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html">model/resposta_chamado_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>10</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="10 10">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_seguida_model_py.html#t6">model/seguida_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_seguida_model_py.html#t6"><data value='Seguida'>Seguida</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_seguida_model_py.html">model/seguida_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_seguida_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_tutor_model_py.html#t7">model/tutor_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_tutor_model_py.html#t7"><data value='Tutor'>Tutor</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_tutor_model_py.html">model/tutor_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_tutor_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_usuario_model_py.html#t5">model/usuario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_usuario_model_py.html#t5"><data value='Usuario'>Usuario</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_usuario_model_py.html">model/usuario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_usuario_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>13</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="13 13">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html#t7">model/verificacao_crmv_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html#t7"><data value='VerificacaoCRMV'>VerificacaoCRMV</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html">model/verificacao_crmv_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_veterinario_model_py.html#t7">model/veterinario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_veterinario_model_py.html#t7"><data value='Veterinario'>Veterinario</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_veterinario_model_py.html">model/veterinario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_veterinario_model_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e___init___py.html">repo/__init__.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e___init___py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>50</td>
                <td>38</td>
                <td>0</td>
                <td class="right" data-ratio="12 50">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>45</td>
                <td>34</td>
                <td>0</td>
                <td class="right" data-ratio="11 45">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html">repo/chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>43</td>
                <td>32</td>
                <td>0</td>
                <td class="right" data-ratio="11 43">26%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html">repo/comentario_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>43</td>
                <td>32</td>
                <td>0</td>
                <td class="right" data-ratio="11 43">26%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">repo/curtida_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>83</td>
                <td>72</td>
                <td>0</td>
                <td class="right" data-ratio="11 83">13%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html">repo/curtida_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>37</td>
                <td>28</td>
                <td>0</td>
                <td class="right" data-ratio="9 37">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html">repo/denuncia_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>48</td>
                <td>37</td>
                <td>0</td>
                <td class="right" data-ratio="11 48">23%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>55</td>
                <td>42</td>
                <td>0</td>
                <td class="right" data-ratio="13 55">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>50</td>
                <td>38</td>
                <td>0</td>
                <td class="right" data-ratio="12 50">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html">repo/resposta_chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>50</td>
                <td>40</td>
                <td>0</td>
                <td class="right" data-ratio="10 50">20%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html">repo/seguida_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>56</td>
                <td>46</td>
                <td>0</td>
                <td class="right" data-ratio="10 56">18%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>74</td>
                <td>62</td>
                <td>0</td>
                <td class="right" data-ratio="12 74">16%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>91</td>
                <td>74</td>
                <td>0</td>
                <td class="right" data-ratio="17 91">19%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html">repo/verificacao_crmv_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>43</td>
                <td>32</td>
                <td>0</td>
                <td class="right" data-ratio="11 43">26%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>62</td>
                <td>49</td>
                <td>0</td>
                <td class="right" data-ratio="13 62">21%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869___init___py.html">util/__init__.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869___init___py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>49</td>
                <td>49</td>
                <td>1</td>
                <td class="right" data-ratio="0 49">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html">util/data_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>56</td>
                <td>56</td>
                <td>0</td>
                <td class="right" data-ratio="0 56">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>163</td>
                <td>142</td>
                <td>0</td>
                <td class="right" data-ratio="21 163">13%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html">util/enum_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>20</td>
                <td>20</td>
                <td>0</td>
                <td class="right" data-ratio="0 20">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html">util/error_handlers.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>37</td>
                <td>37</td>
                <td>0</td>
                <td class="right" data-ratio="0 37">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t7">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t7"><data value='LojaVirtualError'>LojaVirtualError</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t15">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t15"><data value='ValidacaoError'>ValidacaoError</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t23">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t23"><data value='RecursoNaoEncontradoError'>RecursoNaoEncontradoError</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t32">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t32"><data value='BancoDadosError'>BancoDadosError</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t15">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t15"><data value='FileManager'>FileManager</data></a></td>
                <td>66</td>
                <td>66</td>
                <td>0</td>
                <td class="right" data-ratio="0 66">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>19</td>
                <td>19</td>
                <td>0</td>
                <td class="right" data-ratio="0 19">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t13">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t13"><data value='FileValidationError'>FileValidationError</data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t18">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t18"><data value='FileValidator'>FileValidator</data></a></td>
                <td>77</td>
                <td>77</td>
                <td>0</td>
                <td class="right" data-ratio="0 77">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>25</td>
                <td>25</td>
                <td>0</td>
                <td class="right" data-ratio="0 25">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html">util/flash_messages.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>17</td>
                <td>17</td>
                <td>0</td>
                <td class="right" data-ratio="0 17">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html">util/middlewares.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>55</td>
                <td>55</td>
                <td>0</td>
                <td class="right" data-ratio="0 55">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html">util/model_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>25</td>
                <td>25</td>
                <td>0</td>
                <td class="right" data-ratio="0 25">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>42</td>
                <td>42</td>
                <td>1</td>
                <td class="right" data-ratio="0 42">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_security_py.html">util/security.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_security_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>28</td>
                <td>28</td>
                <td>0</td>
                <td class="right" data-ratio="0 28">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_template_util_py.html">util/template_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_template_util_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>13</td>
                <td>13</td>
                <td>0</td>
                <td class="right" data-ratio="0 13">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html"><data value=''><span class='no-noun'>(no class)</span></data></a></td>
                <td>117</td>
                <td>117</td>
                <td>0</td>
                <td class="right" data-ratio="0 117">0%</td>
            </tr>
        </tbody>
        <tfoot>
            <tr class="total">
                <td class="name left">Total</td>
                <td class="name left">&nbsp;</td>
                <td>1819</td>
                <td>1465</td>
                <td>2</td>
                <td class="right" data-ratio="354 1819">19%</td>
            </tr>
        </tfoot>
    </table>
    <p id="no_rows">
        No items found using the specified filter.
    </p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:31 -0300
        </p>
    </div>
    <aside class="hidden">
        <a id="prevFileLink" class="nav" href=""></a>
        <a id="nextFileLink" class="nav" href=""></a>
        <button type="button" class="button_prev_file" data-shortcut="["></button>
        <button type="button" class="button_next_file" data-shortcut="]"></button>
        <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
    </aside>
</footer>
</body>
</html>

```

# htmlcov/coverage_html_cb_6fb7b396.js

```js
// Licensed under the Apache License: http://www.apache.org/licenses/LICENSE-2.0
// For details: https://github.com/nedbat/coveragepy/blob/master/NOTICE.txt

// Coverage.py HTML report browser code.
/*jslint browser: true, sloppy: true, vars: true, plusplus: true, maxerr: 50, indent: 4 */
/*global coverage: true, document, window, $ */

coverage = {};

// General helpers
function debounce(callback, wait) {
    let timeoutId = null;
    return function(...args) {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => {
            callback.apply(this, args);
        }, wait);
    };
};

function checkVisible(element) {
    const rect = element.getBoundingClientRect();
    const viewBottom = Math.max(document.documentElement.clientHeight, window.innerHeight);
    const viewTop = 30;
    return !(rect.bottom < viewTop || rect.top >= viewBottom);
}

function on_click(sel, fn) {
    const elt = document.querySelector(sel);
    if (elt) {
        elt.addEventListener("click", fn);
    }
}

// Helpers for table sorting
function getCellValue(row, column = 0) {
    const cell = row.cells[column]  // nosemgrep: eslint.detect-object-injection
    if (cell.childElementCount == 1) {
        var child = cell.firstElementChild;
        if (child.tagName === "A") {
            child = child.firstElementChild;
        }
        if (child instanceof HTMLDataElement && child.value) {
            return child.value;
        }
    }
    return cell.innerText || cell.textContent;
}

function rowComparator(rowA, rowB, column = 0) {
    let valueA = getCellValue(rowA, column);
    let valueB = getCellValue(rowB, column);
    if (!isNaN(valueA) && !isNaN(valueB)) {
        return valueA - valueB;
    }
    return valueA.localeCompare(valueB, undefined, {numeric: true});
}

function sortColumn(th) {
    // Get the current sorting direction of the selected header,
    // clear state on other headers and then set the new sorting direction.
    const currentSortOrder = th.getAttribute("aria-sort");
    [...th.parentElement.cells].forEach(header => header.setAttribute("aria-sort", "none"));
    var direction;
    if (currentSortOrder === "none") {
        direction = th.dataset.defaultSortOrder || "ascending";
    }
    else if (currentSortOrder === "ascending") {
        direction = "descending";
    }
    else {
        direction = "ascending";
    }
    th.setAttribute("aria-sort", direction);

    const column = [...th.parentElement.cells].indexOf(th)

    // Sort all rows and afterwards append them in order to move them in the DOM.
    Array.from(th.closest("table").querySelectorAll("tbody tr"))
        .sort((rowA, rowB) => rowComparator(rowA, rowB, column) * (direction === "ascending" ? 1 : -1))
        .forEach(tr => tr.parentElement.appendChild(tr));

    // Save the sort order for next time.
    if (th.id !== "region") {
        let th_id = "file";  // Sort by file if we don't have a column id
        let current_direction = direction;
        const stored_list = localStorage.getItem(coverage.INDEX_SORT_STORAGE);
        if (stored_list) {
            ({th_id, direction} = JSON.parse(stored_list))
        }
        localStorage.setItem(coverage.INDEX_SORT_STORAGE, JSON.stringify({
            "th_id": th.id,
            "direction": current_direction
        }));
        if (th.id !== th_id || document.getElementById("region")) {
            // Sort column has changed, unset sorting by function or class.
            localStorage.setItem(coverage.SORTED_BY_REGION, JSON.stringify({
                "by_region": false,
                "region_direction": current_direction
            }));
        }
    }
    else {
        // Sort column has changed to by function or class, remember that.
        localStorage.setItem(coverage.SORTED_BY_REGION, JSON.stringify({
            "by_region": true,
            "region_direction": direction
        }));
    }
}

// Find all the elements with data-shortcut attribute, and use them to assign a shortcut key.
coverage.assign_shortkeys = function () {
    document.querySelectorAll("[data-shortcut]").forEach(element => {
        document.addEventListener("keypress", event => {
            if (event.target.tagName.toLowerCase() === "input") {
                return; // ignore keypress from search filter
            }
            if (event.key === element.dataset.shortcut) {
                element.click();
            }
        });
    });
};

// Create the events for the filter box.
coverage.wire_up_filter = function () {
    // Populate the filter and hide100 inputs if there are saved values for them.
    const saved_filter_value = localStorage.getItem(coverage.FILTER_STORAGE);
    if (saved_filter_value) {
        document.getElementById("filter").value = saved_filter_value;
    }
    const saved_hide100_value = localStorage.getItem(coverage.HIDE100_STORAGE);
    if (saved_hide100_value) {
        document.getElementById("hide100").checked = JSON.parse(saved_hide100_value);
    }

    // Cache elements.
    const table = document.querySelector("table.index");
    const table_body_rows = table.querySelectorAll("tbody tr");
    const no_rows = document.getElementById("no_rows");

    // Observe filter keyevents.
    const filter_handler = (event => {
        // Keep running total of each metric, first index contains number of shown rows
        const totals = new Array(table.rows[0].cells.length).fill(0);
        // Accumulate the percentage as fraction
        totals[totals.length - 1] = { "numer": 0, "denom": 0 };  // nosemgrep: eslint.detect-object-injection

        var text = document.getElementById("filter").value;
        // Store filter value
        localStorage.setItem(coverage.FILTER_STORAGE, text);
        const casefold = (text === text.toLowerCase());
        const hide100 = document.getElementById("hide100").checked;
        // Store hide value.
        localStorage.setItem(coverage.HIDE100_STORAGE, JSON.stringify(hide100));

        // Hide / show elements.
        table_body_rows.forEach(row => {
            var show = false;
            // Check the text filter.
            for (let column = 0; column < totals.length; column++) {
                cell = row.cells[column];
                if (cell.classList.contains("name")) {
                    var celltext = cell.textContent;
                    if (casefold) {
                        celltext = celltext.toLowerCase();
                    }
                    if (celltext.includes(text)) {
                        show = true;
                    }
                }
            }

            // Check the "hide covered" filter.
            if (show && hide100) {
                const [numer, denom] = row.cells[row.cells.length - 1].dataset.ratio.split(" ");
                show = (numer !== denom);
            }

            if (!show) {
                // hide
                row.classList.add("hidden");
                return;
            }

            // show
            row.classList.remove("hidden");
            totals[0]++;

            for (let column = 0; column < totals.length; column++) {
                // Accumulate dynamic totals
                cell = row.cells[column]  // nosemgrep: eslint.detect-object-injection
                if (cell.classList.contains("name")) {
                    continue;
                }
                if (column === totals.length - 1) {
                    // Last column contains percentage
                    const [numer, denom] = cell.dataset.ratio.split(" ");
                    totals[column]["numer"] += parseInt(numer, 10);  // nosemgrep: eslint.detect-object-injection
                    totals[column]["denom"] += parseInt(denom, 10);  // nosemgrep: eslint.detect-object-injection
                }
                else {
                    totals[column] += parseInt(cell.textContent, 10);  // nosemgrep: eslint.detect-object-injection
                }
            }
        });

        // Show placeholder if no rows will be displayed.
        if (!totals[0]) {
            // Show placeholder, hide table.
            no_rows.style.display = "block";
            table.style.display = "none";
            return;
        }

        // Hide placeholder, show table.
        no_rows.style.display = null;
        table.style.display = null;

        const footer = table.tFoot.rows[0];
        // Calculate new dynamic sum values based on visible rows.
        for (let column = 0; column < totals.length; column++) {
            // Get footer cell element.
            const cell = footer.cells[column];  // nosemgrep: eslint.detect-object-injection
            if (cell.classList.contains("name")) {
                continue;
            }

            // Set value into dynamic footer cell element.
            if (column === totals.length - 1) {
                // Percentage column uses the numerator and denominator,
                // and adapts to the number of decimal places.
                const match = /\.([0-9]+)/.exec(cell.textContent);
                const places = match ? match[1].length : 0;
                const { numer, denom } = totals[column];  // nosemgrep: eslint.detect-object-injection
                cell.dataset.ratio = `${numer} ${denom}`;
                // Check denom to prevent NaN if filtered files contain no statements
                cell.textContent = denom
                    ? `${(numer * 100 / denom).toFixed(places)}%`
                    : `${(100).toFixed(places)}%`;
            }
            else {
                cell.textContent = totals[column];  // nosemgrep: eslint.detect-object-injection
            }
        }
    });

    document.getElementById("filter").addEventListener("input", debounce(filter_handler));
    document.getElementById("hide100").addEventListener("input", debounce(filter_handler));

    // Trigger change event on setup, to force filter on page refresh
    // (filter value may still be present).
    document.getElementById("filter").dispatchEvent(new Event("input"));
    document.getElementById("hide100").dispatchEvent(new Event("input"));
};
coverage.FILTER_STORAGE = "COVERAGE_FILTER_VALUE";
coverage.HIDE100_STORAGE = "COVERAGE_HIDE100_VALUE";

// Set up the click-to-sort columns.
coverage.wire_up_sorting = function () {
    document.querySelectorAll("[data-sortable] th[aria-sort]").forEach(
        th => th.addEventListener("click", e => sortColumn(e.target))
    );

    // Look for a localStorage item containing previous sort settings:
    let th_id = "file", direction = "ascending";
    const stored_list = localStorage.getItem(coverage.INDEX_SORT_STORAGE);
    if (stored_list) {
        ({th_id, direction} = JSON.parse(stored_list));
    }
    let by_region = false, region_direction = "ascending";
    const sorted_by_region = localStorage.getItem(coverage.SORTED_BY_REGION);
    if (sorted_by_region) {
        ({
            by_region,
            region_direction
        } = JSON.parse(sorted_by_region));
    }

    const region_id = "region";
    if (by_region && document.getElementById(region_id)) {
        direction = region_direction;
    }
    // If we are in a page that has a column with id of "region", sort on
    // it if the last sort was by function or class.
    let th;
    if (document.getElementById(region_id)) {
        th = document.getElementById(by_region ? region_id : th_id);
    }
    else {
        th = document.getElementById(th_id);
    }
    th.setAttribute("aria-sort", direction === "ascending" ? "descending" : "ascending");
    th.click()
};

coverage.INDEX_SORT_STORAGE = "COVERAGE_INDEX_SORT_2";
coverage.SORTED_BY_REGION = "COVERAGE_SORT_REGION";

// Loaded on index.html
coverage.index_ready = function () {
    coverage.assign_shortkeys();
    coverage.wire_up_filter();
    coverage.wire_up_sorting();

    on_click(".button_prev_file", coverage.to_prev_file);
    on_click(".button_next_file", coverage.to_next_file);

    on_click(".button_show_hide_help", coverage.show_hide_help);
};

// -- pyfile stuff --

coverage.LINE_FILTERS_STORAGE = "COVERAGE_LINE_FILTERS";

coverage.pyfile_ready = function () {
    // If we're directed to a particular line number, highlight the line.
    var frag = location.hash;
    if (frag.length > 2 && frag[1] === "t") {
        document.querySelector(frag).closest(".n").classList.add("highlight");
        coverage.set_sel(parseInt(frag.substr(2), 10));
    }
    else {
        coverage.set_sel(0);
    }

    on_click(".button_toggle_run", coverage.toggle_lines);
    on_click(".button_toggle_mis", coverage.toggle_lines);
    on_click(".button_toggle_exc", coverage.toggle_lines);
    on_click(".button_toggle_par", coverage.toggle_lines);

    on_click(".button_next_chunk", coverage.to_next_chunk_nicely);
    on_click(".button_prev_chunk", coverage.to_prev_chunk_nicely);
    on_click(".button_top_of_page", coverage.to_top);
    on_click(".button_first_chunk", coverage.to_first_chunk);

    on_click(".button_prev_file", coverage.to_prev_file);
    on_click(".button_next_file", coverage.to_next_file);
    on_click(".button_to_index", coverage.to_index);

    on_click(".button_show_hide_help", coverage.show_hide_help);

    coverage.filters = undefined;
    try {
        coverage.filters = localStorage.getItem(coverage.LINE_FILTERS_STORAGE);
    } catch(err) {}

    if (coverage.filters) {
        coverage.filters = JSON.parse(coverage.filters);
    }
    else {
        coverage.filters = {run: false, exc: true, mis: true, par: true};
    }

    for (cls in coverage.filters) {
        coverage.set_line_visibilty(cls, coverage.filters[cls]);  // nosemgrep: eslint.detect-object-injection
    }

    coverage.assign_shortkeys();
    coverage.init_scroll_markers();
    coverage.wire_up_sticky_header();

    document.querySelectorAll("[id^=ctxs]").forEach(
        cbox => cbox.addEventListener("click", coverage.expand_contexts)
    );

    // Rebuild scroll markers when the window height changes.
    window.addEventListener("resize", coverage.build_scroll_markers);
};

coverage.toggle_lines = function (event) {
    const btn = event.target.closest("button");
    const category = btn.value
    const show = !btn.classList.contains("show_" + category);
    coverage.set_line_visibilty(category, show);
    coverage.build_scroll_markers();
    coverage.filters[category] = show;
    try {
        localStorage.setItem(coverage.LINE_FILTERS_STORAGE, JSON.stringify(coverage.filters));
    } catch(err) {}
};

coverage.set_line_visibilty = function (category, should_show) {
    const cls = "show_" + category;
    const btn = document.querySelector(".button_toggle_" + category);
    if (btn) {
        if (should_show) {
            document.querySelectorAll("#source ." + category).forEach(e => e.classList.add(cls));
            btn.classList.add(cls);
        }
        else {
            document.querySelectorAll("#source ." + category).forEach(e => e.classList.remove(cls));
            btn.classList.remove(cls);
        }
    }
};

// Return the nth line div.
coverage.line_elt = function (n) {
    return document.getElementById("t" + n)?.closest("p");
};

// Set the selection.  b and e are line numbers.
coverage.set_sel = function (b, e) {
    // The first line selected.
    coverage.sel_begin = b;
    // The next line not selected.
    coverage.sel_end = (e === undefined) ? b+1 : e;
};

coverage.to_top = function () {
    coverage.set_sel(0, 1);
    coverage.scroll_window(0);
};

coverage.to_first_chunk = function () {
    coverage.set_sel(0, 1);
    coverage.to_next_chunk();
};

coverage.to_prev_file = function () {
    window.location = document.getElementById("prevFileLink").href;
}

coverage.to_next_file = function () {
    window.location = document.getElementById("nextFileLink").href;
}

coverage.to_index = function () {
    location.href = document.getElementById("indexLink").href;
}

coverage.show_hide_help = function () {
    const helpCheck = document.getElementById("help_panel_state")
    helpCheck.checked = !helpCheck.checked;
}

// Return a string indicating what kind of chunk this line belongs to,
// or null if not a chunk.
coverage.chunk_indicator = function (line_elt) {
    const classes = line_elt?.className;
    if (!classes) {
        return null;
    }
    const match = classes.match(/\bshow_\w+\b/);
    if (!match) {
        return null;
    }
    return match[0];
};

coverage.to_next_chunk = function () {
    const c = coverage;

    // Find the start of the next colored chunk.
    var probe = c.sel_end;
    var chunk_indicator, probe_line;
    while (true) {
        probe_line = c.line_elt(probe);
        if (!probe_line) {
            return;
        }
        chunk_indicator = c.chunk_indicator(probe_line);
        if (chunk_indicator) {
            break;
        }
        probe++;
    }

    // There's a next chunk, `probe` points to it.
    var begin = probe;

    // Find the end of this chunk.
    var next_indicator = chunk_indicator;
    while (next_indicator === chunk_indicator) {
        probe++;
        probe_line = c.line_elt(probe);
        next_indicator = c.chunk_indicator(probe_line);
    }
    c.set_sel(begin, probe);
    c.show_selection();
};

coverage.to_prev_chunk = function () {
    const c = coverage;

    // Find the end of the prev colored chunk.
    var probe = c.sel_begin-1;
    var probe_line = c.line_elt(probe);
    if (!probe_line) {
        return;
    }
    var chunk_indicator = c.chunk_indicator(probe_line);
    while (probe > 1 && !chunk_indicator) {
        probe--;
        probe_line = c.line_elt(probe);
        if (!probe_line) {
            return;
        }
        chunk_indicator = c.chunk_indicator(probe_line);
    }

    // There's a prev chunk, `probe` points to its last line.
    var end = probe+1;

    // Find the beginning of this chunk.
    var prev_indicator = chunk_indicator;
    while (prev_indicator === chunk_indicator) {
        probe--;
        if (probe <= 0) {
            return;
        }
        probe_line = c.line_elt(probe);
        prev_indicator = c.chunk_indicator(probe_line);
    }
    c.set_sel(probe+1, end);
    c.show_selection();
};

// Returns 0, 1, or 2: how many of the two ends of the selection are on
// the screen right now?
coverage.selection_ends_on_screen = function () {
    if (coverage.sel_begin === 0) {
        return 0;
    }

    const begin = coverage.line_elt(coverage.sel_begin);
    const end = coverage.line_elt(coverage.sel_end-1);

    return (
        (checkVisible(begin) ? 1 : 0)
        + (checkVisible(end) ? 1 : 0)
    );
};

coverage.to_next_chunk_nicely = function () {
    if (coverage.selection_ends_on_screen() === 0) {
        // The selection is entirely off the screen:
        // Set the top line on the screen as selection.

        // This will select the top-left of the viewport
        // As this is most likely the span with the line number we take the parent
        const line = document.elementFromPoint(0, 0).parentElement;
        if (line.parentElement !== document.getElementById("source")) {
            // The element is not a source line but the header or similar
            coverage.select_line_or_chunk(1);
        }
        else {
            // We extract the line number from the id
            coverage.select_line_or_chunk(parseInt(line.id.substring(1), 10));
        }
    }
    coverage.to_next_chunk();
};

coverage.to_prev_chunk_nicely = function () {
    if (coverage.selection_ends_on_screen() === 0) {
        // The selection is entirely off the screen:
        // Set the lowest line on the screen as selection.

        // This will select the bottom-left of the viewport
        // As this is most likely the span with the line number we take the parent
        const line = document.elementFromPoint(document.documentElement.clientHeight-1, 0).parentElement;
        if (line.parentElement !== document.getElementById("source")) {
            // The element is not a source line but the header or similar
            coverage.select_line_or_chunk(coverage.lines_len);
        }
        else {
            // We extract the line number from the id
            coverage.select_line_or_chunk(parseInt(line.id.substring(1), 10));
        }
    }
    coverage.to_prev_chunk();
};

// Select line number lineno, or if it is in a colored chunk, select the
// entire chunk
coverage.select_line_or_chunk = function (lineno) {
    var c = coverage;
    var probe_line = c.line_elt(lineno);
    if (!probe_line) {
        return;
    }
    var the_indicator = c.chunk_indicator(probe_line);
    if (the_indicator) {
        // The line is in a highlighted chunk.
        // Search backward for the first line.
        var probe = lineno;
        var indicator = the_indicator;
        while (probe > 0 && indicator === the_indicator) {
            probe--;
            probe_line = c.line_elt(probe);
            if (!probe_line) {
                break;
            }
            indicator = c.chunk_indicator(probe_line);
        }
        var begin = probe + 1;

        // Search forward for the last line.
        probe = lineno;
        indicator = the_indicator;
        while (indicator === the_indicator) {
            probe++;
            probe_line = c.line_elt(probe);
            indicator = c.chunk_indicator(probe_line);
        }

        coverage.set_sel(begin, probe);
    }
    else {
        coverage.set_sel(lineno);
    }
};

coverage.show_selection = function () {
    // Highlight the lines in the chunk
    document.querySelectorAll("#source .highlight").forEach(e => e.classList.remove("highlight"));
    for (let probe = coverage.sel_begin; probe < coverage.sel_end; probe++) {
        coverage.line_elt(probe).querySelector(".n").classList.add("highlight");
    }

    coverage.scroll_to_selection();
};

coverage.scroll_to_selection = function () {
    // Scroll the page if the chunk isn't fully visible.
    if (coverage.selection_ends_on_screen() < 2) {
        const element = coverage.line_elt(coverage.sel_begin);
        coverage.scroll_window(element.offsetTop - 60);
    }
};

coverage.scroll_window = function (to_pos) {
    window.scroll({top: to_pos, behavior: "smooth"});
};

coverage.init_scroll_markers = function () {
    // Init some variables
    coverage.lines_len = document.querySelectorAll("#source > p").length;

    // Build html
    coverage.build_scroll_markers();
};

coverage.build_scroll_markers = function () {
    const temp_scroll_marker = document.getElementById("scroll_marker")
    if (temp_scroll_marker) temp_scroll_marker.remove();
    // Don't build markers if the window has no scroll bar.
    if (document.body.scrollHeight <= window.innerHeight) {
        return;
    }

    const marker_scale = window.innerHeight / document.body.scrollHeight;
    const line_height = Math.min(Math.max(3, window.innerHeight / coverage.lines_len), 10);

    let previous_line = -99, last_mark, last_top;

    const scroll_marker = document.createElement("div");
    scroll_marker.id = "scroll_marker";
    document.getElementById("source").querySelectorAll(
        "p.show_run, p.show_mis, p.show_exc, p.show_exc, p.show_par"
    ).forEach(element => {
        const line_top = Math.floor(element.offsetTop * marker_scale);
        const line_number = parseInt(element.querySelector(".n a").id.substr(1));

        if (line_number === previous_line + 1) {
            // If this solid missed block just make previous mark higher.
            last_mark.style.height = `${line_top + line_height - last_top}px`;
        }
        else {
            // Add colored line in scroll_marker block.
            last_mark = document.createElement("div");
            last_mark.id = `m${line_number}`;
            last_mark.classList.add("marker");
            last_mark.style.height = `${line_height}px`;
            last_mark.style.top = `${line_top}px`;
            scroll_marker.append(last_mark);
            last_top = line_top;
        }

        previous_line = line_number;
    });

    // Append last to prevent layout calculation
    document.body.append(scroll_marker);
};

coverage.wire_up_sticky_header = function () {
    const header = document.querySelector("header");
    const header_bottom = (
        header.querySelector(".content h2").getBoundingClientRect().top -
        header.getBoundingClientRect().top
    );

    function updateHeader() {
        if (window.scrollY > header_bottom) {
            header.classList.add("sticky");
        }
        else {
            header.classList.remove("sticky");
        }
    }

    window.addEventListener("scroll", updateHeader);
    updateHeader();
};

coverage.expand_contexts = function (e) {
    var ctxs = e.target.parentNode.querySelector(".ctxs");

    if (!ctxs.classList.contains("expanded")) {
        var ctxs_text = ctxs.textContent;
        var width = Number(ctxs_text[0]);
        ctxs.textContent = "";
        for (var i = 1; i < ctxs_text.length; i += width) {
            key = ctxs_text.substring(i, i + width).trim();
            ctxs.appendChild(document.createTextNode(contexts[key]));
            ctxs.appendChild(document.createElement("br"));
        }
        ctxs.classList.add("expanded");
    }
};

document.addEventListener("DOMContentLoaded", () => {
    if (document.body.classList.contains("indexfile")) {
        coverage.index_ready();
    }
    else {
        coverage.pyfile_ready();
    }
});

```

# htmlcov/function_index.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage report</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="indexfile">
<header>
    <div class="content">
        <h1>Coverage report:
            <span class="pc_cov">19%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>f</kbd>
                        <kbd>n</kbd>
                        <kbd>s</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        <kbd>c</kbd>
                        &nbsp; change column sorting
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <form id="filter_container">
            <input id="filter" type="text" value="" placeholder="filter...">
            <div>
                <input id="hide100" type="checkbox" >
                <label for="hide100">hide covered</label>
            </div>
        </form>
        <h2>
                <a class="button" href="index.html">Files</a>
                <a class="button current">Functions</a>
                <a class="button" href="class_index.html">Classes</a>
        </h2>
        <p class="text">
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:31 -0300
        </p>
    </div>
</header>
<main id="index">
    <table class="index" data-sortable>
        <thead>
            <tr class="tablehead" title="Click to sort">
                <th id="file" class="name left" aria-sort="none" data-shortcut="f">File<span class="arrows"></span></th>
                <th id="region" class="name left" aria-sort="none" data-default-sort-order="ascending" data-shortcut="n">function<span class="arrows"></span></th>
                <th id="statements" aria-sort="none" data-default-sort-order="descending" data-shortcut="s">statements<span class="arrows"></span></th>
                <th id="missing" aria-sort="none" data-default-sort-order="descending" data-shortcut="m">missing<span class="arrows"></span></th>
                <th id="excluded" aria-sort="none" data-default-sort-order="descending" data-shortcut="x">excluded<span class="arrows"></span></th>
                <th id="coverage" class="right" aria-sort="none" data-shortcut="c">coverage<span class="arrows"></span></th>
            </tr>
        </thead>
        <tbody>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9___init___py.html">model/__init__.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9___init___py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_administrador_model_py.html">model/administrador_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_administrador_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html">model/categoria_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>6</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="6 6">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_chamado_model_py.html">model/chamado_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_chamado_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>13</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="13 13">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_comentario_model_py.html">model/comentario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_comentario_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html">model/curtida_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_feed_model_py.html">model/curtida_feed_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_feed_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_denuncia_model_py.html">model/denuncia_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_denuncia_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>12</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="12 12">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html">model/enums.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>19</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="19 19">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html">model/postagem_artigo_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_feed_model_py.html">model/postagem_feed_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_feed_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html">model/resposta_chamado_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>10</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="10 10">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_seguida_model_py.html">model/seguida_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_seguida_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_tutor_model_py.html">model/tutor_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_tutor_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_usuario_model_py.html">model/usuario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_usuario_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>13</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="13 13">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html">model/verificacao_crmv_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_veterinario_model_py.html">model/veterinario_model.py</a></td>
                <td class="name left"><a href="z_6e2dbee8102cccb9_veterinario_model_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e___init___py.html">repo/__init__.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e___init___py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t7">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t7"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t18">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t18"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t25">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t25"><data value='atualizar'>atualizar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t32">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t32"><data value='atualizar_senha'>atualizar_senha</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t39">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t39"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t46">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t46"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t54">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t54"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t62">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html#t62"><data value='importar'>importar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html">repo/administrador_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>12</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="12 12">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t7">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t7"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t18">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t18"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t25">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t25"><data value='atualizar'>atualizar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t39">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t39"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t46">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t46"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t54">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t54"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t62">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html#t62"><data value='importar'>importar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html">repo/categoria_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t8">repo/chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t19">repo/chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t36">repo/chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t36"><data value='atualizar_status'>atualizar_status</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t43">repo/chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t43"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t50">repo/chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t50"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t69">repo/chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html#t69"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html">repo/chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t9">repo/comentario_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t9"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t20">repo/comentario_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t20"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t30">repo/comentario_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t30"><data value='atualizar'>atualizar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t44">repo/comentario_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t44"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t51">repo/comentario_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t51"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t69">repo/comentario_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html#t69"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html">repo/comentario_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t8">repo/curtida_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t19">repo/curtida_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t33">repo/curtida_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t33"><data value='excluir'>excluir</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t44">repo/curtida_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t44"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>20</td>
                <td>20</td>
                <td>0</td>
                <td class="right" data-ratio="0 20">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t75">repo/curtida_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t75"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>19</td>
                <td>19</td>
                <td>0</td>
                <td class="right" data-ratio="0 19">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t103">repo/curtida_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html#t103"><data value='contar_curtidas_por_artigo'>contar_curtidas_por_artigo</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">repo/curtida_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t7">repo/curtida_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t7"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t18">repo/curtida_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t18"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t25">repo/curtida_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t25"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t32">repo/curtida_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t32"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t47">repo/curtida_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html#t47"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html">repo/curtida_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>9</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="9 9">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t8">repo/denuncia_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t19">repo/denuncia_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t35">repo/denuncia_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t35"><data value='atualizar'>atualizar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t52">repo/denuncia_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t52"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t59">repo/denuncia_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t59"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t79">repo/denuncia_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html#t79"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html">repo/denuncia_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t8">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t19">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t34">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t34"><data value='atualizar'>atualizar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t49">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t49"><data value='incrementar_visualizacoes'>incrementar_visualizacoes</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t56">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t56"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t63">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t63"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t84">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t84"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t102">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html#t102"><data value='importar'>importar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html">repo/postagem_artigo_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>13</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="13 13">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t8">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t19">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t26">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t26"><data value='atualizar'>atualizar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t33">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t33"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t40">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t40"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t58">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t58"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t73">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html#t73"><data value='importar'>importar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html">repo/postagem_feed_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>12</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="12 12">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t7">repo/resposta_chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t7"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t18">repo/resposta_chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t18"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t28">repo/resposta_chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t28"><data value='atualizar'>atualizar</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t48">repo/resposta_chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t48"><data value='excluir'>excluir</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t59">repo/resposta_chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t59"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t76">repo/resposta_chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html#t76"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html">repo/resposta_chamado_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>10</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="10 10">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t8">repo/seguida_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t19">repo/seguida_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t30">repo/seguida_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t30"><data value='excluir'>excluir</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t41">repo/seguida_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t41"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>11</td>
                <td>11</td>
                <td>0</td>
                <td class="right" data-ratio="0 11">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t64">repo/seguida_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html#t64"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>11</td>
                <td>11</td>
                <td>0</td>
                <td class="right" data-ratio="0 11">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html">repo/seguida_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>10</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="10 10">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t8">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t19">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t37">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t37"><data value='atualizar'>atualizar</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t57">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t57"><data value='excluir'>excluir</data></a></td>
                <td>13</td>
                <td>13</td>
                <td>0</td>
                <td class="right" data-ratio="0 13">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t78">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t78"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>13</td>
                <td>13</td>
                <td>0</td>
                <td class="right" data-ratio="0 13">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t107">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t107"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>12</td>
                <td>12</td>
                <td>0</td>
                <td class="right" data-ratio="0 12">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t134">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html#t134"><data value='importar'>importar</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html">repo/tutor_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>12</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="12 12">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t7">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t7"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t18">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t18"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t34">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t34"><data value='atualizar'>atualizar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t44">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t44"><data value='atualizar_senha'>atualizar_senha</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t51">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t51"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t58">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t58"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t80">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t80"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t100">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t100"><data value='obter_por_email'>obter_por_email</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t121">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t121"><data value='atualizar_token'>atualizar_token</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t128">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t128"><data value='obter_por_token'>obter_por_token</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t149">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t149"><data value='limpar_token'>limpar_token</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t156">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t156"><data value='obter_todos_por_perfil'>obter_todos_por_perfil</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t178">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html#t178"><data value='importar'>importar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html">repo/usuario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>17</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="17 17">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t8">repo/verificacao_crmv_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t19">repo/verificacao_crmv_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t33">repo/verificacao_crmv_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t33"><data value='atualizar'>atualizar</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t40">repo/verificacao_crmv_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t40"><data value='excluir'>excluir</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t47">repo/verificacao_crmv_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t47"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t67">repo/verificacao_crmv_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html#t67"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html">repo/verificacao_crmv_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t8">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t8"><data value='criar_tabela'>criar_tabela</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t19">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t19"><data value='inserir'>inserir</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t37">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t37"><data value='atualizar'>atualizar</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t51">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t51"><data value='atualizar_verificacao'>atualizar_verificacao</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t58">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t58"><data value='excluir'>excluir</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t74">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t74"><data value='obter_pagina'>obter_pagina</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t99">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t99"><data value='obter_por_id'>obter_por_id</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t123">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html#t123"><data value='importar'>importar</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html">repo/veterinario_repo.py</a></td>
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>13</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="13 13">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869___init___py.html">util/__init__.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869___init___py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t10">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t10"><data value='obter_usuario_logado'>obter_usuario_logado</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t25">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t25"><data value='esta_logado'>esta_logado</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t38">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t38"><data value='criar_sessao'>criar_sessao</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t58">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t58"><data value='destruir_sessao'>destruir_sessao</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t69">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t69"><data value='requer_autenticacao'>requer_autenticacao</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>1</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t88">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t88"><data value='decorator'>requer_autenticacao.decorator</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t90">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html#t90"><data value='wrapper'>requer_autenticacao.decorator.wrapper</data></a></td>
                <td>23</td>
                <td>23</td>
                <td>0</td>
                <td class="right" data-ratio="0 23">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html">util/auth_decorator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>10</td>
                <td>10</td>
                <td>0</td>
                <td class="right" data-ratio="0 10">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html#t9">util/data_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html#t9"><data value='converter_para_date'>converter_para_date</data></a></td>
                <td>16</td>
                <td>16</td>
                <td>0</td>
                <td class="right" data-ratio="0 16">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html#t54">util/data_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html#t54"><data value='converter_para_datetime'>converter_para_datetime</data></a></td>
                <td>16</td>
                <td>16</td>
                <td>0</td>
                <td class="right" data-ratio="0 16">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html#t99">util/data_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html#t99"><data value='formatar_data'>formatar_data</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html#t134">util/data_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html#t134"><data value='formatar_datetime'>formatar_datetime</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html">util/data_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t17">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t17"><data value='get_db_path'>_get_db_path</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t22">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t22"><data value='criar_conexao'>_criar_conexao</data></a></td>
                <td>11</td>
                <td>11</td>
                <td>0</td>
                <td class="right" data-ratio="0 11">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t40">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t40"><data value='get_connection'>get_connection</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t54">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t54"><data value='get_connection_sem_commit'>get_connection_sem_commit</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t59">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t59"><data value='inicializar_banco'>inicializar_banco</data></a></td>
                <td>19</td>
                <td>19</td>
                <td>0</td>
                <td class="right" data-ratio="0 19">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t98">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t98"><data value='importar_admins'>importar_admins</data></a></td>
                <td>17</td>
                <td>17</td>
                <td>0</td>
                <td class="right" data-ratio="0 17">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t131">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t131"><data value='importar_tutores'>importar_tutores</data></a></td>
                <td>17</td>
                <td>17</td>
                <td>0</td>
                <td class="right" data-ratio="0 17">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t171">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t171"><data value='importar_veterinarios'>importar_veterinarios</data></a></td>
                <td>17</td>
                <td>17</td>
                <td>0</td>
                <td class="right" data-ratio="0 17">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t212">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t212"><data value='importar_categorias_artigos'>importar_categorias_artigos</data></a></td>
                <td>16</td>
                <td>16</td>
                <td>0</td>
                <td class="right" data-ratio="0 16">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t243">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t243"><data value='importar_postagens_artigos'>importar_postagens_artigos</data></a></td>
                <td>17</td>
                <td>17</td>
                <td>0</td>
                <td class="right" data-ratio="0 17">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t279">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html#t279"><data value='importar_postagens_feeds'>importar_postagens_feeds</data></a></td>
                <td>17</td>
                <td>17</td>
                <td>0</td>
                <td class="right" data-ratio="0 17">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html">util/db_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>21</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="21 21">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t11">util/enum_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t11"><data value='enum_para_valor'>enum_para_valor</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t34">util/enum_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t34"><data value='valor_para_enum'>valor_para_enum</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t66">util/enum_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t66"><data value='enum_para_nome'>enum_para_nome</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t90">util/enum_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t90"><data value='listar_valores_enum'>listar_valores_enum</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t111">util/enum_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html#t111"><data value='listar_nomes_enum'>listar_nomes_enum</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html">util/enum_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html#t14">util/error_handlers.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html#t14"><data value='tratar_erro_rota'>tratar_erro_rota</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html#t29">util/error_handlers.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html#t29"><data value='decorator'>tratar_erro_rota.decorator</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html#t31">util/error_handlers.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html#t31"><data value='wrapper'>tratar_erro_rota.decorator.wrapper</data></a></td>
                <td>24</td>
                <td>24</td>
                <td>0</td>
                <td class="right" data-ratio="0 24">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html">util/error_handlers.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t9">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t9"><data value='init__'>LojaVirtualError.__init__</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t17">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t17"><data value='init__'>ValidacaoError.__init__</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t25">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t25"><data value='init__'>RecursoNaoEncontradoError.__init__</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t34">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html#t34"><data value='init__'>BancoDadosError.__init__</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html">util/exceptions.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t19">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t19"><data value='salvar_arquivo'>FileManager.salvar_arquivo</data></a></td>
                <td>19</td>
                <td>19</td>
                <td>0</td>
                <td class="right" data-ratio="0 19">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t68">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t68"><data value='deletar_foto_antiga'>FileManager.deletar_foto_antiga</data></a></td>
                <td>13</td>
                <td>13</td>
                <td>0</td>
                <td class="right" data-ratio="0 13">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t93">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t93"><data value='verificar_espaco_disco'>FileManager.verificar_espaco_disco</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t110">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t110"><data value='gerar_nome_foto_usuario'>FileManager.gerar_nome_foto_usuario</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t129">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t129"><data value='obter_foto_usuario_existente'>FileManager.obter_foto_usuario_existente</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t153">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html#t153"><data value='deletar_todas_fotos_usuario'>FileManager.deletar_todas_fotos_usuario</data></a></td>
                <td>14</td>
                <td>14</td>
                <td>0</td>
                <td class="right" data-ratio="0 14">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html">util/file_manager.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>19</td>
                <td>19</td>
                <td>0</td>
                <td class="right" data-ratio="0 19">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t22">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t22"><data value='validar_imagem_completo'>FileValidator.validar_imagem_completo</data></a></td>
                <td>21</td>
                <td>21</td>
                <td>0</td>
                <td class="right" data-ratio="0 21">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t78">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t78"><data value='ler_com_limite'>FileValidator._ler_com_limite</data></a></td>
                <td>12</td>
                <td>12</td>
                <td>0</td>
                <td class="right" data-ratio="0 12">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t104">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t104"><data value='validar_nome_arquivo'>FileValidator._validar_nome_arquivo</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t127">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t127"><data value='obter_extensao_segura'>FileValidator._obter_extensao_segura</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t141">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t141"><data value='validar_magic_bytes'>FileValidator._validar_magic_bytes</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t154">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t154"><data value='validar_com_pillow'>FileValidator._validar_com_pillow</data></a></td>
                <td>14</td>
                <td>14</td>
                <td>0</td>
                <td class="right" data-ratio="0 14">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t183">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t183"><data value='gerar_nome_arquivo_seguro'>FileValidator.gerar_nome_arquivo_seguro</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t194">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html#t194"><data value='sanitizar_path'>FileValidator.sanitizar_path</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html">util/file_validator.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>25</td>
                <td>25</td>
                <td>0</td>
                <td class="right" data-ratio="0 25">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t10">util/flash_messages.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t10"><data value='flash'>flash</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t28">util/flash_messages.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t28"><data value='informar_sucesso'>informar_sucesso</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t33">util/flash_messages.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t33"><data value='informar_erro'>informar_erro</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t38">util/flash_messages.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t38"><data value='informar_aviso'>informar_aviso</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t43">util/flash_messages.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t43"><data value='informar_info'>informar_info</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t48">util/flash_messages.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html#t48"><data value='get_flashed_messages'>get_flashed_messages</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html">util/flash_messages.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t18">util/middlewares.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t18"><data value='obter_secret_key'>obter_secret_key</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t34">util/middlewares.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t34"><data value='configurar_rate_limiter'>configurar_rate_limiter</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t54">util/middlewares.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t54"><data value='security_headers_middleware'>security_headers_middleware</data></a></td>
                <td>11</td>
                <td>11</td>
                <td>0</td>
                <td class="right" data-ratio="0 11">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t84">util/middlewares.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t84"><data value='log_requests_middleware'>log_requests_middleware</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t99">util/middlewares.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html#t99"><data value='configurar_middlewares'>configurar_middlewares</data></a></td>
                <td>12</td>
                <td>12</td>
                <td>0</td>
                <td class="right" data-ratio="0 12">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html">util/middlewares.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>16</td>
                <td>16</td>
                <td>0</td>
                <td class="right" data-ratio="0 16">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html#t11">util/model_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html#t11"><data value='row_to_dict'>row_to_dict</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html#t30">util/model_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html#t30"><data value='criar_modelo'>criar_modelo</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html#t60">util/model_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html#t60"><data value='criar_modelos'>criar_modelos</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html#t85">util/model_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html#t85"><data value='row_to_dict_partial'>row_to_dict_partial</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html">util/model_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t14">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t14"><data value='tratar_excecao_repo'>tratar_excecao_repo</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>1</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t45">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t45"><data value='decorator'>tratar_excecao_repo.decorator</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t47">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t47"><data value='wrapper'>tratar_excecao_repo.decorator.wrapper</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t60">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t60"><data value='validar_id'>validar_id</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t87">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t87"><data value='validar_string_nao_vazia'>validar_string_nao_vazia</data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t114">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t114"><data value='validar_email'>validar_email</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t146">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html#t146"><data value='validar_paginacao'>validar_paginacao</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html">util/repo_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>10</td>
                <td>10</td>
                <td>0</td>
                <td class="right" data-ratio="0 10">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t18">util/security.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t18"><data value='criar_hash_senha'>criar_hash_senha</data></a></td>
                <td>1</td>
                <td>1</td>
                <td>0</td>
                <td class="right" data-ratio="0 1">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t31">util/security.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t31"><data value='verificar_senha'>verificar_senha</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t52">util/security.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t52"><data value='gerar_token_redefinicao'>gerar_token_redefinicao</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t66">util/security.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t66"><data value='obter_data_expiracao_token'>obter_data_expiracao_token</data></a></td>
                <td>2</td>
                <td>2</td>
                <td>0</td>
                <td class="right" data-ratio="0 2">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t80">util/security.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_security_py.html#t80"><data value='gerar_senha_aleatoria'>gerar_senha_aleatoria</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_security_py.html">util/security.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_security_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>12</td>
                <td>12</td>
                <td>0</td>
                <td class="right" data-ratio="0 12">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_template_util_py.html#t6">util/template_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_template_util_py.html#t6"><data value='criar_templates'>criar_templates</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_template_util_py.html">util/template_util.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_template_util_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>4</td>
                <td>4</td>
                <td>0</td>
                <td class="right" data-ratio="0 4">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t6">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t6"><data value='processar_erros_validacao'>processar_erros_validacao</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t15">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t15"><data value='validar_forca_senha'>validar_forca_senha</data></a></td>
                <td>17</td>
                <td>17</td>
                <td>0</td>
                <td class="right" data-ratio="0 17">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t57">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t57"><data value='validar_crmv'>validar_crmv</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t68">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t68"><data value='validar_telefone'>validar_telefone</data></a></td>
                <td>9</td>
                <td>9</td>
                <td>0</td>
                <td class="right" data-ratio="0 9">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t80">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t80"><data value='validar_nome_pessoa'>validar_nome_pessoa</data></a></td>
                <td>13</td>
                <td>13</td>
                <td>0</td>
                <td class="right" data-ratio="0 13">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t97">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t97"><data value='validar_texto_obrigatorio'>validar_texto_obrigatorio</data></a></td>
                <td>8</td>
                <td>8</td>
                <td>0</td>
                <td class="right" data-ratio="0 8">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t110">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t110"><data value='validar_texto_opcional'>validar_texto_opcional</data></a></td>
                <td>6</td>
                <td>6</td>
                <td>0</td>
                <td class="right" data-ratio="0 6">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t121">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t121"><data value='validar_email'>validar_email</data></a></td>
                <td>7</td>
                <td>7</td>
                <td>0</td>
                <td class="right" data-ratio="0 7">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t131">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t131"><data value='validar_senha'>validar_senha</data></a></td>
                <td>10</td>
                <td>10</td>
                <td>0</td>
                <td class="right" data-ratio="0 10">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t148">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t148"><data value='validar_senhas_coincidem'>validar_senhas_coincidem</data></a></td>
                <td>3</td>
                <td>3</td>
                <td>0</td>
                <td class="right" data-ratio="0 3">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t154">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t154"><data value='converter_checkbox_para_bool'>converter_checkbox_para_bool</data></a></td>
                <td>5</td>
                <td>5</td>
                <td>0</td>
                <td class="right" data-ratio="0 5">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t162">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html#t162"><data value='validar_enum_valor'>validar_enum_valor</data></a></td>
                <td>10</td>
                <td>10</td>
                <td>0</td>
                <td class="right" data-ratio="0 10">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html">util/validacoes_dto.py</a></td>
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html"><data value=''><span class='no-noun'>(no function)</span></data></a></td>
                <td>15</td>
                <td>15</td>
                <td>0</td>
                <td class="right" data-ratio="0 15">0%</td>
            </tr>
        </tbody>
        <tfoot>
            <tr class="total">
                <td class="name left">Total</td>
                <td class="name left">&nbsp;</td>
                <td>1819</td>
                <td>1465</td>
                <td>2</td>
                <td class="right" data-ratio="354 1819">19%</td>
            </tr>
        </tfoot>
    </table>
    <p id="no_rows">
        No items found using the specified filter.
    </p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:31 -0300
        </p>
    </div>
    <aside class="hidden">
        <a id="prevFileLink" class="nav" href=""></a>
        <a id="nextFileLink" class="nav" href=""></a>
        <button type="button" class="button_prev_file" data-shortcut="["></button>
        <button type="button" class="button_next_file" data-shortcut="]"></button>
        <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
    </aside>
</footer>
</body>
</html>

```

# htmlcov/index.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage report</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="indexfile">
<header>
    <div class="content">
        <h1>Coverage report:
            <span class="pc_cov">19%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>f</kbd>
                        <kbd>s</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        <kbd>c</kbd>
                        &nbsp; change column sorting
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <form id="filter_container">
            <input id="filter" type="text" value="" placeholder="filter...">
            <div>
                <input id="hide100" type="checkbox" >
                <label for="hide100">hide covered</label>
            </div>
        </form>
        <h2>
                <a class="button current">Files</a>
                <a class="button" href="function_index.html">Functions</a>
                <a class="button" href="class_index.html">Classes</a>
        </h2>
        <p class="text">
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:31 -0300
        </p>
    </div>
</header>
<main id="index">
    <table class="index" data-sortable>
        <thead>
            <tr class="tablehead" title="Click to sort">
                <th id="file" class="name left" aria-sort="none" data-shortcut="f">File<span class="arrows"></span></th>
                <th id="statements" aria-sort="none" data-default-sort-order="descending" data-shortcut="s">statements<span class="arrows"></span></th>
                <th id="missing" aria-sort="none" data-default-sort-order="descending" data-shortcut="m">missing<span class="arrows"></span></th>
                <th id="excluded" aria-sort="none" data-default-sort-order="descending" data-shortcut="x">excluded<span class="arrows"></span></th>
                <th id="coverage" class="right" aria-sort="none" data-shortcut="c">coverage<span class="arrows"></span></th>
            </tr>
        </thead>
        <tbody>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9___init___py.html">model/__init__.py</a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_administrador_model_py.html">model/administrador_model.py</a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html">model/categoria_artigo_model.py</a></td>
                <td>6</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="6 6">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_chamado_model_py.html">model/chamado_model.py</a></td>
                <td>13</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="13 13">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_comentario_model_py.html">model/comentario_model.py</a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html">model/curtida_artigo_model.py</a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_curtida_feed_model_py.html">model/curtida_feed_model.py</a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_denuncia_model_py.html">model/denuncia_model.py</a></td>
                <td>12</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="12 12">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_enums_py.html">model/enums.py</a></td>
                <td>19</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="19 19">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html">model/postagem_artigo_model.py</a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_postagem_feed_model_py.html">model/postagem_feed_model.py</a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html">model/resposta_chamado_model.py</a></td>
                <td>10</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="10 10">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_seguida_model_py.html">model/seguida_model.py</a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_tutor_model_py.html">model/tutor_model.py</a></td>
                <td>7</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="7 7">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_usuario_model_py.html">model/usuario_model.py</a></td>
                <td>13</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="13 13">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html">model/verificacao_crmv_model.py</a></td>
                <td>11</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="11 11">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_6e2dbee8102cccb9_veterinario_model_py.html">model/veterinario_model.py</a></td>
                <td>8</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="8 8">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e___init___py.html">repo/__init__.py</a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_administrador_repo_py.html">repo/administrador_repo.py</a></td>
                <td>50</td>
                <td>38</td>
                <td>0</td>
                <td class="right" data-ratio="12 50">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_categoria_artigo_repo_py.html">repo/categoria_artigo_repo.py</a></td>
                <td>45</td>
                <td>34</td>
                <td>0</td>
                <td class="right" data-ratio="11 45">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_chamado_repo_py.html">repo/chamado_repo.py</a></td>
                <td>43</td>
                <td>32</td>
                <td>0</td>
                <td class="right" data-ratio="11 43">26%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_comentario_artigo_repo_py.html">repo/comentario_artigo_repo.py</a></td>
                <td>43</td>
                <td>32</td>
                <td>0</td>
                <td class="right" data-ratio="11 43">26%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">repo/curtida_artigo_repo.py</a></td>
                <td>83</td>
                <td>72</td>
                <td>0</td>
                <td class="right" data-ratio="11 83">13%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_curtida_feed_repo_py.html">repo/curtida_feed_repo.py</a></td>
                <td>37</td>
                <td>28</td>
                <td>0</td>
                <td class="right" data-ratio="9 37">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_denuncia_repo_py.html">repo/denuncia_repo.py</a></td>
                <td>48</td>
                <td>37</td>
                <td>0</td>
                <td class="right" data-ratio="11 48">23%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_artigo_repo_py.html">repo/postagem_artigo_repo.py</a></td>
                <td>55</td>
                <td>42</td>
                <td>0</td>
                <td class="right" data-ratio="13 55">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_postagem_feed_repo_py.html">repo/postagem_feed_repo.py</a></td>
                <td>50</td>
                <td>38</td>
                <td>0</td>
                <td class="right" data-ratio="12 50">24%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_resposta_chamado_repo_py.html">repo/resposta_chamado_repo.py</a></td>
                <td>50</td>
                <td>40</td>
                <td>0</td>
                <td class="right" data-ratio="10 50">20%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_seguida_repo_py.html">repo/seguida_repo.py</a></td>
                <td>56</td>
                <td>46</td>
                <td>0</td>
                <td class="right" data-ratio="10 56">18%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_tutor_repo_py.html">repo/tutor_repo.py</a></td>
                <td>74</td>
                <td>62</td>
                <td>0</td>
                <td class="right" data-ratio="12 74">16%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_usuario_repo_py.html">repo/usuario_repo.py</a></td>
                <td>91</td>
                <td>74</td>
                <td>0</td>
                <td class="right" data-ratio="17 91">19%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html">repo/verificacao_crmv_repo.py</a></td>
                <td>43</td>
                <td>32</td>
                <td>0</td>
                <td class="right" data-ratio="11 43">26%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_9e5a55656cee699e_veterinario_repo_py.html">repo/veterinario_repo.py</a></td>
                <td>62</td>
                <td>49</td>
                <td>0</td>
                <td class="right" data-ratio="13 62">21%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869___init___py.html">util/__init__.py</a></td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td class="right" data-ratio="0 0">100%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_auth_decorator_py.html">util/auth_decorator.py</a></td>
                <td>49</td>
                <td>49</td>
                <td>1</td>
                <td class="right" data-ratio="0 49">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_data_util_py.html">util/data_util.py</a></td>
                <td>56</td>
                <td>56</td>
                <td>0</td>
                <td class="right" data-ratio="0 56">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_db_util_py.html">util/db_util.py</a></td>
                <td>163</td>
                <td>142</td>
                <td>0</td>
                <td class="right" data-ratio="21 163">13%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_enum_util_py.html">util/enum_util.py</a></td>
                <td>20</td>
                <td>20</td>
                <td>0</td>
                <td class="right" data-ratio="0 20">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_error_handlers_py.html">util/error_handlers.py</a></td>
                <td>37</td>
                <td>37</td>
                <td>0</td>
                <td class="right" data-ratio="0 37">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_exceptions_py.html">util/exceptions.py</a></td>
                <td>21</td>
                <td>21</td>
                <td>0</td>
                <td class="right" data-ratio="0 21">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_manager_py.html">util/file_manager.py</a></td>
                <td>85</td>
                <td>85</td>
                <td>0</td>
                <td class="right" data-ratio="0 85">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_file_validator_py.html">util/file_validator.py</a></td>
                <td>102</td>
                <td>102</td>
                <td>0</td>
                <td class="right" data-ratio="0 102">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_flash_messages_py.html">util/flash_messages.py</a></td>
                <td>17</td>
                <td>17</td>
                <td>0</td>
                <td class="right" data-ratio="0 17">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_middlewares_py.html">util/middlewares.py</a></td>
                <td>55</td>
                <td>55</td>
                <td>0</td>
                <td class="right" data-ratio="0 55">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_model_util_py.html">util/model_util.py</a></td>
                <td>25</td>
                <td>25</td>
                <td>0</td>
                <td class="right" data-ratio="0 25">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_repo_util_py.html">util/repo_util.py</a></td>
                <td>42</td>
                <td>42</td>
                <td>1</td>
                <td class="right" data-ratio="0 42">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_security_py.html">util/security.py</a></td>
                <td>28</td>
                <td>28</td>
                <td>0</td>
                <td class="right" data-ratio="0 28">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_template_util_py.html">util/template_util.py</a></td>
                <td>13</td>
                <td>13</td>
                <td>0</td>
                <td class="right" data-ratio="0 13">0%</td>
            </tr>
            <tr class="region">
                <td class="name left"><a href="z_5865449b717dd869_validacoes_dto_py.html">util/validacoes_dto.py</a></td>
                <td>117</td>
                <td>117</td>
                <td>0</td>
                <td class="right" data-ratio="0 117">0%</td>
            </tr>
        </tbody>
        <tfoot>
            <tr class="total">
                <td class="name left">Total</td>
                <td>1819</td>
                <td>1465</td>
                <td>2</td>
                <td class="right" data-ratio="354 1819">19%</td>
            </tr>
        </tfoot>
    </table>
    <p id="no_rows">
        No items found using the specified filter.
    </p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:31 -0300
        </p>
    </div>
    <aside class="hidden">
        <a id="prevFileLink" class="nav" href="z_5865449b717dd869_validacoes_dto_py.html"></a>
        <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9___init___py.html"></a>
        <button type="button" class="button_prev_file" data-shortcut="["></button>
        <button type="button" class="button_next_file" data-shortcut="]"></button>
        <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
    </aside>
</footer>
</body>
</html>

```

# htmlcov/style_cb_6b508a39.css

```css
@charset "UTF-8";
/* Licensed under the Apache License: http://www.apache.org/licenses/LICENSE-2.0 */
/* For details: https://github.com/nedbat/coveragepy/blob/master/NOTICE.txt */
/* Don't edit this .css file. Edit the .scss file instead! */
html, body, h1, h2, h3, p, table, td, th { margin: 0; padding: 0; border: 0; font-weight: inherit; font-style: inherit; font-size: 100%; font-family: inherit; vertical-align: baseline; }

body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; font-size: 1em; background: #fff; color: #000; }

@media (prefers-color-scheme: dark) { body { background: #1e1e1e; } }

@media (prefers-color-scheme: dark) { body { color: #eee; } }

html > body { font-size: 16px; }

a:active, a:focus { outline: 2px dashed #007acc; }

p { font-size: .875em; line-height: 1.4em; }

table { border-collapse: collapse; }

td { vertical-align: top; }

table tr.hidden { display: none !important; }

p#no_rows { display: none; font-size: 1.15em; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; }

a.nav { text-decoration: none; color: inherit; }

a.nav:hover { text-decoration: underline; color: inherit; }

.hidden { display: none; }

header { background: #f8f8f8; width: 100%; z-index: 2; border-bottom: 1px solid #ccc; }

@media (prefers-color-scheme: dark) { header { background: black; } }

@media (prefers-color-scheme: dark) { header { border-color: #333; } }

header .content { padding: 1rem 3.5rem; }

header h2 { margin-top: .5em; font-size: 1em; }

header h2 a.button { font-family: inherit; font-size: inherit; border: 1px solid; border-radius: .2em; background: #eee; color: inherit; text-decoration: none; padding: .1em .5em; margin: 1px calc(.1em + 1px); cursor: pointer; border-color: #ccc; }

@media (prefers-color-scheme: dark) { header h2 a.button { background: #333; } }

@media (prefers-color-scheme: dark) { header h2 a.button { border-color: #444; } }

header h2 a.button.current { border: 2px solid; background: #fff; border-color: #999; cursor: default; }

@media (prefers-color-scheme: dark) { header h2 a.button.current { background: #1e1e1e; } }

@media (prefers-color-scheme: dark) { header h2 a.button.current { border-color: #777; } }

header p.text { margin: .5em 0 -.5em; color: #666; font-style: italic; }

@media (prefers-color-scheme: dark) { header p.text { color: #aaa; } }

header.sticky { position: fixed; left: 0; right: 0; height: 2.5em; }

header.sticky .text { display: none; }

header.sticky h1, header.sticky h2 { font-size: 1em; margin-top: 0; display: inline-block; }

header.sticky .content { padding: 0.5rem 3.5rem; }

header.sticky .content p { font-size: 1em; }

header.sticky ~ #source { padding-top: 6.5em; }

main { position: relative; z-index: 1; }

footer { margin: 1rem 3.5rem; }

footer .content { padding: 0; color: #666; font-style: italic; }

@media (prefers-color-scheme: dark) { footer .content { color: #aaa; } }

#index { margin: 1rem 0 0 3.5rem; }

h1 { font-size: 1.25em; display: inline-block; }

#filter_container { float: right; margin: 0 2em 0 0; line-height: 1.66em; }

#filter_container #filter { width: 10em; padding: 0.2em 0.5em; border: 2px solid #ccc; background: #fff; color: #000; }

@media (prefers-color-scheme: dark) { #filter_container #filter { border-color: #444; } }

@media (prefers-color-scheme: dark) { #filter_container #filter { background: #1e1e1e; } }

@media (prefers-color-scheme: dark) { #filter_container #filter { color: #eee; } }

#filter_container #filter:focus { border-color: #007acc; }

#filter_container :disabled ~ label { color: #ccc; }

@media (prefers-color-scheme: dark) { #filter_container :disabled ~ label { color: #444; } }

#filter_container label { font-size: .875em; color: #666; }

@media (prefers-color-scheme: dark) { #filter_container label { color: #aaa; } }

header button { font-family: inherit; font-size: inherit; border: 1px solid; border-radius: .2em; background: #eee; color: inherit; text-decoration: none; padding: .1em .5em; margin: 1px calc(.1em + 1px); cursor: pointer; border-color: #ccc; }

@media (prefers-color-scheme: dark) { header button { background: #333; } }

@media (prefers-color-scheme: dark) { header button { border-color: #444; } }

header button:active, header button:focus { outline: 2px dashed #007acc; }

header button.run { background: #eeffee; }

@media (prefers-color-scheme: dark) { header button.run { background: #373d29; } }

header button.run.show_run { background: #dfd; border: 2px solid #00dd00; margin: 0 .1em; }

@media (prefers-color-scheme: dark) { header button.run.show_run { background: #373d29; } }

header button.mis { background: #ffeeee; }

@media (prefers-color-scheme: dark) { header button.mis { background: #4b1818; } }

header button.mis.show_mis { background: #fdd; border: 2px solid #ff0000; margin: 0 .1em; }

@media (prefers-color-scheme: dark) { header button.mis.show_mis { background: #4b1818; } }

header button.exc { background: #f7f7f7; }

@media (prefers-color-scheme: dark) { header button.exc { background: #333; } }

header button.exc.show_exc { background: #eee; border: 2px solid #808080; margin: 0 .1em; }

@media (prefers-color-scheme: dark) { header button.exc.show_exc { background: #333; } }

header button.par { background: #ffffd5; }

@media (prefers-color-scheme: dark) { header button.par { background: #650; } }

header button.par.show_par { background: #ffa; border: 2px solid #bbbb00; margin: 0 .1em; }

@media (prefers-color-scheme: dark) { header button.par.show_par { background: #650; } }

#help_panel, #source p .annotate.long { display: none; position: absolute; z-index: 999; background: #ffffcc; border: 1px solid #888; border-radius: .2em; color: #333; padding: .25em .5em; }

#source p .annotate.long { white-space: normal; float: right; top: 1.75em; right: 1em; height: auto; }

#help_panel_wrapper { float: right; position: relative; }

#keyboard_icon { margin: 5px; }

#help_panel_state { display: none; }

#help_panel { top: 25px; right: 0; padding: .75em; border: 1px solid #883; color: #333; }

#help_panel .keyhelp p { margin-top: .75em; }

#help_panel .legend { font-style: italic; margin-bottom: 1em; }

.indexfile #help_panel { width: 25em; }

.pyfile #help_panel { width: 18em; }

#help_panel_state:checked ~ #help_panel { display: block; }

kbd { border: 1px solid black; border-color: #888 #333 #333 #888; padding: .1em .35em; font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-weight: bold; background: #eee; border-radius: 3px; }

#source { padding: 1em 0 1em 3.5rem; font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace; }

#source p { position: relative; white-space: pre; }

#source p * { box-sizing: border-box; }

#source p .n { float: left; text-align: right; width: 3.5rem; box-sizing: border-box; margin-left: -3.5rem; padding-right: 1em; color: #999; user-select: none; }

@media (prefers-color-scheme: dark) { #source p .n { color: #777; } }

#source p .n.highlight { background: #ffdd00; }

#source p .n a { scroll-margin-top: 6em; text-decoration: none; color: #999; }

@media (prefers-color-scheme: dark) { #source p .n a { color: #777; } }

#source p .n a:hover { text-decoration: underline; color: #999; }

@media (prefers-color-scheme: dark) { #source p .n a:hover { color: #777; } }

#source p .t { display: inline-block; width: 100%; box-sizing: border-box; margin-left: -.5em; padding-left: 0.3em; border-left: 0.2em solid #fff; }

@media (prefers-color-scheme: dark) { #source p .t { border-color: #1e1e1e; } }

#source p .t:hover { background: #f2f2f2; }

@media (prefers-color-scheme: dark) { #source p .t:hover { background: #282828; } }

#source p .t:hover ~ .r .annotate.long { display: block; }

#source p .t .com { color: #008000; font-style: italic; line-height: 1px; }

@media (prefers-color-scheme: dark) { #source p .t .com { color: #6a9955; } }

#source p .t .key { font-weight: bold; line-height: 1px; }

#source p .t .str, #source p .t .fst { color: #0451a5; }

@media (prefers-color-scheme: dark) { #source p .t .str, #source p .t .fst { color: #9cdcfe; } }

#source p.mis .t { border-left: 0.2em solid #ff0000; }

#source p.mis.show_mis .t { background: #fdd; }

@media (prefers-color-scheme: dark) { #source p.mis.show_mis .t { background: #4b1818; } }

#source p.mis.show_mis .t:hover { background: #f2d2d2; }

@media (prefers-color-scheme: dark) { #source p.mis.show_mis .t:hover { background: #532323; } }

#source p.mis.mis2 .t { border-left: 0.2em dotted #ff0000; }

#source p.mis.mis2.show_mis .t { background: #ffeeee; }

@media (prefers-color-scheme: dark) { #source p.mis.mis2.show_mis .t { background: #351b1b; } }

#source p.mis.mis2.show_mis .t:hover { background: #f2d2d2; }

@media (prefers-color-scheme: dark) { #source p.mis.mis2.show_mis .t:hover { background: #532323; } }

#source p.run .t { border-left: 0.2em solid #00dd00; }

#source p.run.show_run .t { background: #dfd; }

@media (prefers-color-scheme: dark) { #source p.run.show_run .t { background: #373d29; } }

#source p.run.show_run .t:hover { background: #d2f2d2; }

@media (prefers-color-scheme: dark) { #source p.run.show_run .t:hover { background: #404633; } }

#source p.run.run2 .t { border-left: 0.2em dotted #00dd00; }

#source p.run.run2.show_run .t { background: #eeffee; }

@media (prefers-color-scheme: dark) { #source p.run.run2.show_run .t { background: #2b2e24; } }

#source p.run.run2.show_run .t:hover { background: #d2f2d2; }

@media (prefers-color-scheme: dark) { #source p.run.run2.show_run .t:hover { background: #404633; } }

#source p.exc .t { border-left: 0.2em solid #808080; }

#source p.exc.show_exc .t { background: #eee; }

@media (prefers-color-scheme: dark) { #source p.exc.show_exc .t { background: #333; } }

#source p.exc.show_exc .t:hover { background: #e2e2e2; }

@media (prefers-color-scheme: dark) { #source p.exc.show_exc .t:hover { background: #3c3c3c; } }

#source p.exc.exc2 .t { border-left: 0.2em dotted #808080; }

#source p.exc.exc2.show_exc .t { background: #f7f7f7; }

@media (prefers-color-scheme: dark) { #source p.exc.exc2.show_exc .t { background: #292929; } }

#source p.exc.exc2.show_exc .t:hover { background: #e2e2e2; }

@media (prefers-color-scheme: dark) { #source p.exc.exc2.show_exc .t:hover { background: #3c3c3c; } }

#source p.par .t { border-left: 0.2em solid #bbbb00; }

#source p.par.show_par .t { background: #ffa; }

@media (prefers-color-scheme: dark) { #source p.par.show_par .t { background: #650; } }

#source p.par.show_par .t:hover { background: #f2f2a2; }

@media (prefers-color-scheme: dark) { #source p.par.show_par .t:hover { background: #6d5d0c; } }

#source p.par.par2 .t { border-left: 0.2em dotted #bbbb00; }

#source p.par.par2.show_par .t { background: #ffffd5; }

@media (prefers-color-scheme: dark) { #source p.par.par2.show_par .t { background: #423a0f; } }

#source p.par.par2.show_par .t:hover { background: #f2f2a2; }

@media (prefers-color-scheme: dark) { #source p.par.par2.show_par .t:hover { background: #6d5d0c; } }

#source p .r { position: absolute; top: 0; right: 2.5em; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; }

#source p .annotate { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; color: #666; padding-right: .5em; }

@media (prefers-color-scheme: dark) { #source p .annotate { color: #ddd; } }

#source p .annotate.short:hover ~ .long { display: block; }

#source p .annotate.long { width: 30em; right: 2.5em; }

#source p input { display: none; }

#source p input ~ .r label.ctx { cursor: pointer; border-radius: .25em; }

#source p input ~ .r label.ctx::before { content: "▶ "; }

#source p input ~ .r label.ctx:hover { background: #e8f4ff; color: #666; }

@media (prefers-color-scheme: dark) { #source p input ~ .r label.ctx:hover { background: #0f3a42; } }

@media (prefers-color-scheme: dark) { #source p input ~ .r label.ctx:hover { color: #aaa; } }

#source p input:checked ~ .r label.ctx { background: #d0e8ff; color: #666; border-radius: .75em .75em 0 0; padding: 0 .5em; margin: -.25em 0; }

@media (prefers-color-scheme: dark) { #source p input:checked ~ .r label.ctx { background: #056; } }

@media (prefers-color-scheme: dark) { #source p input:checked ~ .r label.ctx { color: #aaa; } }

#source p input:checked ~ .r label.ctx::before { content: "▼ "; }

#source p input:checked ~ .ctxs { padding: .25em .5em; overflow-y: scroll; max-height: 10.5em; }

#source p label.ctx { color: #999; display: inline-block; padding: 0 .5em; font-size: .8333em; }

@media (prefers-color-scheme: dark) { #source p label.ctx { color: #777; } }

#source p .ctxs { display: block; max-height: 0; overflow-y: hidden; transition: all .2s; padding: 0 .5em; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; white-space: nowrap; background: #d0e8ff; border-radius: .25em; margin-right: 1.75em; text-align: right; }

@media (prefers-color-scheme: dark) { #source p .ctxs { background: #056; } }

#index { font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-size: 0.875em; }

#index table.index { margin-left: -.5em; }

#index td, #index th { text-align: right; padding: .25em .5em; border-bottom: 1px solid #eee; }

@media (prefers-color-scheme: dark) { #index td, #index th { border-color: #333; } }

#index td.name, #index th.name { text-align: left; width: auto; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; min-width: 15em; }

#index th { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; font-style: italic; color: #333; cursor: pointer; }

@media (prefers-color-scheme: dark) { #index th { color: #ddd; } }

#index th:hover { background: #eee; }

@media (prefers-color-scheme: dark) { #index th:hover { background: #333; } }

#index th .arrows { color: #666; font-size: 85%; font-family: sans-serif; font-style: normal; pointer-events: none; }

#index th[aria-sort="ascending"], #index th[aria-sort="descending"] { white-space: nowrap; background: #eee; padding-left: .5em; }

@media (prefers-color-scheme: dark) { #index th[aria-sort="ascending"], #index th[aria-sort="descending"] { background: #333; } }

#index th[aria-sort="ascending"] .arrows::after { content: " ▲"; }

#index th[aria-sort="descending"] .arrows::after { content: " ▼"; }

#index td.name { font-size: 1.15em; }

#index td.name a { text-decoration: none; color: inherit; }

#index td.name .no-noun { font-style: italic; }

#index tr.total td, #index tr.total_dynamic td { font-weight: bold; border-top: 1px solid #ccc; border-bottom: none; }

#index tr.region:hover { background: #eee; }

@media (prefers-color-scheme: dark) { #index tr.region:hover { background: #333; } }

#index tr.region:hover td.name { text-decoration: underline; color: inherit; }

#scroll_marker { position: fixed; z-index: 3; right: 0; top: 0; width: 16px; height: 100%; background: #fff; border-left: 1px solid #eee; will-change: transform; }

@media (prefers-color-scheme: dark) { #scroll_marker { background: #1e1e1e; } }

@media (prefers-color-scheme: dark) { #scroll_marker { border-color: #333; } }

#scroll_marker .marker { background: #ccc; position: absolute; min-height: 3px; width: 100%; }

@media (prefers-color-scheme: dark) { #scroll_marker .marker { background: #444; } }

```

# htmlcov/style_cb_8e611ae1.css

```css
@charset "UTF-8";
/* Licensed under the Apache License: http://www.apache.org/licenses/LICENSE-2.0 */
/* For details: https://github.com/nedbat/coveragepy/blob/master/NOTICE.txt */
/* Don't edit this .css file. Edit the .scss file instead! */
html, body, h1, h2, h3, p, table, td, th { margin: 0; padding: 0; border: 0; font-weight: inherit; font-style: inherit; font-size: 100%; font-family: inherit; vertical-align: baseline; }

body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; font-size: 1em; background: #fff; color: #000; }

@media (prefers-color-scheme: dark) { body { background: #1e1e1e; } }

@media (prefers-color-scheme: dark) { body { color: #eee; } }

html > body { font-size: 16px; }

a:active, a:focus { outline: 2px dashed #007acc; }

p { font-size: .875em; line-height: 1.4em; }

table { border-collapse: collapse; }

td { vertical-align: top; }

table tr.hidden { display: none !important; }

p#no_rows { display: none; font-size: 1.15em; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; }

a.nav { text-decoration: none; color: inherit; }

a.nav:hover { text-decoration: underline; color: inherit; }

.hidden { display: none; }

header { background: #f8f8f8; width: 100%; z-index: 2; border-bottom: 1px solid #ccc; }

@media (prefers-color-scheme: dark) { header { background: black; } }

@media (prefers-color-scheme: dark) { header { border-color: #333; } }

header .content { padding: 1rem 3.5rem; }

header h2 { margin-top: .5em; font-size: 1em; }

header h2 a.button { font-family: inherit; font-size: inherit; border: 1px solid; border-radius: .2em; background: #eee; color: inherit; text-decoration: none; padding: .1em .5em; margin: 1px calc(.1em + 1px); cursor: pointer; border-color: #ccc; }

@media (prefers-color-scheme: dark) { header h2 a.button { background: #333; } }

@media (prefers-color-scheme: dark) { header h2 a.button { border-color: #444; } }

header h2 a.button.current { border: 2px solid; background: #fff; border-color: #999; cursor: default; }

@media (prefers-color-scheme: dark) { header h2 a.button.current { background: #1e1e1e; } }

@media (prefers-color-scheme: dark) { header h2 a.button.current { border-color: #777; } }

header p.text { margin: .5em 0 -.5em; color: #666; font-style: italic; }

@media (prefers-color-scheme: dark) { header p.text { color: #aaa; } }

header.sticky { position: fixed; left: 0; right: 0; height: 2.5em; }

header.sticky .text { display: none; }

header.sticky h1, header.sticky h2 { font-size: 1em; margin-top: 0; display: inline-block; }

header.sticky .content { padding: 0.5rem 3.5rem; }

header.sticky .content p { font-size: 1em; }

header.sticky ~ #source { padding-top: 6.5em; }

main { position: relative; z-index: 1; }

footer { margin: 1rem 3.5rem; }

footer .content { padding: 0; color: #666; font-style: italic; }

@media (prefers-color-scheme: dark) { footer .content { color: #aaa; } }

#index { margin: 1rem 0 0 3.5rem; }

h1 { font-size: 1.25em; display: inline-block; }

#filter_container { float: right; margin: 0 2em 0 0; line-height: 1.66em; }

#filter_container #filter { width: 10em; padding: 0.2em 0.5em; border: 2px solid #ccc; background: #fff; color: #000; }

@media (prefers-color-scheme: dark) { #filter_container #filter { border-color: #444; } }

@media (prefers-color-scheme: dark) { #filter_container #filter { background: #1e1e1e; } }

@media (prefers-color-scheme: dark) { #filter_container #filter { color: #eee; } }

#filter_container #filter:focus { border-color: #007acc; }

#filter_container :disabled ~ label { color: #ccc; }

@media (prefers-color-scheme: dark) { #filter_container :disabled ~ label { color: #444; } }

#filter_container label { font-size: .875em; color: #666; }

@media (prefers-color-scheme: dark) { #filter_container label { color: #aaa; } }

header button { font-family: inherit; font-size: inherit; border: 1px solid; border-radius: .2em; background: #eee; color: inherit; text-decoration: none; padding: .1em .5em; margin: 1px calc(.1em + 1px); cursor: pointer; border-color: #ccc; }

@media (prefers-color-scheme: dark) { header button { background: #333; } }

@media (prefers-color-scheme: dark) { header button { border-color: #444; } }

header button:active, header button:focus { outline: 2px dashed #007acc; }

header button.run { background: #eeffee; }

@media (prefers-color-scheme: dark) { header button.run { background: #373d29; } }

header button.run.show_run { background: #dfd; border: 2px solid #00dd00; margin: 0 .1em; }

@media (prefers-color-scheme: dark) { header button.run.show_run { background: #373d29; } }

header button.mis { background: #ffeeee; }

@media (prefers-color-scheme: dark) { header button.mis { background: #4b1818; } }

header button.mis.show_mis { background: #fdd; border: 2px solid #ff0000; margin: 0 .1em; }

@media (prefers-color-scheme: dark) { header button.mis.show_mis { background: #4b1818; } }

header button.exc { background: #f7f7f7; }

@media (prefers-color-scheme: dark) { header button.exc { background: #333; } }

header button.exc.show_exc { background: #eee; border: 2px solid #808080; margin: 0 .1em; }

@media (prefers-color-scheme: dark) { header button.exc.show_exc { background: #333; } }

header button.par { background: #ffffd5; }

@media (prefers-color-scheme: dark) { header button.par { background: #650; } }

header button.par.show_par { background: #ffa; border: 2px solid #bbbb00; margin: 0 .1em; }

@media (prefers-color-scheme: dark) { header button.par.show_par { background: #650; } }

#help_panel, #source p .annotate.long { display: none; position: absolute; z-index: 999; background: #ffffcc; border: 1px solid #888; border-radius: .2em; color: #333; padding: .25em .5em; }

#source p .annotate.long { white-space: normal; float: right; top: 1.75em; right: 1em; height: auto; }

#help_panel_wrapper { float: right; position: relative; }

#keyboard_icon { margin: 5px; }

#help_panel_state { display: none; }

#help_panel { top: 25px; right: 0; padding: .75em; border: 1px solid #883; color: #333; }

#help_panel .keyhelp p { margin-top: .75em; }

#help_panel .legend { font-style: italic; margin-bottom: 1em; }

.indexfile #help_panel { width: 25em; }

.pyfile #help_panel { width: 18em; }

#help_panel_state:checked ~ #help_panel { display: block; }

kbd { border: 1px solid black; border-color: #888 #333 #333 #888; padding: .1em .35em; font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-weight: bold; background: #eee; border-radius: 3px; }

#source { padding: 1em 0 1em 3.5rem; font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace; }

#source p { position: relative; white-space: pre; }

#source p * { box-sizing: border-box; }

#source p .n { float: left; text-align: right; width: 3.5rem; box-sizing: border-box; margin-left: -3.5rem; padding-right: 1em; color: #999; user-select: none; }

@media (prefers-color-scheme: dark) { #source p .n { color: #777; } }

#source p .n.highlight { background: #ffdd00; }

#source p .n a { scroll-margin-top: 6em; text-decoration: none; color: #999; }

@media (prefers-color-scheme: dark) { #source p .n a { color: #777; } }

#source p .n a:hover { text-decoration: underline; color: #999; }

@media (prefers-color-scheme: dark) { #source p .n a:hover { color: #777; } }

#source p .t { display: inline-block; width: 100%; box-sizing: border-box; margin-left: -.5em; padding-left: 0.3em; border-left: 0.2em solid #fff; }

@media (prefers-color-scheme: dark) { #source p .t { border-color: #1e1e1e; } }

#source p .t:hover { background: #f2f2f2; }

@media (prefers-color-scheme: dark) { #source p .t:hover { background: #282828; } }

#source p .t:hover ~ .r .annotate.long { display: block; }

#source p .t .com { color: #008000; font-style: italic; line-height: 1px; }

@media (prefers-color-scheme: dark) { #source p .t .com { color: #6a9955; } }

#source p .t .key { font-weight: bold; line-height: 1px; }

#source p .t .str { color: #0451a5; }

@media (prefers-color-scheme: dark) { #source p .t .str { color: #9cdcfe; } }

#source p.mis .t { border-left: 0.2em solid #ff0000; }

#source p.mis.show_mis .t { background: #fdd; }

@media (prefers-color-scheme: dark) { #source p.mis.show_mis .t { background: #4b1818; } }

#source p.mis.show_mis .t:hover { background: #f2d2d2; }

@media (prefers-color-scheme: dark) { #source p.mis.show_mis .t:hover { background: #532323; } }

#source p.run .t { border-left: 0.2em solid #00dd00; }

#source p.run.show_run .t { background: #dfd; }

@media (prefers-color-scheme: dark) { #source p.run.show_run .t { background: #373d29; } }

#source p.run.show_run .t:hover { background: #d2f2d2; }

@media (prefers-color-scheme: dark) { #source p.run.show_run .t:hover { background: #404633; } }

#source p.exc .t { border-left: 0.2em solid #808080; }

#source p.exc.show_exc .t { background: #eee; }

@media (prefers-color-scheme: dark) { #source p.exc.show_exc .t { background: #333; } }

#source p.exc.show_exc .t:hover { background: #e2e2e2; }

@media (prefers-color-scheme: dark) { #source p.exc.show_exc .t:hover { background: #3c3c3c; } }

#source p.par .t { border-left: 0.2em solid #bbbb00; }

#source p.par.show_par .t { background: #ffa; }

@media (prefers-color-scheme: dark) { #source p.par.show_par .t { background: #650; } }

#source p.par.show_par .t:hover { background: #f2f2a2; }

@media (prefers-color-scheme: dark) { #source p.par.show_par .t:hover { background: #6d5d0c; } }

#source p .r { position: absolute; top: 0; right: 2.5em; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; }

#source p .annotate { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; color: #666; padding-right: .5em; }

@media (prefers-color-scheme: dark) { #source p .annotate { color: #ddd; } }

#source p .annotate.short:hover ~ .long { display: block; }

#source p .annotate.long { width: 30em; right: 2.5em; }

#source p input { display: none; }

#source p input ~ .r label.ctx { cursor: pointer; border-radius: .25em; }

#source p input ~ .r label.ctx::before { content: "▶ "; }

#source p input ~ .r label.ctx:hover { background: #e8f4ff; color: #666; }

@media (prefers-color-scheme: dark) { #source p input ~ .r label.ctx:hover { background: #0f3a42; } }

@media (prefers-color-scheme: dark) { #source p input ~ .r label.ctx:hover { color: #aaa; } }

#source p input:checked ~ .r label.ctx { background: #d0e8ff; color: #666; border-radius: .75em .75em 0 0; padding: 0 .5em; margin: -.25em 0; }

@media (prefers-color-scheme: dark) { #source p input:checked ~ .r label.ctx { background: #056; } }

@media (prefers-color-scheme: dark) { #source p input:checked ~ .r label.ctx { color: #aaa; } }

#source p input:checked ~ .r label.ctx::before { content: "▼ "; }

#source p input:checked ~ .ctxs { padding: .25em .5em; overflow-y: scroll; max-height: 10.5em; }

#source p label.ctx { color: #999; display: inline-block; padding: 0 .5em; font-size: .8333em; }

@media (prefers-color-scheme: dark) { #source p label.ctx { color: #777; } }

#source p .ctxs { display: block; max-height: 0; overflow-y: hidden; transition: all .2s; padding: 0 .5em; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; white-space: nowrap; background: #d0e8ff; border-radius: .25em; margin-right: 1.75em; text-align: right; }

@media (prefers-color-scheme: dark) { #source p .ctxs { background: #056; } }

#index { font-family: SFMono-Regular, Menlo, Monaco, Consolas, monospace; font-size: 0.875em; }

#index table.index { margin-left: -.5em; }

#index td, #index th { text-align: right; padding: .25em .5em; border-bottom: 1px solid #eee; }

@media (prefers-color-scheme: dark) { #index td, #index th { border-color: #333; } }

#index td.name, #index th.name { text-align: left; width: auto; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; min-width: 15em; }

#index th { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; font-style: italic; color: #333; cursor: pointer; }

@media (prefers-color-scheme: dark) { #index th { color: #ddd; } }

#index th:hover { background: #eee; }

@media (prefers-color-scheme: dark) { #index th:hover { background: #333; } }

#index th .arrows { color: #666; font-size: 85%; font-family: sans-serif; font-style: normal; pointer-events: none; }

#index th[aria-sort="ascending"], #index th[aria-sort="descending"] { white-space: nowrap; background: #eee; padding-left: .5em; }

@media (prefers-color-scheme: dark) { #index th[aria-sort="ascending"], #index th[aria-sort="descending"] { background: #333; } }

#index th[aria-sort="ascending"] .arrows::after { content: " ▲"; }

#index th[aria-sort="descending"] .arrows::after { content: " ▼"; }

#index td.name { font-size: 1.15em; }

#index td.name a { text-decoration: none; color: inherit; }

#index td.name .no-noun { font-style: italic; }

#index tr.total td, #index tr.total_dynamic td { font-weight: bold; border-top: 1px solid #ccc; border-bottom: none; }

#index tr.region:hover { background: #eee; }

@media (prefers-color-scheme: dark) { #index tr.region:hover { background: #333; } }

#index tr.region:hover td.name { text-decoration: underline; color: inherit; }

#scroll_marker { position: fixed; z-index: 3; right: 0; top: 0; width: 16px; height: 100%; background: #fff; border-left: 1px solid #eee; will-change: transform; }

@media (prefers-color-scheme: dark) { #scroll_marker { background: #1e1e1e; } }

@media (prefers-color-scheme: dark) { #scroll_marker { border-color: #333; } }

#scroll_marker .marker { background: #ccc; position: absolute; min-height: 3px; width: 100%; }

@media (prefers-color-scheme: dark) { #scroll_marker .marker { background: #444; } }

```

# htmlcov/z_6e2dbee8102cccb9___init___py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/__init__.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/__init__.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">0 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="index.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_administrador_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="index.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_administrador_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_administrador_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/administrador_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/administrador_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">7 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">7<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9___init___py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">class</span> <span class="nam">Administrador</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">    <span class="nam">id_admin</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">    <span class="nam">nome</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">email</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">senha</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9___init___py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_categoria_artigo_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/categoria_artigo_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/categoria_artigo_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">6 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">6<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_administrador_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_chamado_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">class</span> <span class="nam">CategoriaArtigo</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">    <span class="nam">id_categoria_artigo</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">    <span class="nam">nome</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">cor</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_administrador_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_chamado_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_chamado_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/chamado_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/chamado_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">13 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">13<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_comentario_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">enums</span> <span class="key">import</span> <span class="nam">ChamadoStatus</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">class</span> <span class="nam">Chamado</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">id_chamado</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">id_admin</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="nam">titulo</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="nam">descricao</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="nam">status</span><span class="op">:</span> <span class="nam">ChamadoStatus</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">    <span class="nam">data</span><span class="op">:</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_categoria_artigo_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_comentario_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_comentario_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/comentario_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/comentario_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">11 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_chamado_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">class</span> <span class="nam">ComentarioArtigo</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">id_comentario_artigo</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">texto</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="nam">data_comentario</span><span class="op">:</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="nam">data_moderacao</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">datetime</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_chamado_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_curtida_artigo_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/curtida_artigo_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/curtida_artigo_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">8 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">8<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_comentario_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_curtida_feed_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">class</span> <span class="nam">CurtidaArtigo</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">data_curtida</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">datetime</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_comentario_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_curtida_feed_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_curtida_feed_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/curtida_feed_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/curtida_feed_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">8 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">8<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_denuncia_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:02 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">class</span> <span class="nam">CurtidaFeed</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">id_postagem_feed</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">data_curtida</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">datetime</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_curtida_artigo_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_denuncia_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:02 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_denuncia_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/denuncia_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/denuncia_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">12 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">12<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_curtida_feed_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_enums_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">enums</span> <span class="key">import</span> <span class="nam">DenunciaStatus</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">class</span> <span class="nam">Denuncia</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">id_denuncia</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">id_admin</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">motivo</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="nam">data_denuncia</span><span class="op">:</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="nam">status</span><span class="op">:</span> <span class="nam">DenunciaStatus</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_curtida_feed_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_enums_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_enums_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/enums.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/enums.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">19 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">19<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_denuncia_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">enum</span> <span class="key">import</span> <span class="nam">Enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">class</span> <span class="nam">ChamadoStatus</span><span class="op">(</span><span class="nam">Enum</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">    <span class="nam">ABERTO</span> <span class="op">=</span> <span class="str">"aberto"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">    <span class="nam">EM_ANDAMENTO</span> <span class="op">=</span> <span class="str">"em_andamento"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">    <span class="nam">RESOLVIDO</span> <span class="op">=</span> <span class="str">"resolvido"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">class</span> <span class="nam">DenunciaStatus</span><span class="op">(</span><span class="nam">Enum</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">PENDENTE</span> <span class="op">=</span> <span class="str">"pendente"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">EM_ANALISE</span> <span class="op">=</span> <span class="str">"em_analise"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">RESOLVIDA</span> <span class="op">=</span> <span class="str">"resolvida"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="nam">REJEITADA</span> <span class="op">=</span> <span class="str">"rejeitada"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="key">class</span> <span class="nam">VerificacaoStatus</span><span class="op">(</span><span class="nam">Enum</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">    <span class="nam">PENDENTE</span> <span class="op">=</span> <span class="str">"pendente"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">    <span class="nam">APROVADO</span> <span class="op">=</span> <span class="str">"aprovado"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">    <span class="nam">REJEITADO</span> <span class="op">=</span> <span class="str">"rejeitado"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">    <span class="nam">EM_ANALISE</span> <span class="op">=</span> <span class="str">"em_analise"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="key">class</span> <span class="nam">PerfilUsuario</span><span class="op">(</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Enum</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">    <span class="nam">ADMIN</span> <span class="op">=</span> <span class="str">"admin"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">    <span class="nam">TUTOR</span> <span class="op">=</span> <span class="str">"tutor"</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">    <span class="nam">VETERINARIO</span> <span class="op">=</span> <span class="str">"veterinario"</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_denuncia_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_postagem_artigo_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/postagem_artigo_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/postagem_artigo_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">11 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_enums_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_postagem_feed_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">class</span> <span class="nam">PostagemArtigo</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">    <span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">id_veterinario</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">titulo</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">conteudo</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">id_categoria_artigo</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">data_publicacao</span><span class="op">:</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="nam">visualizacoes</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_enums_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_postagem_feed_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_postagem_feed_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/postagem_feed_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/postagem_feed_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">8 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">8<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:00 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">class</span> <span class="nam">PostagemFeed</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">    <span class="nam">id_postagem_feed</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">id_tutor</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">descricao</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">data_postagem</span><span class="op">:</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_postagem_artigo_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:00 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_resposta_chamado_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/resposta_chamado_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/resposta_chamado_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">10 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">10<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_postagem_feed_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_seguida_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">class</span> <span class="nam">RespostaChamado</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">id_resposta_chamado</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">id_chamado</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">titulo</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">""</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">descricao</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">""</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">data</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">date</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_postagem_feed_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_seguida_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_seguida_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/seguida_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/seguida_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">7 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">7<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_tutor_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">class</span> <span class="nam">Seguida</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">id_seguidor</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">id_seguido</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">data_inicio</span><span class="op">:</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_resposta_chamado_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_tutor_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_tutor_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/tutor_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/tutor_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">7 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">7<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_seguida_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_usuario_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 03:48 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">usuario_model</span> <span class="key">import</span> <span class="nam">Usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">class</span> <span class="nam">Tutor</span><span class="op">(</span><span class="nam">Usuario</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">quantidade_pets</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">descricao_pets</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_seguida_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_usuario_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 03:48 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_usuario_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/usuario_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/usuario_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">13 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">13<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_tutor_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 01:18 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">class</span> <span class="nam">Usuario</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">    <span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">nome</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">email</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">senha</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">telefone</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">perfil</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="nam">token_redefinicao</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="nam">data_token</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="nam">data_cadastro</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_tutor_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 01:18 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_verificacao_crmv_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/verificacao_crmv_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/verificacao_crmv_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">11 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_usuario_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_6e2dbee8102cccb9_veterinario_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">enums</span> <span class="key">import</span> <span class="nam">VerificacaoStatus</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">class</span> <span class="nam">VerificacaoCRMV</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">id_verificacao_crmv</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">id_veterinario</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">id_administrador</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">data_verificacao</span><span class="op">:</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="nam">status_verificacao</span><span class="op">:</span> <span class="nam">VerificacaoStatus</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_usuario_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_6e2dbee8102cccb9_veterinario_model_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_6e2dbee8102cccb9_veterinario_model_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for model/veterinario_model.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>model/veterinario_model.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">8 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">8<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e___init___py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">dataclasses</span> <span class="key">import</span> <span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">usuario_model</span> <span class="key">import</span> <span class="nam">Usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="op">@</span><span class="nam">dataclass</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">class</span> <span class="nam">Veterinario</span><span class="op">(</span><span class="nam">Usuario</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="nam">crmv</span><span class="op">:</span> <span class="nam">str</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="nam">verificado</span><span class="op">:</span> <span class="nam">bool</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">bio</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_verificacao_crmv_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e___init___py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:04 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e___init___py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/__init__.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/__init__.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">0 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_6e2dbee8102cccb9_veterinario_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_administrador_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_6e2dbee8102cccb9_veterinario_model_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_administrador_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_administrador_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/administrador_repo.py: 24%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/administrador_repo.py</b>:
            <span class="pc_cov">24%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">50 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">12<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">38<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e___init___py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_categoria_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">administrador_model</span> <span class="key">import</span> <span class="nam">Administrador</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">administrador_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de administrador: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">admin</span><span class="op">:</span> <span class="nam">Administrador</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">INSERIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">admin</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">admin</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">admin</span><span class="op">.</span><span class="nam">senha</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">admin</span><span class="op">:</span> <span class="nam">Administrador</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR</span><span class="op">,</span> <span class="op">(</span><span class="nam">admin</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">admin</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">admin</span><span class="op">.</span><span class="nam">senha</span><span class="op">,</span> <span class="nam">admin</span><span class="op">.</span><span class="nam">id_admin</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar_senha</span><span class="op">(</span><span class="nam">id_admin</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">nova_senha</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR_SENHA</span><span class="op">,</span> <span class="op">(</span><span class="nam">nova_senha</span><span class="op">,</span> <span class="nam">id_admin</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_admin</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_admin</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">Administrador</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="nam">Administrador</span><span class="op">(</span><span class="op">**</span><span class="nam">row</span><span class="op">)</span> <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_admin</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Administrador</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_admin</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">        <span class="key">return</span> <span class="nam">Administrador</span><span class="op">(</span><span class="op">**</span><span class="nam">row</span><span class="op">)</span> <span class="key">if</span> <span class="nam">row</span> <span class="key">else</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t"><span class="key">def</span> <span class="nam">importar</span><span class="op">(</span><span class="nam">admin</span><span class="op">:</span> <span class="nam">Administrador</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">IMPORTAR</span><span class="op">,</span> <span class="op">(</span><span class="nam">admin</span><span class="op">.</span><span class="nam">id_admin</span><span class="op">,</span> <span class="nam">admin</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">admin</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">admin</span><span class="op">.</span><span class="nam">senha</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e___init___py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_categoria_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_categoria_artigo_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/categoria_artigo_repo.py: 24%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/categoria_artigo_repo.py</b>:
            <span class="pc_cov">24%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">45 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">34<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_administrador_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_chamado_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">categoria_artigo_model</span> <span class="key">import</span> <span class="nam">CategoriaArtigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">categoria_artigo_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de categorias: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">categoria</span><span class="op">:</span> <span class="nam">CategoriaArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">INSERIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">categoria</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">categoria</span><span class="op">.</span><span class="nam">cor</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">categoria</span><span class="op">:</span> <span class="nam">CategoriaArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">            <span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">                <span class="nam">categoria</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">                <span class="nam">categoria</span><span class="op">.</span><span class="nam">cor</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">                <span class="nam">categoria</span><span class="op">.</span><span class="nam">id_categoria_artigo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_categoria</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_categoria</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">CategoriaArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="nam">CategoriaArtigo</span><span class="op">(</span><span class="op">**</span><span class="nam">row</span><span class="op">)</span> <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_categoria</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">CategoriaArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_categoria</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">        <span class="key">return</span> <span class="nam">CategoriaArtigo</span><span class="op">(</span><span class="op">**</span><span class="nam">row</span><span class="op">)</span> <span class="key">if</span> <span class="nam">row</span> <span class="key">else</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t"><span class="key">def</span> <span class="nam">importar</span><span class="op">(</span><span class="nam">categoria</span><span class="op">:</span> <span class="nam">CategoriaArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">IMPORTAR</span><span class="op">,</span> <span class="op">(</span><span class="nam">categoria</span><span class="op">.</span><span class="nam">id_categoria_artigo</span><span class="op">,</span> <span class="nam">categoria</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">categoria</span><span class="op">.</span><span class="nam">cor</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="key">return</span> <span class="nam">categoria</span><span class="op">.</span><span class="nam">id_categoria_artigo</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_administrador_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_chamado_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_chamado_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/chamado_repo.py: 26%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/chamado_repo.py</b>:
            <span class="pc_cov">26%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">43 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">32<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_categoria_artigo_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_comentario_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">chamado_model</span> <span class="key">import</span> <span class="nam">Chamado</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">enums</span> <span class="key">import</span> <span class="nam">ChamadoStatus</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">chamado_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de categorias: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">chamado</span><span class="op">:</span> <span class="nam">Chamado</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">                <span class="nam">chamado</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">                <span class="nam">chamado</span><span class="op">.</span><span class="nam">id_admin</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">                <span class="nam">chamado</span><span class="op">.</span><span class="nam">titulo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">                <span class="nam">chamado</span><span class="op">.</span><span class="nam">descricao</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">                <span class="op">(</span><span class="nam">chamado</span><span class="op">.</span><span class="nam">status</span><span class="op">.</span><span class="nam">value</span> <span class="key">if</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">chamado</span><span class="op">.</span><span class="nam">status</span><span class="op">,</span> <span class="str">"value"</span><span class="op">)</span> <span class="key">else</span> <span class="nam">chamado</span><span class="op">.</span><span class="nam">status</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">                <span class="nam">chamado</span><span class="op">.</span><span class="nam">data</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar_status</span><span class="op">(</span><span class="nam">id_chamado</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">novo_status</span><span class="op">:</span> <span class="nam">ChamadoStatus</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR_STATUS</span><span class="op">,</span> <span class="op">(</span><span class="nam">novo_status</span><span class="op">.</span><span class="nam">value</span><span class="op">,</span> <span class="nam">id_chamado</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_chamado</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_chamado</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">Chamado</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">            <span class="nam">Chamado</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">                <span class="nam">id_chamado</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_chamado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">                <span class="nam">id_admin</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_admin"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">                <span class="nam">titulo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"titulo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">                <span class="nam">descricao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"descricao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">                <span class="nam">status</span><span class="op">=</span><span class="nam">ChamadoStatus</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"status"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">                <span class="nam">data</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_chamado</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Chamado</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_chamado</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">            <span class="key">return</span> <span class="nam">Chamado</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">                <span class="nam">id_chamado</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_chamado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">                <span class="nam">id_admin</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_admin"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">                <span class="nam">titulo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"titulo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">                <span class="nam">descricao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"descricao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">                <span class="nam">status</span><span class="op">=</span><span class="nam">ChamadoStatus</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"status"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">                <span class="nam">data</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_categoria_artigo_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_comentario_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_comentario_artigo_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/comentario_artigo_repo.py: 26%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/comentario_artigo_repo.py</b>:
            <span class="pc_cov">26%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">43 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">32<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_chamado_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span><span class="op">.</span><span class="nam">logger</span> <span class="key">import</span> <span class="nam">logger</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">comentario_model</span> <span class="key">import</span> <span class="nam">ComentarioArtigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">comentario_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de comentario_artigo: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">comentario</span><span class="op">:</span> <span class="nam">ComentarioArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">            <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">            <span class="op">(</span><span class="nam">comentario</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">comentario</span><span class="op">.</span><span class="nam">id_postagem_artigo</span><span class="op">,</span> <span class="nam">comentario</span><span class="op">.</span><span class="nam">texto</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">comentario</span><span class="op">:</span> <span class="nam">ComentarioArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">            <span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">                <span class="nam">comentario</span><span class="op">.</span><span class="nam">texto</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">                <span class="nam">comentario</span><span class="op">.</span><span class="nam">data_moderacao</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">                <span class="nam">comentario</span><span class="op">.</span><span class="nam">id_comentario_artigo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_comentario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_comentario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">ComentarioArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">            <span class="nam">ComentarioArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">                <span class="nam">id_comentario_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_comentario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">                <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">                <span class="nam">texto</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"texto"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">                <span class="nam">data_comentario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_comentario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">                <span class="nam">data_moderacao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_moderacao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_comentario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">ComentarioArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_comentario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">            <span class="key">return</span> <span class="nam">ComentarioArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">                <span class="nam">id_comentario_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_comentario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">                <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">                <span class="nam">texto</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"texto"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">                <span class="nam">data_comentario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_comentario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">                <span class="nam">data_moderacao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_moderacao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_chamado_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_comentario_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/comentario_repo.py: 24%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/comentario_repo.py</b>:
            <span class="pc_cov">24%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">42 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">10<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">32<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_chamado_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 19:11 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">comentario_model</span> <span class="key">import</span> <span class="nam">ComentarioArtigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">comentario_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de categorias: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">comentario</span><span class="op">:</span> <span class="nam">ComentarioArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">            <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="op">(</span><span class="nam">comentario</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">comentario</span><span class="op">.</span><span class="nam">id_postagem_artigo</span><span class="op">,</span> <span class="nam">comentario</span><span class="op">.</span><span class="nam">texto</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">comentario</span><span class="op">:</span> <span class="nam">ComentarioArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">            <span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">                <span class="nam">comentario</span><span class="op">.</span><span class="nam">texto</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">                <span class="nam">comentario</span><span class="op">.</span><span class="nam">data_moderacao</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">                <span class="nam">comentario</span><span class="op">.</span><span class="nam">id_comentario_artigo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_comentario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_comentario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">ComentarioArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">            <span class="nam">ComentarioArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">                <span class="nam">id_comentario_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_comentario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">                <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">                <span class="nam">texto</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"texto"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">                <span class="nam">data_comentario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_comentario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">                <span class="nam">data_moderacao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_moderacao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_comentario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">ComentarioArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_comentario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">            <span class="key">return</span> <span class="nam">ComentarioArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">                <span class="nam">id_comentario_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_comentario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">                <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">                <span class="nam">texto</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"texto"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">                <span class="nam">data_comentario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_comentario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">                <span class="nam">data_moderacao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_moderacao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_chamado_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 19:11 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_curtida_artigo_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/curtida_artigo_repo.py: 13%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/curtida_artigo_repo.py</b>:
            <span class="pc_cov">13%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">83 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">72<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_comentario_artigo_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_curtida_feed_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">curtida_artigo_model</span> <span class="key">import</span> <span class="nam">CurtidaArtigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">curtida_artigo_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de curtidas de artigo: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">curtida</span><span class="op">:</span> <span class="nam">CurtidaArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">                <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">                <span class="op">(</span><span class="nam">curtida</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">curtida</span><span class="op">.</span><span class="nam">id_postagem_artigo</span><span class="op">,</span> <span class="nam">curtida</span><span class="op">.</span><span class="nam">data_curtida</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">            <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao inserir curtida: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">id_postagem_artigo</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">            <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao excluir curtida: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">CurtidaArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">            <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">            <span class="nam">curtidas</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">                <span class="com"># Converter string para datetime se necess&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">                <span class="nam">data_curtida</span> <span class="op">=</span> <span class="nam">row</span><span class="op">[</span><span class="str">"data_curtida"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">                <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">data_curtida</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">                    <span class="com"># Tentar diferentes formatos</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">                    <span class="key">for</span> <span class="nam">fmt</span> <span class="key">in</span> <span class="op">[</span><span class="str">"%Y-%m-%d %H:%M:%S.%f"</span><span class="op">,</span> <span class="str">"%Y-%m-%d %H:%M:%S"</span><span class="op">,</span> <span class="str">"%Y-%m-%d"</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">                        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">                            <span class="nam">data_curtida</span> <span class="op">=</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">data_curtida</span><span class="op">,</span> <span class="nam">fmt</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">                            <span class="key">break</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">                        <span class="key">except</span> <span class="nam">ValueError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">                            <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">                <span class="nam">curtidas</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">                    <span class="nam">CurtidaArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">                        <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">                        <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">                        <span class="nam">data_curtida</span><span class="op">=</span><span class="nam">data_curtida</span> <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">data_curtida</span><span class="op">,</span> <span class="nam">datetime</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">                    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">            <span class="key">return</span> <span class="nam">curtidas</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao obter curtidas paginadas: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">CurtidaArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">id_postagem_artigo</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">            <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">                <span class="com"># Converter string para datetime se necess&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">                <span class="nam">data_curtida</span> <span class="op">=</span> <span class="nam">row</span><span class="op">[</span><span class="str">"data_curtida"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">                <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">data_curtida</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">                    <span class="com"># Tentar diferentes formatos</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">                    <span class="key">for</span> <span class="nam">fmt</span> <span class="key">in</span> <span class="op">[</span><span class="str">"%Y-%m-%d %H:%M:%S.%f"</span><span class="op">,</span> <span class="str">"%Y-%m-%d %H:%M:%S"</span><span class="op">,</span> <span class="str">"%Y-%m-%d"</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">                        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">                            <span class="nam">data_curtida</span> <span class="op">=</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">data_curtida</span><span class="op">,</span> <span class="nam">fmt</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">                            <span class="key">break</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">                        <span class="key">except</span> <span class="nam">ValueError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">                            <span class="key">continue</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">                <span class="key">return</span> <span class="nam">CurtidaArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">                    <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">                    <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">                    <span class="nam">data_curtida</span><span class="op">=</span><span class="nam">data_curtida</span> <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">data_curtida</span><span class="op">,</span> <span class="nam">datetime</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao obter curtida por ID: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t"><span class="key">def</span> <span class="nam">contar_curtidas_por_artigo</span><span class="op">(</span><span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">int</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t"><span class="str">    Conta o total de curtidas de um artigo espec&#237;fico</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t"><span class="str">        id_postagem_artigo: ID do artigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t"><span class="str">        Total de curtidas do artigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CONTAR_CURTIDAS_POR_ARTIGO</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_postagem_artigo</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">            <span class="key">return</span> <span class="nam">row</span><span class="op">[</span><span class="str">"total_curtidas"</span><span class="op">]</span> <span class="key">if</span> <span class="nam">row</span> <span class="key">else</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao contar curtidas do artigo: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">        <span class="key">return</span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_comentario_artigo_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_curtida_feed_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_curtida_feed_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/curtida_feed_repo.py: 24%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/curtida_feed_repo.py</b>:
            <span class="pc_cov">24%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">37 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">9<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">28<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_denuncia_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">curtida_feed_model</span> <span class="key">import</span> <span class="nam">CurtidaFeed</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">curtida_feed_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de curtida_feed: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">curtida</span><span class="op">:</span> <span class="nam">CurtidaFeed</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">INSERIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">curtida</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">curtida</span><span class="op">.</span><span class="nam">id_postagem_feed</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">id_postagem_feed</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">id_postagem_feed</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">CurtidaFeed</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">            <span class="nam">CurtidaFeed</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">                <span class="nam">id_postagem_feed</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_feed"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">                <span class="nam">data_curtida</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_curtida"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">id_postagem_feed</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">CurtidaFeed</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">id_postagem_feed</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">            <span class="key">return</span> <span class="nam">CurtidaFeed</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">id_usuario</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">                <span class="nam">id_postagem_feed</span><span class="op">=</span><span class="nam">id_postagem_feed</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">                <span class="nam">data_curtida</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_curtida"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_curtida_artigo_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_denuncia_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_denuncia_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/denuncia_repo.py: 23%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/denuncia_repo.py</b>:
            <span class="pc_cov">23%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">48 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">37<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_curtida_feed_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_postagem_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">denuncia_model</span> <span class="key">import</span> <span class="nam">Denuncia</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">enums</span> <span class="key">import</span> <span class="nam">DenunciaStatus</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">denuncia_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de categorias: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">denuncia</span><span class="op">:</span> <span class="nam">Denuncia</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">id_admin</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">motivo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">data_denuncia</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">status</span><span class="op">.</span><span class="nam">value</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">denuncia</span><span class="op">:</span> <span class="nam">Denuncia</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">            <span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">id_admin</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">motivo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">data_denuncia</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">status</span><span class="op">.</span><span class="nam">value</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">                <span class="nam">denuncia</span><span class="op">.</span><span class="nam">id_denuncia</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_denuncia</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_denuncia</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">Denuncia</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">        <span class="nam">denuncias</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">            <span class="nam">dados</span> <span class="op">=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">                <span class="str">"id_denuncia"</span><span class="op">:</span> <span class="nam">row</span><span class="op">[</span><span class="str">"id_denuncia"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">                <span class="str">"id_usuario"</span><span class="op">:</span> <span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">                <span class="str">"id_admin"</span><span class="op">:</span> <span class="nam">row</span><span class="op">[</span><span class="str">"id_admin"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">                <span class="str">"motivo"</span><span class="op">:</span> <span class="nam">row</span><span class="op">[</span><span class="str">"motivo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">                <span class="str">"data_denuncia"</span><span class="op">:</span> <span class="nam">row</span><span class="op">[</span><span class="str">"data_denuncia"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">                <span class="str">"status"</span><span class="op">:</span> <span class="nam">DenunciaStatus</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"status"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">            <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">            <span class="nam">denuncias</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">Denuncia</span><span class="op">(</span><span class="op">**</span><span class="nam">dados</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">        <span class="key">return</span> <span class="nam">denuncias</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_denuncia</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Denuncia</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_denuncia</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>  <span class="com"># &lt;- evita erro</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">        <span class="nam">denuncia</span> <span class="op">=</span> <span class="nam">Denuncia</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">            <span class="nam">id_denuncia</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_denuncia"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">            <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">            <span class="nam">id_admin</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_admin"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">            <span class="nam">motivo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"motivo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">            <span class="nam">data_denuncia</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_denuncia"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">            <span class="nam">status</span><span class="op">=</span><span class="nam">DenunciaStatus</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"status"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">        <span class="key">return</span> <span class="nam">denuncia</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_curtida_feed_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_postagem_artigo_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_postagem_artigo_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/postagem_artigo_repo.py: 24%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/postagem_artigo_repo.py</b>:
            <span class="pc_cov">24%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">55 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">13<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">42<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_denuncia_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_postagem_feed_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">postagem_artigo_model</span> <span class="key">import</span> <span class="nam">PostagemArtigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">postagem_artigo_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de postagem_artigo: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">postagem</span><span class="op">:</span> <span class="nam">PostagemArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_veterinario</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">titulo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">conteudo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_categoria_artigo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">postagem</span><span class="op">:</span> <span class="nam">PostagemArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">            <span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">titulo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">conteudo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_categoria_artigo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_postagem_artigo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t"><span class="key">def</span> <span class="nam">incrementar_visualizacoes</span><span class="op">(</span><span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">INCREMENTAR_VISUALIZACOES</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_postagem_artigo</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_postagem_artigo</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">pagina</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">tamanho_pagina</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">PostagemArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">    <span class="nam">limite</span> <span class="op">=</span> <span class="nam">tamanho_pagina</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">    <span class="nam">offset</span> <span class="op">=</span> <span class="op">(</span><span class="nam">pagina</span> <span class="op">-</span> <span class="num">1</span><span class="op">)</span> <span class="op">*</span> <span class="nam">tamanho_pagina</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">            <span class="nam">PostagemArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">                <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">                <span class="nam">id_veterinario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">                <span class="nam">titulo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"titulo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">                <span class="nam">conteudo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"conteudo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">                <span class="nam">id_categoria_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_categoria_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">                <span class="nam">data_publicacao</span><span class="op">=</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_publicacao"</span><span class="op">]</span><span class="op">,</span> <span class="str">"%Y-%m-%d %H:%M:%S"</span><span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">                <span class="nam">visualizacoes</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"visualizacoes"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_postagem_artigo</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">PostagemArtigo</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_postagem_artigo</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">            <span class="key">return</span> <span class="nam">PostagemArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">                <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">                <span class="nam">id_veterinario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">                <span class="nam">titulo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"titulo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">                <span class="nam">conteudo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"conteudo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">                <span class="nam">id_categoria_artigo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_categoria_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">                <span class="nam">data_publicacao</span><span class="op">=</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_publicacao"</span><span class="op">]</span><span class="op">,</span> <span class="str">"%Y-%m-%d %H:%M:%S"</span><span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">                <span class="nam">visualizacoes</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"visualizacoes"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t"><span class="key">def</span> <span class="nam">importar</span><span class="op">(</span><span class="nam">postagem</span><span class="op">:</span> <span class="nam">PostagemArtigo</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">            <span class="nam">IMPORTAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_postagem_artigo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_veterinario</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">titulo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">conteudo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_categoria_artigo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">visualizacoes</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">        <span class="key">return</span> <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_postagem_artigo</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_denuncia_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_postagem_feed_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_postagem_feed_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/postagem_feed_repo.py: 24%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/postagem_feed_repo.py</b>:
            <span class="pc_cov">24%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">50 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">12<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">38<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_postagem_artigo_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_resposta_chamado_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">postagem_feed_model</span> <span class="key">import</span> <span class="nam">PostagemFeed</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">postagem_feed_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de categorias: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">postagem</span><span class="op">:</span> <span class="nam">PostagemFeed</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">INSERIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">postagem</span><span class="op">.</span><span class="nam">id_tutor</span><span class="op">,</span> <span class="nam">postagem</span><span class="op">.</span><span class="nam">descricao</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">postagem</span><span class="op">:</span> <span class="nam">PostagemFeed</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR</span><span class="op">,</span> <span class="op">(</span><span class="nam">postagem</span><span class="op">.</span><span class="nam">descricao</span><span class="op">,</span> <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_postagem_feed</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_postagem_feed</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_postagem_feed</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">pagina</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">tamanho_pagina</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">PostagemFeed</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">    <span class="nam">limite</span> <span class="op">=</span> <span class="nam">tamanho_pagina</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">    <span class="nam">offset</span> <span class="op">=</span> <span class="op">(</span><span class="nam">pagina</span> <span class="op">-</span> <span class="num">1</span><span class="op">)</span> <span class="op">*</span> <span class="nam">tamanho_pagina</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">            <span class="nam">PostagemFeed</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">                <span class="nam">id_postagem_feed</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_feed"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">                <span class="nam">id_tutor</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_tutor"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">                <span class="nam">descricao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"descricao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">                <span class="nam">data_postagem</span><span class="op">=</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_postagem"</span><span class="op">]</span><span class="op">[</span><span class="op">:</span><span class="num">10</span><span class="op">]</span><span class="op">,</span> <span class="str">"%Y-%m-%d"</span><span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_postagem_feed</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">PostagemFeed</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_postagem_feed</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">            <span class="key">return</span> <span class="nam">PostagemFeed</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">                <span class="nam">id_postagem_feed</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_postagem_feed"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">                <span class="nam">id_tutor</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_tutor"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">                <span class="nam">descricao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"descricao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">                <span class="nam">data_postagem</span><span class="op">=</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_postagem"</span><span class="op">]</span><span class="op">[</span><span class="op">:</span><span class="num">10</span><span class="op">]</span><span class="op">,</span> <span class="str">"%Y-%m-%d"</span><span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t"><span class="key">def</span> <span class="nam">importar</span><span class="op">(</span><span class="nam">postagem</span><span class="op">:</span> <span class="nam">PostagemFeed</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">            <span class="nam">IMPORTAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_postagem_feed</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_tutor</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">descricao</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">                <span class="nam">postagem</span><span class="op">.</span><span class="nam">data_postagem</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">        <span class="key">return</span> <span class="nam">postagem</span><span class="op">.</span><span class="nam">id_postagem_feed</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_postagem_artigo_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_resposta_chamado_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_resposta_chamado_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/resposta_chamado_repo.py: 20%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/resposta_chamado_repo.py</b>:
            <span class="pc_cov">20%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">50 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">10<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">40<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_postagem_feed_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_seguida_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">resposta_chamado_model</span> <span class="key">import</span> <span class="nam">RespostaChamado</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">resposta_chamado_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de categorias: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">resposta</span><span class="op">:</span> <span class="nam">RespostaChamado</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">            <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="op">(</span><span class="nam">resposta</span><span class="op">.</span><span class="nam">id_chamado</span><span class="op">,</span> <span class="nam">resposta</span><span class="op">.</span><span class="nam">titulo</span><span class="op">,</span> <span class="nam">resposta</span><span class="op">.</span><span class="nam">descricao</span><span class="op">,</span> <span class="nam">resposta</span><span class="op">.</span><span class="nam">data</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">resposta</span><span class="op">:</span> <span class="nam">RespostaChamado</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">                <span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">                <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">                    <span class="nam">resposta</span><span class="op">.</span><span class="nam">id_chamado</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">                    <span class="nam">resposta</span><span class="op">.</span><span class="nam">titulo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">                    <span class="nam">resposta</span><span class="op">.</span><span class="nam">descricao</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">                    <span class="nam">resposta</span><span class="op">.</span><span class="nam">data</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">                    <span class="nam">resposta</span><span class="op">.</span><span class="nam">id_resposta_chamado</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">                <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">            <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao atualizar resposta: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_resposta</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_resposta</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">            <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao excluir resposta: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">RespostaChamado</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">            <span class="nam">RespostaChamado</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">                <span class="nam">id_resposta_chamado</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_resposta_chamado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">                <span class="nam">id_chamado</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_chamado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">                <span class="nam">titulo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"titulo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">                <span class="nam">descricao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"descricao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">                <span class="nam">data</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_resposta</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">RespostaChamado</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_resposta</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">            <span class="key">return</span> <span class="nam">RespostaChamado</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">                <span class="nam">id_resposta_chamado</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_resposta_chamado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">                <span class="nam">id_chamado</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_chamado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">                <span class="nam">titulo</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"titulo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">                <span class="nam">descricao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"descricao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">                <span class="nam">data</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_postagem_feed_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_seguida_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_seguida_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/seguida_repo.py: 18%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/seguida_repo.py</b>:
            <span class="pc_cov">18%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">56 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">10<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">46<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_resposta_chamado_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_tutor_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">seguida_model</span> <span class="key">import</span> <span class="nam">Seguida</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">seguida_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de seguidas: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">seguida</span><span class="op">:</span> <span class="nam">Seguida</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">INSERIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">seguida</span><span class="op">.</span><span class="nam">id_seguidor</span><span class="op">,</span> <span class="nam">seguida</span><span class="op">.</span><span class="nam">id_seguido</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">            <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao inserir seguida: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_veterinario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">id_tutor</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_veterinario</span><span class="op">,</span> <span class="nam">id_tutor</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">            <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao excluir seguida: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">pagina</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">tamanho_pagina</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">Seguida</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">    <span class="nam">limite</span> <span class="op">=</span> <span class="nam">tamanho_pagina</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">    <span class="nam">offset</span> <span class="op">=</span> <span class="op">(</span><span class="nam">pagina</span> <span class="op">-</span> <span class="num">1</span><span class="op">)</span> <span class="op">*</span> <span class="nam">tamanho_pagina</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">            <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">            <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">                <span class="nam">Seguida</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">                    <span class="nam">id_seguidor</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">                    <span class="nam">id_seguido</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_tutor"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">                    <span class="nam">data_inicio</span><span class="op">=</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">                        <span class="nam">row</span><span class="op">[</span><span class="str">"data_inicio"</span><span class="op">]</span><span class="op">[</span><span class="op">:</span><span class="num">10</span><span class="op">]</span><span class="op">,</span> <span class="str">"%Y-%m-%d"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">                    <span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">                <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">            <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao obter seguidas paginado: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_veterinario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">id_tutor</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Seguida</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_veterinario</span><span class="op">,</span> <span class="nam">id_tutor</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">            <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">                <span class="key">return</span> <span class="nam">Seguida</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">                    <span class="nam">id_seguidor</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">                    <span class="nam">id_seguido</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_tutor"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">                    <span class="nam">data_inicio</span><span class="op">=</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">                        <span class="nam">row</span><span class="op">[</span><span class="str">"data_inicio"</span><span class="op">]</span><span class="op">[</span><span class="op">:</span><span class="num">10</span><span class="op">]</span><span class="op">,</span> <span class="str">"%Y-%m-%d"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">                    <span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao obter seguida por ID: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_resposta_chamado_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_tutor_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_tutor_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/tutor_repo.py: 16%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/tutor_repo.py</b>:
            <span class="pc_cov">16%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">74 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">12<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">62<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_seguida_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_usuario_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">tutor_model</span> <span class="key">import</span> <span class="nam">Tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">import</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">tutor_sql</span> <span class="key">as</span> <span class="nam">tutor_sql</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">import</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">usuario_sql</span> <span class="key">as</span> <span class="nam">usuario_sql</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">tutor_sql</span><span class="op">.</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de tutor: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">tutor</span><span class="op">:</span> <span class="nam">Tutor</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="str">"""Insere tutor e usu&#225;rio em uma &#250;nica transa&#231;&#227;o at&#244;mica."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="com"># Inserir usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">            <span class="nam">usuario_sql</span><span class="op">.</span><span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">            <span class="op">(</span><span class="nam">tutor</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">senha</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">perfil</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="nam">id_tutor</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="com"># Inserir tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">tutor_sql</span><span class="op">.</span><span class="nam">INSERIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_tutor</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">quantidade_pets</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">descricao_pets</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">        <span class="key">return</span> <span class="nam">id_tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">tutor</span><span class="op">:</span> <span class="nam">Tutor</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">    <span class="str">"""Atualiza tutor e usu&#225;rio em uma &#250;nica transa&#231;&#227;o at&#244;mica."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">        <span class="com"># Atualizar usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">            <span class="nam">usuario_sql</span><span class="op">.</span><span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">            <span class="op">(</span><span class="nam">tutor</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="com"># Atualizar tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">            <span class="nam">tutor_sql</span><span class="op">.</span><span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">            <span class="op">(</span><span class="nam">tutor</span><span class="op">.</span><span class="nam">quantidade_pets</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">descricao_pets</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_tutor</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">            <span class="com"># Primeiro excluir da tabela tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">tutor_sql</span><span class="op">.</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_tutor</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">            <span class="nam">tutor_excluido</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">            <span class="com"># Depois excluir da tabela usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">            <span class="key">if</span> <span class="nam">tutor_excluido</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">                <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">usuario_sql</span><span class="op">.</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_tutor</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">                <span class="nam">usuario_excluido</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">                <span class="key">return</span> <span class="nam">usuario_excluido</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">            <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao excluir tutor: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">Tutor</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">tutor_sql</span><span class="op">.</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">            <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">            <span class="nam">tutores</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">                <span class="nam">tutor</span> <span class="op">=</span> <span class="nam">Tutor</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">                    <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_tutor"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">                    <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">                    <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">                    <span class="nam">senha</span><span class="op">=</span><span class="str">""</span><span class="op">,</span>  <span class="com"># N&#227;o expor senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">                    <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">                    <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"perfil"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="str">"tutor"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">                    <span class="nam">token_redefinicao</span><span class="op">=</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"token_redefinicao"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">                    <span class="nam">data_token</span><span class="op">=</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"data_token"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">                    <span class="nam">data_cadastro</span><span class="op">=</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"data_cadastro"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">                    <span class="nam">quantidade_pets</span><span class="op">=</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"quantidade_pets"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"quantidade_pets"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="num">0</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">                    <span class="nam">descricao_pets</span><span class="op">=</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"descricao_pets"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"descricao_pets"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">                <span class="nam">tutores</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">tutor</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">            <span class="key">return</span> <span class="nam">tutores</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao obter tutores paginado: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_tutor</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Tutor</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">tutor_sql</span><span class="op">.</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_tutor</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">            <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">            <span class="key">if</span> <span class="nam">row</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">                <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">            <span class="nam">tutor</span> <span class="op">=</span> <span class="nam">Tutor</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_tutor"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">                <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">                <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">                <span class="nam">senha</span><span class="op">=</span><span class="str">""</span><span class="op">,</span>  <span class="com"># N&#227;o expor senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">                <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">                <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">                <span class="nam">data_cadastro</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">                <span class="nam">data_token</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">                <span class="nam">token_redefinicao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">                <span class="nam">quantidade_pets</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"quantidade_pets"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">                <span class="nam">descricao_pets</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"descricao_pets"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">            <span class="key">return</span> <span class="nam">tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao obter tutor por ID: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t"><span class="key">def</span> <span class="nam">importar</span><span class="op">(</span><span class="nam">tutor</span><span class="op">:</span> <span class="nam">Tutor</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">        <span class="com"># Inserir usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">            <span class="nam">usuario_sql</span><span class="op">.</span><span class="nam">IMPORTAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">            <span class="op">(</span><span class="nam">tutor</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">senha</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">perfil</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">        <span class="com"># Inserir tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">tutor_sql</span><span class="op">.</span><span class="nam">INSERIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">tutor</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">quantidade_pets</span><span class="op">,</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">descricao_pets</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">        <span class="key">return</span> <span class="nam">tutor</span><span class="op">.</span><span class="nam">id_usuario</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_seguida_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_usuario_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_usuario_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/usuario_repo.py: 19%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/usuario_repo.py</b>:
            <span class="pc_cov">19%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">91 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">17<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">74<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_tutor_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">usuario_model</span> <span class="key">import</span> <span class="nam">Usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">usuario_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de categorias: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">usuario</span><span class="op">:</span> <span class="nam">Usuario</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">            <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">senha</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">perfil</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">usuario</span><span class="op">:</span> <span class="nam">Usuario</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">            <span class="nam">ATUALIZAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">            <span class="op">(</span><span class="nam">usuario</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">usuario</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">usuario</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span> <span class="nam">usuario</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar_senha</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">senha</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR_SENHA</span><span class="op">,</span> <span class="op">(</span><span class="nam">senha</span><span class="op">,</span> <span class="nam">id_usuario</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_usuario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">Usuario</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="nam">usuarios</span> <span class="op">=</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">            <span class="nam">Usuario</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">                <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">                <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">                <span class="nam">senha</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"senha"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">                <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">                <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">                <span class="nam">token_redefinicao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">                <span class="nam">data_token</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">                <span class="nam">data_cadastro</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">        <span class="key">return</span> <span class="nam">usuarios</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Usuario</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_usuario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">        <span class="key">return</span> <span class="nam">Usuario</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">            <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">            <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">            <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">            <span class="nam">senha</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"senha"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">            <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">            <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">            <span class="nam">token_redefinicao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">            <span class="nam">data_token</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">            <span class="nam">data_cadastro</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_email</span><span class="op">(</span><span class="nam">email</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Usuario</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_EMAIL</span><span class="op">,</span> <span class="op">(</span><span class="nam">email</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">            <span class="nam">usuario</span> <span class="op">=</span> <span class="nam">Usuario</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">                <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">                <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">                <span class="nam">senha</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"senha"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">                <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">                <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">                <span class="nam">token_redefinicao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">                <span class="nam">data_token</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">                <span class="nam">data_cadastro</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">            <span class="key">return</span> <span class="nam">usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar_token</span><span class="op">(</span><span class="nam">email</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">token</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">data_expiracao</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR_TOKEN</span><span class="op">,</span> <span class="op">(</span><span class="nam">token</span><span class="op">,</span> <span class="nam">data_expiracao</span><span class="op">,</span> <span class="nam">email</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_token</span><span class="op">(</span><span class="nam">token</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Usuario</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_TOKEN</span><span class="op">,</span> <span class="op">(</span><span class="nam">token</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">            <span class="nam">usuario</span> <span class="op">=</span> <span class="nam">Usuario</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">                <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">                <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">                <span class="nam">senha</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"senha"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">                <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">                <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">                <span class="nam">token_redefinicao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">                <span class="nam">data_token</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">                <span class="nam">data_cadastro</span><span class="op">=</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"data_cadastro"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">            <span class="key">return</span> <span class="nam">usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t"><span class="key">def</span> <span class="nam">limpar_token</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">LIMPAR_TOKEN</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_usuario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_todos_por_perfil</span><span class="op">(</span><span class="nam">perfil</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">Usuario</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_PERFIL</span><span class="op">,</span> <span class="op">(</span><span class="nam">perfil</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t">        <span class="nam">usuarios</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t">        <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t">            <span class="nam">usuario</span> <span class="op">=</span> <span class="nam">Usuario</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t">                <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t">                <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t">                <span class="nam">senha</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"senha"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t168" href="#t168">168</a></span><span class="t">                <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">                <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">                <span class="nam">token_redefinicao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t">                <span class="nam">data_token</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t">                <span class="nam">data_cadastro</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t">            <span class="nam">usuarios</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">usuario</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t">        <span class="key">return</span> <span class="nam">usuarios</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t176" href="#t176">176</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t177" href="#t177">177</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t178" href="#t178">178</a></span><span class="t"><span class="key">def</span> <span class="nam">importar</span><span class="op">(</span><span class="nam">usuario</span><span class="op">:</span> <span class="nam">Usuario</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t179" href="#t179">179</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t180" href="#t180">180</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t181" href="#t181">181</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t182" href="#t182">182</a></span><span class="t">            <span class="nam">IMPORTAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t183" href="#t183">183</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t184" href="#t184">184</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t185" href="#t185">185</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t186" href="#t186">186</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t187" href="#t187">187</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">senha</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t188" href="#t188">188</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t189" href="#t189">189</a></span><span class="t">                <span class="nam">usuario</span><span class="op">.</span><span class="nam">perfil</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t190" href="#t190">190</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t191" href="#t191">191</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t192" href="#t192">192</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_tutor_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_verificacao_crmv_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/verificacao_crmv_repo.py: 26%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/verificacao_crmv_repo.py</b>:
            <span class="pc_cov">26%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">43 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">11<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">32<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_usuario_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_9e5a55656cee699e_veterinario_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">List</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">verificacao_crmv_model</span> <span class="key">import</span> <span class="nam">VerificacaoCRMV</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">enums</span> <span class="key">import</span> <span class="nam">VerificacaoStatus</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">verificacao_crmv_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de verifica&#231;&#227;o CRMV: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">verificacao</span><span class="op">:</span> <span class="nam">VerificacaoCRMV</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">            <span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">            <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">                <span class="nam">verificacao</span><span class="op">.</span><span class="nam">id_veterinario</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">                <span class="nam">verificacao</span><span class="op">.</span><span class="nam">id_administrador</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">                <span class="nam">verificacao</span><span class="op">.</span><span class="nam">status_verificacao</span><span class="op">.</span><span class="nam">value</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">            <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">id_veterinario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">novo_status</span><span class="op">:</span> <span class="nam">VerificacaoStatus</span><span class="op">,</span> <span class="nam">id_administrador</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR</span><span class="op">,</span> <span class="op">(</span><span class="nam">novo_status</span><span class="op">.</span><span class="nam">value</span><span class="op">,</span> <span class="nam">id_administrador</span><span class="op">,</span> <span class="nam">id_veterinario</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id_veterinario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_veterinario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">VerificacaoCRMV</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">            <span class="str">"SELECT * FROM verificacao_crmv ORDER BY id_verificacao_crmv LIMIT ? OFFSET ?"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">            <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="key">return</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">            <span class="nam">VerificacaoCRMV</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">                <span class="nam">id_verificacao_crmv</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_verificacao_crmv"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">                <span class="nam">id_veterinario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">                <span class="nam">id_administrador</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_administrador"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">                <span class="nam">data_verificacao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_verificacao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">                <span class="nam">status_verificacao</span><span class="op">=</span><span class="nam">VerificacaoStatus</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"status_verificacao"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_verificacao_crmv</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">VerificacaoCRMV</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">            <span class="str">"SELECT * FROM verificacao_crmv WHERE id_verificacao_crmv = ?"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">            <span class="op">(</span><span class="nam">id_verificacao_crmv</span><span class="op">,</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">            <span class="key">return</span> <span class="nam">VerificacaoCRMV</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">                <span class="nam">id_verificacao_crmv</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_verificacao_crmv"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">                <span class="nam">id_veterinario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">                <span class="nam">id_administrador</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_administrador"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">                <span class="nam">data_verificacao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_verificacao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">                <span class="nam">status_verificacao</span><span class="op">=</span><span class="nam">VerificacaoStatus</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"status_verificacao"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_usuario_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_9e5a55656cee699e_veterinario_repo_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_9e5a55656cee699e_veterinario_repo_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for repo/veterinario_repo.py: 21%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>repo/veterinario_repo.py</b>:
            <span class="pc_cov">21%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">62 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">13<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">49<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869___init___py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span> <span class="key">import</span> <span class="nam">veterinario_sql</span><span class="op">,</span> <span class="nam">usuario_sql</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">veterinario_model</span> <span class="key">import</span> <span class="nam">Veterinario</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">sql</span><span class="op">.</span><span class="nam">veterinario_sql</span> <span class="key">import</span> <span class="op">*</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">db_util</span> <span class="key">import</span> <span class="nam">get_connection</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">            <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">            <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">CRIAR_TABELA</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">            <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">f"Erro ao criar tabela de categorias: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="key">def</span> <span class="nam">inserir</span><span class="op">(</span><span class="nam">vet</span><span class="op">:</span> <span class="nam">Veterinario</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="str">"""Insere veterin&#225;rio e usu&#225;rio em uma &#250;nica transa&#231;&#227;o at&#244;mica."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="com"># Inserir usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">            <span class="nam">usuario_sql</span><span class="op">.</span><span class="nam">INSERIR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">            <span class="op">(</span><span class="nam">vet</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">senha</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">perfil</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="nam">id_veterinario</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">lastrowid</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="com"># Inserir veterin&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">veterinario_sql</span><span class="op">.</span><span class="nam">INSERIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_veterinario</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">crmv</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">bio</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">        <span class="key">return</span> <span class="nam">id_veterinario</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar</span><span class="op">(</span><span class="nam">vet</span><span class="op">:</span> <span class="nam">Veterinario</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">    <span class="str">"""Atualiza veterin&#225;rio e usu&#225;rio em uma &#250;nica transa&#231;&#227;o at&#244;mica."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">        <span class="com"># Atualizar usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">usuario_sql</span><span class="op">.</span><span class="nam">ATUALIZAR</span><span class="op">,</span> <span class="op">(</span><span class="nam">vet</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="com"># Atualizar veterin&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR</span><span class="op">,</span> <span class="op">(</span><span class="nam">vet</span><span class="op">.</span><span class="nam">crmv</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">verificado</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">bio</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t"><span class="key">def</span> <span class="nam">atualizar_verificacao</span><span class="op">(</span><span class="nam">id_veterinario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">verificado</span><span class="op">:</span> <span class="nam">bool</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">ATUALIZAR_VERIFICADO</span><span class="op">,</span> <span class="op">(</span><span class="nam">verificado</span><span class="op">,</span> <span class="nam">id_veterinario</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="key">return</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t"><span class="key">def</span> <span class="nam">excluir</span><span class="op">(</span><span class="nam">id</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="str">"""Exclui veterin&#225;rio e usu&#225;rio em uma &#250;nica transa&#231;&#227;o at&#244;mica."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="com"># Excluir veterin&#225;rio (deve vir primeiro devido a foreign key)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">        <span class="nam">excluiu_veterinario</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">        <span class="com"># Excluir usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">usuario_sql</span><span class="op">.</span><span class="nam">EXCLUIR</span><span class="op">,</span> <span class="op">(</span><span class="nam">id</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="nam">excluiu_usuario</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">rowcount</span> <span class="op">></span> <span class="num">0</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="key">return</span> <span class="nam">excluiu_veterinario</span> <span class="key">and</span> <span class="nam">excluiu_usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">Veterinario</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_PAGINA</span><span class="op">,</span> <span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">offset</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">        <span class="nam">rows</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchall</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">        <span class="nam">veterinarios</span> <span class="op">=</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">            <span class="nam">Veterinario</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">                <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">                <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">                <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">                <span class="nam">senha</span><span class="op">=</span><span class="str">""</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">                <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">                <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"perfil"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="str">"veterinario"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">                <span class="nam">token_redefinicao</span><span class="op">=</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"token_redefinicao"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">                <span class="nam">data_token</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"data_token"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">                <span class="nam">data_cadastro</span><span class="op">=</span><span class="op">(</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span> <span class="key">if</span> <span class="str">"data_cadastro"</span> <span class="key">in</span> <span class="nam">row</span><span class="op">.</span><span class="nam">keys</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">                <span class="nam">crmv</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"crmv"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">                <span class="nam">verificado</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"verificado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">                <span class="nam">bio</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"bio"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">            <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">        <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">        <span class="key">return</span> <span class="nam">veterinarios</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_por_id</span><span class="op">(</span><span class="nam">id_veterinario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Veterinario</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">OBTER_POR_ID</span><span class="op">,</span> <span class="op">(</span><span class="nam">id_veterinario</span><span class="op">,</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">        <span class="nam">row</span> <span class="op">=</span> <span class="nam">cursor</span><span class="op">.</span><span class="nam">fetchone</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">        <span class="key">if</span> <span class="nam">row</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">        <span class="nam">veterinario</span> <span class="op">=</span> <span class="nam">Veterinario</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">            <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">            <span class="nam">nome</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">            <span class="nam">email</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">            <span class="nam">senha</span><span class="op">=</span><span class="str">""</span><span class="op">,</span>  <span class="com"># N&#227;o expor senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">            <span class="nam">telefone</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">            <span class="nam">perfil</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"perfil"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">            <span class="nam">data_cadastro</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_cadastro"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">            <span class="nam">data_token</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"data_token"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">            <span class="nam">token_redefinicao</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"token_redefinicao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">            <span class="nam">crmv</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"crmv"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">            <span class="nam">verificado</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"verificado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">            <span class="nam">bio</span><span class="op">=</span><span class="nam">row</span><span class="op">[</span><span class="str">"bio"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">        <span class="key">return</span> <span class="nam">veterinario</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t"><span class="key">def</span> <span class="nam">importar</span><span class="op">(</span><span class="nam">vet</span><span class="op">:</span> <span class="nam">Veterinario</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">    <span class="str">"""Insere veterin&#225;rio e usu&#225;rio em uma &#250;nica transa&#231;&#227;o at&#244;mica."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">    <span class="key">with</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="key">as</span> <span class="nam">conn</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">        <span class="nam">cursor</span> <span class="op">=</span> <span class="nam">conn</span><span class="op">.</span><span class="nam">cursor</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">        <span class="com"># Inserir usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">            <span class="nam">usuario_sql</span><span class="op">.</span><span class="nam">IMPORTAR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">            <span class="op">(</span><span class="nam">vet</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">nome</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">email</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">senha</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">telefone</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">perfil</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">        <span class="com"># Inserir veterin&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">        <span class="nam">cursor</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="nam">veterinario_sql</span><span class="op">.</span><span class="nam">IMPORTAR</span><span class="op">,</span> <span class="op">(</span><span class="nam">vet</span><span class="op">.</span><span class="nam">id_usuario</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">crmv</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">verificado</span><span class="op">,</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">bio</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">        <span class="key">return</span> <span class="nam">vet</span><span class="op">.</span><span class="nam">id_usuario</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_verificacao_crmv_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869___init___py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869___init___py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/__init__.py: 100%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/__init__.py</b>:
            <span class="pc_cov">100%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">0 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">0<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_9e5a55656cee699e_veterinario_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_auth_decorator_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_9e5a55656cee699e_veterinario_repo_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_auth_decorator_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_auth_decorator_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/auth_decorator.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/auth_decorator.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">49 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">49<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">1<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869___init___py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_data_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 03:40 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Decorator para proteger rotas com autentica&#231;&#227;o e autoriza&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">functools</span> <span class="key">import</span> <span class="nam">wraps</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">List</span><span class="op">,</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span> <span class="key">import</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">HTTPException</span><span class="op">,</span> <span class="nam">status</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span><span class="op">.</span><span class="nam">responses</span> <span class="key">import</span> <span class="nam">RedirectResponse</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_usuario_logado</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">dict</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="str">    Obt&#233;m os dados do usu&#225;rio logado da sess&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="str">        request: Objeto Request do FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="str">        Dicion&#225;rio com dados do usu&#225;rio ou None se n&#227;o estiver logado</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="str">'session'</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">    <span class="key">return</span> <span class="nam">request</span><span class="op">.</span><span class="nam">session</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">'usuario'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="key">def</span> <span class="nam">esta_logado</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">    Verifica se h&#225; um usu&#225;rio logado</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="str">        request: Objeto Request do FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="str">        True se h&#225; usu&#225;rio logado, False caso contr&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="key">return</span> <span class="nam">obter_usuario_logado</span><span class="op">(</span><span class="nam">request</span><span class="op">)</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_sessao</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">usuario</span><span class="op">:</span> <span class="nam">dict</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t"><span class="str">    Cria uma sess&#227;o para o usu&#225;rio ap&#243;s login</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t"><span class="str">        request: Objeto Request do FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t"><span class="str">        usuario: Dicion&#225;rio com dados do usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">    <span class="key">if</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="str">'session'</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="com"># Limpar sess&#227;o anterior para prevenir fixa&#231;&#227;o de sess&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="nam">request</span><span class="op">.</span><span class="nam">session</span><span class="op">.</span><span class="nam">clear</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">        <span class="com"># Remove senha da sess&#227;o por seguran&#231;a</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="nam">usuario_sessao</span> <span class="op">=</span> <span class="nam">usuario</span><span class="op">.</span><span class="nam">copy</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">        <span class="nam">usuario_sessao</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="str">'senha'</span><span class="op">,</span> <span class="key">None</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="com"># Criar nova sess&#227;o com dados do usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="nam">request</span><span class="op">.</span><span class="nam">session</span><span class="op">[</span><span class="str">'usuario'</span><span class="op">]</span> <span class="op">=</span> <span class="nam">usuario_sessao</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t"><span class="key">def</span> <span class="nam">destruir_sessao</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t"><span class="str">    Destr&#243;i a sess&#227;o do usu&#225;rio (logout)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t"><span class="str">        request: Objeto Request do FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">    <span class="key">if</span> <span class="nam">hasattr</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="str">'session'</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="nam">request</span><span class="op">.</span><span class="nam">session</span><span class="op">.</span><span class="nam">clear</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t"><span class="key">def</span> <span class="nam">requer_autenticacao</span><span class="op">(</span><span class="nam">perfis_autorizados</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">List</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc show_exc"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t"><span class="str">    Decorator para proteger rotas que requerem autentica&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t"><span class="str">        perfis_autorizados: Lista de perfis autorizados a acessar a rota.</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t"><span class="str">                           Se None, qualquer usu&#225;rio logado pode acessar.</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t"><span class="str">    Exemplo de uso:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t"><span class="str">        @router.get("/admin")</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t"><span class="str">        @requer_autenticacao(['admin'])</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t"><span class="str">        async def admin_page(request: Request):</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t"><span class="str">            ...</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t"><span class="str">        </span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t"><span class="str">        @router.get("/perfil")</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t"><span class="str">        @requer_autenticacao()  # Qualquer usu&#225;rio logado</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t"><span class="str">        async def perfil(request: Request):</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t"><span class="str">            ...</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">    <span class="key">def</span> <span class="nam">decorator</span><span class="op">(</span><span class="nam">func</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">        <span class="op">@</span><span class="nam">wraps</span><span class="op">(</span><span class="nam">func</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">        <span class="key">async</span> <span class="key">def</span> <span class="nam">wrapper</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">            <span class="com"># Encontra o objeto Request nos argumentos</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">            <span class="nam">request</span> <span class="op">=</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">            <span class="key">for</span> <span class="nam">arg</span> <span class="key">in</span> <span class="nam">args</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">                <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">arg</span><span class="op">,</span> <span class="nam">Request</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">                    <span class="nam">request</span> <span class="op">=</span> <span class="nam">arg</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">                    <span class="key">break</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">request</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">                <span class="key">for</span> <span class="nam">value</span> <span class="key">in</span> <span class="nam">kwargs</span><span class="op">.</span><span class="nam">values</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">                    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">value</span><span class="op">,</span> <span class="nam">Request</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">                        <span class="nam">request</span> <span class="op">=</span> <span class="nam">value</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">                        <span class="key">break</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">request</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">                <span class="key">raise</span> <span class="nam">HTTPException</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">                    <span class="nam">status_code</span><span class="op">=</span><span class="nam">status</span><span class="op">.</span><span class="nam">HTTP_500_INTERNAL_SERVER_ERROR</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">                    <span class="nam">detail</span><span class="op">=</span><span class="str">"Request object not found"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">            <span class="com"># Verifica se o usu&#225;rio est&#225; logado</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">            <span class="nam">usuario</span> <span class="op">=</span> <span class="nam">obter_usuario_logado</span><span class="op">(</span><span class="nam">request</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">usuario</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">                <span class="com"># Redireciona para login se n&#227;o estiver autenticado</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">                <span class="key">return</span> <span class="nam">RedirectResponse</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">                    <span class="nam">url</span><span class="op">=</span><span class="str">"/login?redirect="</span> <span class="op">+</span> <span class="nam">str</span><span class="op">(</span><span class="nam">request</span><span class="op">.</span><span class="nam">url</span><span class="op">.</span><span class="nam">path</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">                    <span class="nam">status_code</span><span class="op">=</span><span class="nam">status</span><span class="op">.</span><span class="nam">HTTP_303_SEE_OTHER</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">            <span class="com"># Verifica autoriza&#231;&#227;o se perfis foram especificados</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">            <span class="key">if</span> <span class="nam">perfis_autorizados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">                <span class="nam">perfil_usuario</span> <span class="op">=</span> <span class="nam">usuario</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">'perfil'</span><span class="op">,</span> <span class="str">'cliente'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">                <span class="key">if</span> <span class="nam">perfil_usuario</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">perfis_autorizados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">                    <span class="com"># Retorna erro 403 se n&#227;o autorizado</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">                    <span class="key">raise</span> <span class="nam">HTTPException</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">                        <span class="nam">status_code</span><span class="op">=</span><span class="nam">status</span><span class="op">.</span><span class="nam">HTTP_403_FORBIDDEN</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">                        <span class="nam">detail</span><span class="op">=</span><span class="str">"Voc&#234; n&#227;o tem permiss&#227;o para acessar este recurso"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">                    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">            <span class="com"># Adiciona o usu&#225;rio aos kwargs para f&#225;cil acesso na rota</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">            <span class="nam">kwargs</span><span class="op">[</span><span class="str">'usuario_logado'</span><span class="op">]</span> <span class="op">=</span> <span class="nam">usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">            <span class="com"># Chama a fun&#231;&#227;o original</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">            <span class="key">if</span> <span class="nam">asyncio</span><span class="op">.</span><span class="nam">iscoroutinefunction</span><span class="op">(</span><span class="nam">func</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">                <span class="key">return</span> <span class="key">await</span> <span class="nam">func</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">            <span class="key">return</span> <span class="nam">func</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">        <span class="key">return</span> <span class="nam">wrapper</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">    <span class="key">return</span> <span class="nam">decorator</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t"><span class="com"># Importa&#231;&#227;o necess&#225;ria para fun&#231;&#245;es ass&#237;ncronas</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t"><span class="key">import</span> <span class="nam">asyncio</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869___init___py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_data_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 03:40 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_data_util_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/data_util.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/data_util.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">56 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">56<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_auth_decorator_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_db_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Utilit&#225;rios para convers&#227;o de datas e timestamps.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span><span class="op">,</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Union</span><span class="op">,</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">def</span> <span class="nam">converter_para_date</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">    <span class="nam">valor</span><span class="op">:</span> <span class="nam">Union</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">date</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="nam">formato</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">"%Y-%m-%d"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">date</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="str">    Converte string ou date para date, retorna None se inv&#225;lido.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="str">        valor: Valor a ser convertido (str, date ou None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="str">        formato: Formato de data esperado para strings (padr&#227;o: %Y-%m-%d)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t"><span class="str">        date object ou None se convers&#227;o falhar</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="str">        >>> converter_para_date("2025-10-15")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="str">        date(2025, 10, 15)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="str">        >>> converter_para_date(date(2025, 10, 15))</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">        date(2025, 10, 15)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="str">        >>> converter_para_date(None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="str">        None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">    <span class="key">if</span> <span class="nam">valor</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">date</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="key">return</span> <span class="nam">valor</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">            <span class="key">return</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">formato</span><span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="key">except</span> <span class="nam">ValueError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">            <span class="com"># Tentar formato com hora</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">            <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">                <span class="key">return</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="str">"%Y-%m-%d %H:%M:%S"</span><span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">            <span class="key">except</span> <span class="nam">ValueError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">                <span class="com"># Tentar formato ISO</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">                <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">                    <span class="key">return</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">fromisoformat</span><span class="op">(</span><span class="nam">valor</span><span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">                <span class="key">except</span> <span class="op">(</span><span class="nam">ValueError</span><span class="op">,</span> <span class="nam">AttributeError</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">                    <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">    <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="key">def</span> <span class="nam">converter_para_datetime</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">    <span class="nam">valor</span><span class="op">:</span> <span class="nam">Union</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">datetime</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">    <span class="nam">formato</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">"%Y-%m-%d %H:%M:%S"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">datetime</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t"><span class="str">    Converte string ou datetime para datetime.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t"><span class="str">        valor: Valor a ser convertido (str, datetime ou None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t"><span class="str">        formato: Formato de datetime esperado para strings</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t"><span class="str">        datetime object ou None se convers&#227;o falhar</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t"><span class="str">        >>> converter_para_datetime("2025-10-15 10:30:00")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t"><span class="str">        datetime(2025, 10, 15, 10, 30, 0)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t"><span class="str">        >>> converter_para_datetime(datetime(2025, 10, 15))</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t"><span class="str">        datetime(2025, 10, 15, 0, 0)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t"><span class="str">        >>> converter_para_datetime(None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t"><span class="str">        None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">    <span class="key">if</span> <span class="nam">valor</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">datetime</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">        <span class="key">return</span> <span class="nam">valor</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">            <span class="key">return</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">formato</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">        <span class="key">except</span> <span class="nam">ValueError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">            <span class="com"># Tentar formato ISO</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">            <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">                <span class="key">return</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">fromisoformat</span><span class="op">(</span><span class="nam">valor</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">            <span class="key">except</span> <span class="op">(</span><span class="nam">ValueError</span><span class="op">,</span> <span class="nam">AttributeError</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">                <span class="com"># Tentar formato apenas data</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">                <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">                    <span class="key">return</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="str">"%Y-%m-%d"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">                <span class="key">except</span> <span class="nam">ValueError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">                    <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">    <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t"><span class="key">def</span> <span class="nam">formatar_data</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">    <span class="nam">valor</span><span class="op">:</span> <span class="nam">Union</span><span class="op">[</span><span class="nam">date</span><span class="op">,</span> <span class="nam">datetime</span><span class="op">,</span> <span class="nam">str</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">    <span class="nam">formato</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">"%d/%m/%Y"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t"><span class="str">    Formata uma data para string no formato brasileiro ou personalizado.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t"><span class="str">        valor: Valor a ser formatado (date, datetime, str ou None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t"><span class="str">        formato: Formato de sa&#237;da desejado (padr&#227;o: %d/%m/%Y - brasileiro)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t"><span class="str">        String formatada ou None se convers&#227;o falhar</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t"><span class="str">        >>> formatar_data(date(2025, 10, 15))</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t"><span class="str">        '15/10/2025'</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t"><span class="str">        >>> formatar_data("2025-10-15", "%d/%m/%Y")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t"><span class="str">        '15/10/2025'</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">    <span class="key">if</span> <span class="nam">valor</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">        <span class="com"># Tentar converter string para date primeiro</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">        <span class="nam">valor</span> <span class="op">=</span> <span class="nam">converter_para_date</span><span class="op">(</span><span class="nam">valor</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">        <span class="key">if</span> <span class="nam">valor</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="op">(</span><span class="nam">date</span><span class="op">,</span> <span class="nam">datetime</span><span class="op">)</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">        <span class="key">return</span> <span class="nam">valor</span><span class="op">.</span><span class="nam">strftime</span><span class="op">(</span><span class="nam">formato</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">    <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t"><span class="key">def</span> <span class="nam">formatar_datetime</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">    <span class="nam">valor</span><span class="op">:</span> <span class="nam">Union</span><span class="op">[</span><span class="nam">datetime</span><span class="op">,</span> <span class="nam">str</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">    <span class="nam">formato</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">"%d/%m/%Y %H:%M:%S"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t"><span class="str">    Formata um datetime para string no formato brasileiro ou personalizado.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t"><span class="str">        valor: Valor a ser formatado (datetime, str ou None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t"><span class="str">        formato: Formato de sa&#237;da desejado</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t"><span class="str">        String formatada ou None se convers&#227;o falhar</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t"><span class="str">        >>> formatar_datetime(datetime(2025, 10, 15, 10, 30, 0))</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t"><span class="str">        '15/10/2025 10:30:00'</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">    <span class="key">if</span> <span class="nam">valor</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t">        <span class="com"># Tentar converter string para datetime primeiro</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t">        <span class="nam">valor</span> <span class="op">=</span> <span class="nam">converter_para_datetime</span><span class="op">(</span><span class="nam">valor</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t">        <span class="key">if</span> <span class="nam">valor</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t">            <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">datetime</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t">        <span class="key">return</span> <span class="nam">valor</span><span class="op">.</span><span class="nam">strftime</span><span class="op">(</span><span class="nam">formato</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t">    <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_auth_decorator_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_db_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_db_util_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/db_util.py: 13%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/db_util.py</b>:
            <span class="pc_cov">13%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">163 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">21<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">142<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_data_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_enum_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="run"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">import</span> <span class="nam">sqlite3</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">import</span> <span class="nam">os</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">import</span> <span class="nam">json</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">contextlib</span> <span class="key">import</span> <span class="nam">contextmanager</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Generator</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">pathlib</span> <span class="key">import</span> <span class="nam">Path</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">import</span> <span class="nam">logging</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="nam">logger</span> <span class="op">=</span> <span class="nam">logging</span><span class="op">.</span><span class="nam">getLogger</span><span class="op">(</span><span class="nam">__name__</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="com"># Timeout padr&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="nam">DB_TIMEOUT</span><span class="op">:</span> <span class="nam">float</span> <span class="op">=</span> <span class="nam">float</span><span class="op">(</span><span class="nam">os</span><span class="op">.</span><span class="nam">getenv</span><span class="op">(</span><span class="str">"DATABASE_TIMEOUT"</span><span class="op">,</span> <span class="str">"30.0"</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="com"># Fun&#231;&#227;o para obter o caminho do banco de dados, considerando vari&#225;veis</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="com"># de ambiente que indicam caminhos diferentes para testes e produ&#231;&#227;o.</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="key">def</span> <span class="nam">_get_db_path</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">    <span class="str">"""Retorna o caminho do banco, lendo vari&#225;veis de ambiente dinamicamente."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">return</span> <span class="nam">os</span><span class="op">.</span><span class="nam">getenv</span><span class="op">(</span><span class="str">"TEST_DATABASE_PATH"</span><span class="op">)</span> <span class="key">or</span> <span class="nam">os</span><span class="op">.</span><span class="nam">getenv</span><span class="op">(</span><span class="str">"DATABASE_PATH"</span><span class="op">)</span> <span class="key">or</span> <span class="str">"dados.db"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="key">def</span> <span class="nam">_criar_conexao</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">sqlite3</span><span class="op">.</span><span class="nam">Connection</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">    <span class="str">"""Cria uma conex&#227;o configurada com o banco de dados."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">        <span class="nam">db_path</span> <span class="op">=</span> <span class="nam">_get_db_path</span><span class="op">(</span><span class="op">)</span>  <span class="com"># L&#234; dinamicamente a cada conex&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">        <span class="nam">conn</span> <span class="op">=</span> <span class="nam">sqlite3</span><span class="op">.</span><span class="nam">connect</span><span class="op">(</span><span class="nam">db_path</span><span class="op">,</span> <span class="nam">timeout</span><span class="op">=</span><span class="nam">DB_TIMEOUT</span><span class="op">,</span> <span class="nam">check_same_thread</span><span class="op">=</span><span class="key">False</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="nam">conn</span><span class="op">.</span><span class="nam">row_factory</span> <span class="op">=</span> <span class="nam">sqlite3</span><span class="op">.</span><span class="nam">Row</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="com"># CRITICAL: Habilitar foreign keys no SQLite</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="nam">conn</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="str">"PRAGMA foreign_keys = ON"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="com"># Performance improvements</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="nam">conn</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="str">"PRAGMA journal_mode = WAL"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="nam">conn</span><span class="op">.</span><span class="nam">execute</span><span class="op">(</span><span class="str">"PRAGMA synchronous = NORMAL"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">        <span class="key">return</span> <span class="nam">conn</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">    <span class="key">except</span> <span class="nam">sqlite3</span><span class="op">.</span><span class="nam">Error</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro ao conectar ao banco de dados: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="key">raise</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="op">@</span><span class="nam">contextmanager</span>&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t"><span class="key">def</span> <span class="nam">get_connection</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Generator</span><span class="op">[</span><span class="nam">sqlite3</span><span class="op">.</span><span class="nam">Connection</span><span class="op">,</span> <span class="key">None</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">    <span class="str">"""Context manager para gerenciar conex&#245;es com commit/rollback autom&#225;tico."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">    <span class="nam">conn</span> <span class="op">=</span> <span class="nam">_criar_conexao</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="key">yield</span> <span class="nam">conn</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="nam">conn</span><span class="op">.</span><span class="nam">commit</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="nam">conn</span><span class="op">.</span><span class="nam">rollback</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro na transa&#231;&#227;o, rollback executado: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="key">raise</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">    <span class="key">finally</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="nam">conn</span><span class="op">.</span><span class="nam">close</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="key">def</span> <span class="nam">get_connection_sem_commit</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">sqlite3</span><span class="op">.</span><span class="nam">Connection</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">    <span class="str">"""Retorna conex&#227;o sem commit autom&#225;tico para opera&#231;&#245;es de leitura."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">    <span class="key">return</span> <span class="nam">_criar_conexao</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t"><span class="key">def</span> <span class="nam">inicializar_banco</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">    <span class="com"># Chama o m&#233;todo criar_tabela de cada reposit&#243;rio para garantir que as tabelas existam</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">    <span class="key">from</span> <span class="nam">repo</span> <span class="key">import</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">        <span class="nam">administrador_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="nam">tutor_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="nam">usuario_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">        <span class="nam">veterinario_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="nam">categoria_artigo_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">        <span class="nam">postagem_artigo_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">        <span class="nam">curtida_artigo_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="nam">postagem_feed_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">        <span class="nam">curtida_feed_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="nam">denuncia_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">        <span class="nam">verificacao_crmv_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">        <span class="nam">seguida_repo</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">    <span class="nam">usuario_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">    <span class="nam">tutor_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">    <span class="nam">veterinario_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">    <span class="nam">administrador_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">    <span class="nam">categoria_artigo_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">    <span class="nam">postagem_artigo_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">    <span class="nam">curtida_artigo_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">    <span class="nam">postagem_feed_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">    <span class="nam">curtida_feed_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">    <span class="nam">denuncia_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">    <span class="nam">verificacao_crmv_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">    <span class="nam">seguida_repo</span><span class="op">.</span><span class="nam">criar_tabela</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">    <span class="com"># Importar dados iniciais se necess&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">    <span class="nam">importar_admins</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">    <span class="nam">importar_veterinarios</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">    <span class="nam">importar_tutores</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">    <span class="nam">importar_categorias_artigos</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">    <span class="nam">importar_postagens_artigos</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">    <span class="nam">importar_postagens_feeds</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t"><span class="key">def</span> <span class="nam">importar_admins</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">    <span class="str">"""Importa administradores do arquivo JSON se a tabela estiver vazia."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">    <span class="key">from</span> <span class="nam">repo</span> <span class="key">import</span> <span class="nam">administrador_repo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">    <span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">administrador_model</span> <span class="key">import</span> <span class="nam">Administrador</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">    <span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">security</span> <span class="key">import</span> <span class="nam">criar_hash_senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">    <span class="com"># Verifica se a tabela est&#225; vazia</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">    <span class="nam">admins_existentes</span> <span class="op">=</span> <span class="nam">administrador_repo</span><span class="op">.</span><span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">offset</span><span class="op">=</span><span class="num">0</span><span class="op">,</span> <span class="nam">limite</span><span class="op">=</span><span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">    <span class="key">if</span> <span class="nam">admins_existentes</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Tabela de administradores j&#225; cont&#233;m dados. Importa&#231;&#227;o ignorada."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">    <span class="com"># L&#234; o arquivo JSON</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">    <span class="nam">json_path</span> <span class="op">=</span> <span class="nam">Path</span><span class="op">(</span><span class="nam">__file__</span><span class="op">)</span><span class="op">.</span><span class="nam">parent</span><span class="op">.</span><span class="nam">parent</span> <span class="op">/</span> <span class="str">"data"</span> <span class="op">/</span> <span class="str">"admins.json"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">json_path</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Arquivo {json_path} n&#227;o encontrado."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">    <span class="key">with</span> <span class="nam">open</span><span class="op">(</span><span class="nam">json_path</span><span class="op">,</span> <span class="str">"r"</span><span class="op">,</span> <span class="nam">encoding</span><span class="op">=</span><span class="str">"utf-8"</span><span class="op">)</span> <span class="key">as</span> <span class="nam">f</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">        <span class="nam">dados</span> <span class="op">=</span> <span class="nam">json</span><span class="op">.</span><span class="nam">load</span><span class="op">(</span><span class="nam">f</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">    <span class="com"># Importa cada administrador</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">    <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">dados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">        <span class="nam">admin</span> <span class="op">=</span> <span class="nam">Administrador</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">            <span class="nam">id_admin</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_admin"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">            <span class="nam">nome</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">            <span class="nam">email</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">            <span class="nam">senha</span><span class="op">=</span><span class="nam">criar_hash_senha</span><span class="op">(</span><span class="nam">item</span><span class="op">[</span><span class="str">"senha"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">        <span class="nam">administrador_repo</span><span class="op">.</span><span class="nam">importar</span><span class="op">(</span><span class="nam">admin</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">f"Administrador '{admin.nome}' importado com sucesso."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t"><span class="key">def</span> <span class="nam">importar_tutores</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">    <span class="str">"""Importa tutores do arquivo JSON se a tabela estiver vazia."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">    <span class="key">from</span> <span class="nam">repo</span> <span class="key">import</span> <span class="nam">tutor_repo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">    <span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">tutor_model</span> <span class="key">import</span> <span class="nam">Tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">    <span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">security</span> <span class="key">import</span> <span class="nam">criar_hash_senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">    <span class="com"># Verifica se a tabela est&#225; vazia</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">    <span class="nam">tutores_existentes</span> <span class="op">=</span> <span class="nam">tutor_repo</span><span class="op">.</span><span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">offset</span><span class="op">=</span><span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">    <span class="key">if</span> <span class="nam">tutores_existentes</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Tabela de tutores j&#225; cont&#233;m dados. Importa&#231;&#227;o ignorada."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">    <span class="com"># L&#234; o arquivo JSON</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">    <span class="nam">json_path</span> <span class="op">=</span> <span class="nam">Path</span><span class="op">(</span><span class="nam">__file__</span><span class="op">)</span><span class="op">.</span><span class="nam">parent</span><span class="op">.</span><span class="nam">parent</span> <span class="op">/</span> <span class="str">"data"</span> <span class="op">/</span> <span class="str">"tutores.json"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">json_path</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Arquivo {json_path} n&#227;o encontrado."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t">    <span class="key">with</span> <span class="nam">open</span><span class="op">(</span><span class="nam">json_path</span><span class="op">,</span> <span class="str">"r"</span><span class="op">,</span> <span class="nam">encoding</span><span class="op">=</span><span class="str">"utf-8"</span><span class="op">)</span> <span class="key">as</span> <span class="nam">f</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t">        <span class="nam">dados</span> <span class="op">=</span> <span class="nam">json</span><span class="op">.</span><span class="nam">load</span><span class="op">(</span><span class="nam">f</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">    <span class="com"># Importa cada tutor</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t">    <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">dados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t">        <span class="nam">tutor</span> <span class="op">=</span> <span class="nam">Tutor</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t">            <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t">            <span class="nam">nome</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t">            <span class="nam">email</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t">            <span class="nam">senha</span><span class="op">=</span><span class="nam">criar_hash_senha</span><span class="op">(</span><span class="nam">item</span><span class="op">[</span><span class="str">"senha"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t">            <span class="nam">telefone</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t">            <span class="nam">perfil</span><span class="op">=</span><span class="str">"tutor"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t">            <span class="nam">token_redefinicao</span><span class="op">=</span><span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t">            <span class="nam">data_token</span><span class="op">=</span><span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t">            <span class="nam">data_cadastro</span><span class="op">=</span><span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t">            <span class="nam">quantidade_pets</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"quantidade_pets"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t">            <span class="nam">descricao_pets</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"descricao_pets"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t">        <span class="nam">tutor_repo</span><span class="op">.</span><span class="nam">importar</span><span class="op">(</span><span class="nam">tutor</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t168" href="#t168">168</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">f"Tutor '{tutor.nome}' importado com sucesso."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t"><span class="key">def</span> <span class="nam">importar_veterinarios</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t">    <span class="str">"""Importa veterin&#225;rios do arquivo JSON se a tabela estiver vazia."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">    <span class="key">from</span> <span class="nam">repo</span> <span class="key">import</span> <span class="nam">veterinario_repo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t">    <span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">veterinario_model</span> <span class="key">import</span> <span class="nam">Veterinario</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t">    <span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">security</span> <span class="key">import</span> <span class="nam">criar_hash_senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t176" href="#t176">176</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t177" href="#t177">177</a></span><span class="t">    <span class="com"># Verifica se a tabela est&#225; vazia</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t178" href="#t178">178</a></span><span class="t">    <span class="nam">vets_existentes</span> <span class="op">=</span> <span class="nam">veterinario_repo</span><span class="op">.</span><span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">limite</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">offset</span><span class="op">=</span><span class="num">0</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t179" href="#t179">179</a></span><span class="t">    <span class="key">if</span> <span class="nam">vets_existentes</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t180" href="#t180">180</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Tabela de veterin&#225;rios j&#225; cont&#233;m dados. Importa&#231;&#227;o ignorada."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t181" href="#t181">181</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t182" href="#t182">182</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t183" href="#t183">183</a></span><span class="t">    <span class="com"># L&#234; o arquivo JSON</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t184" href="#t184">184</a></span><span class="t">    <span class="nam">json_path</span> <span class="op">=</span> <span class="nam">Path</span><span class="op">(</span><span class="nam">__file__</span><span class="op">)</span><span class="op">.</span><span class="nam">parent</span><span class="op">.</span><span class="nam">parent</span> <span class="op">/</span> <span class="str">"data"</span> <span class="op">/</span> <span class="str">"veterinarios.json"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t185" href="#t185">185</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">json_path</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t186" href="#t186">186</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Arquivo {json_path} n&#227;o encontrado."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t187" href="#t187">187</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t188" href="#t188">188</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t189" href="#t189">189</a></span><span class="t">    <span class="key">with</span> <span class="nam">open</span><span class="op">(</span><span class="nam">json_path</span><span class="op">,</span> <span class="str">"r"</span><span class="op">,</span> <span class="nam">encoding</span><span class="op">=</span><span class="str">"utf-8"</span><span class="op">)</span> <span class="key">as</span> <span class="nam">f</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t190" href="#t190">190</a></span><span class="t">        <span class="nam">dados</span> <span class="op">=</span> <span class="nam">json</span><span class="op">.</span><span class="nam">load</span><span class="op">(</span><span class="nam">f</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t191" href="#t191">191</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t192" href="#t192">192</a></span><span class="t">    <span class="com"># Importa cada veterin&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t193" href="#t193">193</a></span><span class="t">    <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">dados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t194" href="#t194">194</a></span><span class="t">        <span class="nam">vet</span> <span class="op">=</span> <span class="nam">Veterinario</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t195" href="#t195">195</a></span><span class="t">            <span class="nam">id_usuario</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_usuario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t196" href="#t196">196</a></span><span class="t">            <span class="nam">nome</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t197" href="#t197">197</a></span><span class="t">            <span class="nam">email</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"email"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t198" href="#t198">198</a></span><span class="t">            <span class="nam">senha</span><span class="op">=</span><span class="nam">criar_hash_senha</span><span class="op">(</span><span class="nam">item</span><span class="op">[</span><span class="str">"senha"</span><span class="op">]</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t199" href="#t199">199</a></span><span class="t">            <span class="nam">telefone</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"telefone"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t200" href="#t200">200</a></span><span class="t">            <span class="nam">perfil</span><span class="op">=</span><span class="str">"veterinario"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t201" href="#t201">201</a></span><span class="t">            <span class="nam">token_redefinicao</span><span class="op">=</span><span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t202" href="#t202">202</a></span><span class="t">            <span class="nam">data_token</span><span class="op">=</span><span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t203" href="#t203">203</a></span><span class="t">            <span class="nam">data_cadastro</span><span class="op">=</span><span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t204" href="#t204">204</a></span><span class="t">            <span class="nam">crmv</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"crmv"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t205" href="#t205">205</a></span><span class="t">            <span class="nam">verificado</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"verificado"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t206" href="#t206">206</a></span><span class="t">            <span class="nam">bio</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"bio"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t207" href="#t207">207</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t208" href="#t208">208</a></span><span class="t">        <span class="nam">veterinario_repo</span><span class="op">.</span><span class="nam">importar</span><span class="op">(</span><span class="nam">vet</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t209" href="#t209">209</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">f"Veterin&#225;rio '{vet.nome}' importado com sucesso."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t210" href="#t210">210</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t211" href="#t211">211</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t212" href="#t212">212</a></span><span class="t"><span class="key">def</span> <span class="nam">importar_categorias_artigos</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t213" href="#t213">213</a></span><span class="t">    <span class="str">"""Importa categorias de artigos do arquivo JSON se a tabela estiver vazia."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t214" href="#t214">214</a></span><span class="t">    <span class="key">from</span> <span class="nam">repo</span> <span class="key">import</span> <span class="nam">categoria_artigo_repo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t215" href="#t215">215</a></span><span class="t">    <span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">categoria_artigo_model</span> <span class="key">import</span> <span class="nam">CategoriaArtigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t216" href="#t216">216</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t217" href="#t217">217</a></span><span class="t">    <span class="com"># Verifica se a tabela est&#225; vazia</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t218" href="#t218">218</a></span><span class="t">    <span class="nam">categorias_existentes</span> <span class="op">=</span> <span class="nam">categoria_artigo_repo</span><span class="op">.</span><span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">offset</span><span class="op">=</span><span class="num">0</span><span class="op">,</span> <span class="nam">limite</span><span class="op">=</span><span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t219" href="#t219">219</a></span><span class="t">    <span class="key">if</span> <span class="nam">categorias_existentes</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t220" href="#t220">220</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Tabela de categorias de artigos j&#225; cont&#233;m dados. Importa&#231;&#227;o ignorada."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t221" href="#t221">221</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t222" href="#t222">222</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t223" href="#t223">223</a></span><span class="t">    <span class="com"># L&#234; o arquivo JSON</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t224" href="#t224">224</a></span><span class="t">    <span class="nam">json_path</span> <span class="op">=</span> <span class="nam">Path</span><span class="op">(</span><span class="nam">__file__</span><span class="op">)</span><span class="op">.</span><span class="nam">parent</span><span class="op">.</span><span class="nam">parent</span> <span class="op">/</span> <span class="str">"data"</span> <span class="op">/</span> <span class="str">"categorias_artigos.json"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t225" href="#t225">225</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">json_path</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t226" href="#t226">226</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Arquivo {json_path} n&#227;o encontrado."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t227" href="#t227">227</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t228" href="#t228">228</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t229" href="#t229">229</a></span><span class="t">    <span class="key">with</span> <span class="nam">open</span><span class="op">(</span><span class="nam">json_path</span><span class="op">,</span> <span class="str">"r"</span><span class="op">,</span> <span class="nam">encoding</span><span class="op">=</span><span class="str">"utf-8"</span><span class="op">)</span> <span class="key">as</span> <span class="nam">f</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t230" href="#t230">230</a></span><span class="t">        <span class="nam">dados</span> <span class="op">=</span> <span class="nam">json</span><span class="op">.</span><span class="nam">load</span><span class="op">(</span><span class="nam">f</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t231" href="#t231">231</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t232" href="#t232">232</a></span><span class="t">    <span class="com"># Importa cada categoria</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t233" href="#t233">233</a></span><span class="t">    <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">dados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t234" href="#t234">234</a></span><span class="t">        <span class="nam">categoria</span> <span class="op">=</span> <span class="nam">CategoriaArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t235" href="#t235">235</a></span><span class="t">            <span class="nam">id_categoria_artigo</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_categoria_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t236" href="#t236">236</a></span><span class="t">            <span class="nam">nome</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"nome"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t237" href="#t237">237</a></span><span class="t">            <span class="nam">cor</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"cor"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t238" href="#t238">238</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t239" href="#t239">239</a></span><span class="t">        <span class="nam">categoria_artigo_repo</span><span class="op">.</span><span class="nam">importar</span><span class="op">(</span><span class="nam">categoria</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t240" href="#t240">240</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">f"Categoria '{categoria.nome}' importada com sucesso."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t241" href="#t241">241</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t242" href="#t242">242</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t243" href="#t243">243</a></span><span class="t"><span class="key">def</span> <span class="nam">importar_postagens_artigos</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t244" href="#t244">244</a></span><span class="t">    <span class="str">"""Importa postagens de artigos do arquivo JSON se a tabela estiver vazia."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t245" href="#t245">245</a></span><span class="t">    <span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">date</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t246" href="#t246">246</a></span><span class="t">    <span class="key">from</span> <span class="nam">repo</span> <span class="key">import</span> <span class="nam">postagem_artigo_repo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t247" href="#t247">247</a></span><span class="t">    <span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">postagem_artigo_model</span> <span class="key">import</span> <span class="nam">PostagemArtigo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t248" href="#t248">248</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t249" href="#t249">249</a></span><span class="t">    <span class="com"># Verifica se a tabela est&#225; vazia</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t250" href="#t250">250</a></span><span class="t">    <span class="nam">postagens_existentes</span> <span class="op">=</span> <span class="nam">postagem_artigo_repo</span><span class="op">.</span><span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">pagina</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">tamanho_pagina</span><span class="op">=</span><span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t251" href="#t251">251</a></span><span class="t">    <span class="key">if</span> <span class="nam">postagens_existentes</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t252" href="#t252">252</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Tabela de postagens de artigos j&#225; cont&#233;m dados. Importa&#231;&#227;o ignorada."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t253" href="#t253">253</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t254" href="#t254">254</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t255" href="#t255">255</a></span><span class="t">    <span class="com"># L&#234; o arquivo JSON</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t256" href="#t256">256</a></span><span class="t">    <span class="nam">json_path</span> <span class="op">=</span> <span class="nam">Path</span><span class="op">(</span><span class="nam">__file__</span><span class="op">)</span><span class="op">.</span><span class="nam">parent</span><span class="op">.</span><span class="nam">parent</span> <span class="op">/</span> <span class="str">"data"</span> <span class="op">/</span> <span class="str">"postagens_artigos.json"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t257" href="#t257">257</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">json_path</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t258" href="#t258">258</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Arquivo {json_path} n&#227;o encontrado."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t259" href="#t259">259</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t260" href="#t260">260</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t261" href="#t261">261</a></span><span class="t">    <span class="key">with</span> <span class="nam">open</span><span class="op">(</span><span class="nam">json_path</span><span class="op">,</span> <span class="str">"r"</span><span class="op">,</span> <span class="nam">encoding</span><span class="op">=</span><span class="str">"utf-8"</span><span class="op">)</span> <span class="key">as</span> <span class="nam">f</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t262" href="#t262">262</a></span><span class="t">        <span class="nam">dados</span> <span class="op">=</span> <span class="nam">json</span><span class="op">.</span><span class="nam">load</span><span class="op">(</span><span class="nam">f</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t263" href="#t263">263</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t264" href="#t264">264</a></span><span class="t">    <span class="com"># Importa cada postagem</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t265" href="#t265">265</a></span><span class="t">    <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">dados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t266" href="#t266">266</a></span><span class="t">        <span class="nam">postagem</span> <span class="op">=</span> <span class="nam">PostagemArtigo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t267" href="#t267">267</a></span><span class="t">            <span class="nam">id_postagem_artigo</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_postagem_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t268" href="#t268">268</a></span><span class="t">            <span class="nam">id_veterinario</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_veterinario"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t269" href="#t269">269</a></span><span class="t">            <span class="nam">titulo</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"titulo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t270" href="#t270">270</a></span><span class="t">            <span class="nam">conteudo</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"conteudo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t271" href="#t271">271</a></span><span class="t">            <span class="nam">id_categoria_artigo</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_categoria_artigo"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t272" href="#t272">272</a></span><span class="t">            <span class="nam">data_publicacao</span><span class="op">=</span><span class="nam">date</span><span class="op">.</span><span class="nam">today</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>  <span class="com"># Usa data atual pois n&#227;o est&#225; no JSON</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t273" href="#t273">273</a></span><span class="t">            <span class="nam">visualizacoes</span><span class="op">=</span><span class="nam">item</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="str">"visualizacoes"</span><span class="op">,</span> <span class="num">0</span><span class="op">)</span><span class="op">,</span>  <span class="com"># Usa 0 como padr&#227;o se n&#227;o existir</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t274" href="#t274">274</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t275" href="#t275">275</a></span><span class="t">        <span class="nam">postagem_artigo_repo</span><span class="op">.</span><span class="nam">importar</span><span class="op">(</span><span class="nam">postagem</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t276" href="#t276">276</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">f"Postagem '{postagem.titulo}' importada com sucesso."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t277" href="#t277">277</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t278" href="#t278">278</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="run"><span class="n"><a id="t279" href="#t279">279</a></span><span class="t"><span class="key">def</span> <span class="nam">importar_postagens_feeds</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t280" href="#t280">280</a></span><span class="t">    <span class="str">"""Importa postagens de feeds do arquivo JSON se a tabela estiver vazia."""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t281" href="#t281">281</a></span><span class="t">    <span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t282" href="#t282">282</a></span><span class="t">    <span class="key">from</span> <span class="nam">repo</span> <span class="key">import</span> <span class="nam">postagem_feed_repo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t283" href="#t283">283</a></span><span class="t">    <span class="key">from</span> <span class="nam">model</span><span class="op">.</span><span class="nam">postagem_feed_model</span> <span class="key">import</span> <span class="nam">PostagemFeed</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t284" href="#t284">284</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t285" href="#t285">285</a></span><span class="t">    <span class="com"># Verifica se a tabela est&#225; vazia</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t286" href="#t286">286</a></span><span class="t">    <span class="nam">postagens_existentes</span> <span class="op">=</span> <span class="nam">postagem_feed_repo</span><span class="op">.</span><span class="nam">obter_pagina</span><span class="op">(</span><span class="nam">pagina</span><span class="op">=</span><span class="num">1</span><span class="op">,</span> <span class="nam">tamanho_pagina</span><span class="op">=</span><span class="num">1</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t287" href="#t287">287</a></span><span class="t">    <span class="key">if</span> <span class="nam">postagens_existentes</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t288" href="#t288">288</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">"Tabela de postagens de feeds j&#225; cont&#233;m dados. Importa&#231;&#227;o ignorada."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t289" href="#t289">289</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t290" href="#t290">290</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t291" href="#t291">291</a></span><span class="t">    <span class="com"># L&#234; o arquivo JSON</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t292" href="#t292">292</a></span><span class="t">    <span class="nam">json_path</span> <span class="op">=</span> <span class="nam">Path</span><span class="op">(</span><span class="nam">__file__</span><span class="op">)</span><span class="op">.</span><span class="nam">parent</span><span class="op">.</span><span class="nam">parent</span> <span class="op">/</span> <span class="str">"data"</span> <span class="op">/</span> <span class="str">"postagens_feeds.json"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t293" href="#t293">293</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">json_path</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t294" href="#t294">294</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Arquivo {json_path} n&#227;o encontrado."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t295" href="#t295">295</a></span><span class="t">        <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t296" href="#t296">296</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t297" href="#t297">297</a></span><span class="t">    <span class="key">with</span> <span class="nam">open</span><span class="op">(</span><span class="nam">json_path</span><span class="op">,</span> <span class="str">"r"</span><span class="op">,</span> <span class="nam">encoding</span><span class="op">=</span><span class="str">"utf-8"</span><span class="op">)</span> <span class="key">as</span> <span class="nam">f</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t298" href="#t298">298</a></span><span class="t">        <span class="nam">dados</span> <span class="op">=</span> <span class="nam">json</span><span class="op">.</span><span class="nam">load</span><span class="op">(</span><span class="nam">f</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t299" href="#t299">299</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t300" href="#t300">300</a></span><span class="t">    <span class="com"># Importa cada postagem</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t301" href="#t301">301</a></span><span class="t">    <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">dados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t302" href="#t302">302</a></span><span class="t">        <span class="nam">postagem</span> <span class="op">=</span> <span class="nam">PostagemFeed</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t303" href="#t303">303</a></span><span class="t">            <span class="nam">id_postagem_feed</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_postagem_feed"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t304" href="#t304">304</a></span><span class="t">            <span class="nam">id_tutor</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"id_tutor"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t305" href="#t305">305</a></span><span class="t">            <span class="nam">descricao</span><span class="op">=</span><span class="nam">item</span><span class="op">[</span><span class="str">"descricao"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t306" href="#t306">306</a></span><span class="t">            <span class="nam">data_postagem</span><span class="op">=</span><span class="nam">datetime</span><span class="op">.</span><span class="nam">strptime</span><span class="op">(</span><span class="nam">item</span><span class="op">[</span><span class="str">"data_postagem"</span><span class="op">]</span><span class="op">,</span> <span class="str">"%Y-%m-%d %H:%M:%S"</span><span class="op">)</span><span class="op">.</span><span class="nam">date</span><span class="op">(</span><span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t307" href="#t307">307</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t308" href="#t308">308</a></span><span class="t">        <span class="nam">postagem_feed_repo</span><span class="op">.</span><span class="nam">importar</span><span class="op">(</span><span class="nam">postagem</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t309" href="#t309">309</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">f"Postagem feed #{postagem.id_postagem_feed} do tutor {postagem.id_tutor} importada com sucesso."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_data_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_enum_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 04:28 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_enum_util_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/enum_util.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/enum_util.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">20 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">20<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_db_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_error_handlers_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Utilit&#225;rios para convers&#227;o de enums.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">enum</span> <span class="key">import</span> <span class="nam">Enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Union</span><span class="op">,</span> <span class="nam">Type</span><span class="op">,</span> <span class="nam">TypeVar</span><span class="op">,</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="nam">E</span> <span class="op">=</span> <span class="nam">TypeVar</span><span class="op">(</span><span class="str">'E'</span><span class="op">,</span> <span class="nam">bound</span><span class="op">=</span><span class="nam">Enum</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="key">def</span> <span class="nam">enum_para_valor</span><span class="op">(</span><span class="nam">enum_ou_valor</span><span class="op">:</span> <span class="nam">Union</span><span class="op">[</span><span class="nam">E</span><span class="op">,</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">int</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Union</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">int</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="str">    Converte enum para valor ou retorna o valor se j&#225; for primitivo.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="str">        enum_ou_valor: Um enum ou valor primitivo (str, int)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="str">        O valor do enum (str ou int)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="str">        >>> from enum import Enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">        >>> class Status(Enum):</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="str">        ...     ABERTO = "aberto"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="str">        ...     FECHADO = "fechado"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="str">        >>> enum_para_valor(Status.ABERTO)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">        'aberto'</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="str">        >>> enum_para_valor("aberto")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="str">        'aberto'</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">    <span class="key">return</span> <span class="nam">enum_ou_valor</span><span class="op">.</span><span class="nam">value</span> <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">enum_ou_valor</span><span class="op">,</span> <span class="nam">Enum</span><span class="op">)</span> <span class="key">else</span> <span class="nam">enum_ou_valor</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="key">def</span> <span class="nam">valor_para_enum</span><span class="op">(</span><span class="nam">valor</span><span class="op">:</span> <span class="nam">Union</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">int</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">,</span> <span class="nam">enum_class</span><span class="op">:</span> <span class="nam">Type</span><span class="op">[</span><span class="nam">E</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">E</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t"><span class="str">    Converte valor para enum de forma segura.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="str">        valor: Valor a ser convertido (str, int ou None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t"><span class="str">        enum_class: Classe do enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t"><span class="str">        Inst&#226;ncia do enum ou None se valor for None ou inv&#225;lido</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t"><span class="str">        >>> from enum import Enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t"><span class="str">        >>> class Status(Enum):</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t"><span class="str">        ...     ABERTO = "aberto"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t"><span class="str">        ...     FECHADO = "fechado"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t"><span class="str">        >>> valor_para_enum("aberto", Status)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t"><span class="str">        &lt;Status.ABERTO: 'aberto'></span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t"><span class="str">        >>> valor_para_enum(None, Status)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t"><span class="str">        None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="str">        >>> valor_para_enum("invalido", Status)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t"><span class="str">        None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">    <span class="key">if</span> <span class="nam">valor</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">        <span class="key">return</span> <span class="nam">enum_class</span><span class="op">(</span><span class="nam">valor</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">    <span class="key">except</span> <span class="op">(</span><span class="nam">ValueError</span><span class="op">,</span> <span class="nam">KeyError</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t"><span class="key">def</span> <span class="nam">enum_para_nome</span><span class="op">(</span><span class="nam">enum_ou_valor</span><span class="op">:</span> <span class="nam">Union</span><span class="op">[</span><span class="nam">E</span><span class="op">,</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">int</span><span class="op">,</span> <span class="key">None</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t"><span class="str">    Retorna o nome do enum (n&#227;o o valor).</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t"><span class="str">        enum_ou_valor: Um enum, valor primitivo ou None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t"><span class="str">        O nome do enum ou None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t"><span class="str">        >>> from enum import Enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t"><span class="str">        >>> class Status(Enum):</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t"><span class="str">        ...     ABERTO = "aberto"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t"><span class="str">        ...     FECHADO = "fechado"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t"><span class="str">        >>> enum_para_nome(Status.ABERTO)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t"><span class="str">        'ABERTO'</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">    <span class="key">if</span> <span class="nam">enum_ou_valor</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">    <span class="key">return</span> <span class="nam">enum_ou_valor</span><span class="op">.</span><span class="nam">name</span> <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">enum_ou_valor</span><span class="op">,</span> <span class="nam">Enum</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t"><span class="key">def</span> <span class="nam">listar_valores_enum</span><span class="op">(</span><span class="nam">enum_class</span><span class="op">:</span> <span class="nam">Type</span><span class="op">[</span><span class="nam">E</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">Union</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">int</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t"><span class="str">    Lista todos os valores poss&#237;veis de um enum.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t"><span class="str">        enum_class: Classe do enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t"><span class="str">        Lista com todos os valores do enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t"><span class="str">        >>> from enum import Enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t"><span class="str">        >>> class Status(Enum):</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t"><span class="str">        ...     ABERTO = "aberto"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t"><span class="str">        ...     FECHADO = "fechado"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t"><span class="str">        >>> listar_valores_enum(Status)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t"><span class="str">        ['aberto', 'fechado']</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">    <span class="key">return</span> <span class="op">[</span><span class="nam">item</span><span class="op">.</span><span class="nam">value</span> <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">enum_class</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t"><span class="key">def</span> <span class="nam">listar_nomes_enum</span><span class="op">(</span><span class="nam">enum_class</span><span class="op">:</span> <span class="nam">Type</span><span class="op">[</span><span class="nam">E</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t"><span class="str">    Lista todos os nomes poss&#237;veis de um enum.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t"><span class="str">        enum_class: Classe do enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t"><span class="str">        Lista com todos os nomes do enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t"><span class="str">        >>> from enum import Enum</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t"><span class="str">        >>> class Status(Enum):</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t"><span class="str">        ...     ABERTO = "aberto"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t"><span class="str">        ...     FECHADO = "fechado"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t"><span class="str">        >>> listar_nomes_enum(Status)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t"><span class="str">        ['ABERTO', 'FECHADO']</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">    <span class="key">return</span> <span class="op">[</span><span class="nam">item</span><span class="op">.</span><span class="nam">name</span> <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">enum_class</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_db_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_error_handlers_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_error_handlers_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/error_handlers.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/error_handlers.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">37 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">37<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_enum_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_exceptions_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Decoradores e handlers para tratamento de erros</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">functools</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Callable</span><span class="op">,</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span> <span class="key">import</span> <span class="nam">Request</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span><span class="op">.</span><span class="nam">templating</span> <span class="key">import</span> <span class="nam">Jinja2Templates</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">pydantic</span> <span class="key">import</span> <span class="nam">ValidationError</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">exceptions</span> <span class="key">import</span> <span class="nam">ValidacaoError</span><span class="op">,</span> <span class="nam">RecursoNaoEncontradoError</span><span class="op">,</span> <span class="nam">LojaVirtualError</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="key">from</span> <span class="nam">util</span><span class="op">.</span><span class="nam">flash_messages</span> <span class="key">import</span> <span class="nam">informar_erro</span><span class="op">,</span> <span class="nam">informar_sucesso</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="key">def</span> <span class="nam">tratar_erro_rota</span><span class="op">(</span><span class="nam">template_erro</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">                     <span class="nam">redirect_erro</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="str">    Decorador para tratar erros em rotas web</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="str">        template_erro: Template para renderizar em caso de erro</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t"><span class="str">        redirect_erro: URL para redirecionar em caso de erro</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">    Uso:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="str">        @router.post("/cadastro")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="str">        @tratar_erro_rota(template_erro="publico/cadastro.html")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="str">        async def cadastrar(request: Request):</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">            # Seu c&#243;digo aqui</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">    <span class="key">def</span> <span class="nam">decorator</span><span class="op">(</span><span class="nam">func</span><span class="op">:</span> <span class="nam">Callable</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Callable</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="op">@</span><span class="nam">functools</span><span class="op">.</span><span class="nam">wraps</span><span class="op">(</span><span class="nam">func</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="key">async</span> <span class="key">def</span> <span class="nam">wrapper</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="op">*</span><span class="nam">args</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">            <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">                <span class="key">return</span> <span class="key">await</span> <span class="nam">func</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="op">*</span><span class="nam">args</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">            <span class="key">except</span> <span class="nam">ValidationError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">                <span class="com"># Extrair primeira mensagem de erro do Pydantic</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">                <span class="nam">error_msg</span> <span class="op">=</span> <span class="nam">e</span><span class="op">.</span><span class="nam">errors</span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">[</span><span class="str">"msg"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">                <span class="com"># logger.warning("Erro de valida&#231;&#227;o Pydantic", erro=error_msg, rota=str(request.url))</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">                <span class="key">if</span> <span class="nam">template_erro</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">                    <span class="nam">templates</span> <span class="op">=</span> <span class="nam">Jinja2Templates</span><span class="op">(</span><span class="nam">directory</span><span class="op">=</span><span class="str">"templates"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">                    <span class="key">return</span> <span class="nam">templates</span><span class="op">.</span><span class="nam">TemplateResponse</span><span class="op">(</span><span class="nam">template_erro</span><span class="op">,</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">                        <span class="str">"request"</span><span class="op">:</span> <span class="nam">request</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">                        <span class="str">"erro"</span><span class="op">:</span> <span class="nam">error_msg</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">                    <span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">            <span class="key">except</span> <span class="nam">ValidacaoError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">                <span class="com"># logger.warning("Erro de valida&#231;&#227;o customizado", erro=e, rota=str(request.url))</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">                <span class="nam">informar_erro</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="str">f"Dados inv&#225;lidos: {e.mensagem}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">                <span class="key">if</span> <span class="nam">template_erro</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">                    <span class="nam">templates</span> <span class="op">=</span> <span class="nam">Jinja2Templates</span><span class="op">(</span><span class="nam">directory</span><span class="op">=</span><span class="str">"templates"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">                    <span class="key">return</span> <span class="nam">templates</span><span class="op">.</span><span class="nam">TemplateResponse</span><span class="op">(</span><span class="nam">template_erro</span><span class="op">,</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">                        <span class="str">"request"</span><span class="op">:</span> <span class="nam">request</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">                        <span class="str">"erro"</span><span class="op">:</span> <span class="nam">e</span><span class="op">.</span><span class="nam">mensagem</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">                    <span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">            <span class="key">except</span> <span class="nam">RecursoNaoEncontradoError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">                <span class="com"># logger.info("Recurso n&#227;o encontrado", erro=e, rota=str(request.url))</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">                <span class="nam">informar_erro</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="nam">e</span><span class="op">.</span><span class="nam">mensagem</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">            <span class="key">except</span> <span class="nam">LojaVirtualError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">                <span class="com"># logger.error("Erro de neg&#243;cio", erro=e, rota=str(request.url))</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">                <span class="nam">informar_erro</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="nam">e</span><span class="op">.</span><span class="nam">mensagem</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">            <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">                <span class="com"># logger.error("Erro inesperado", erro=e, rota=str(request.url))</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">                <span class="nam">informar_erro</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="str">"Erro interno. Tente novamente."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">            <span class="com"># Fallback para redirect ou template</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">            <span class="key">if</span> <span class="nam">redirect_erro</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">                <span class="key">from</span> <span class="nam">fastapi</span><span class="op">.</span><span class="nam">responses</span> <span class="key">import</span> <span class="nam">RedirectResponse</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">                <span class="key">return</span> <span class="nam">RedirectResponse</span><span class="op">(</span><span class="nam">redirect_erro</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">            <span class="key">elif</span> <span class="nam">template_erro</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">                <span class="nam">templates</span> <span class="op">=</span> <span class="nam">Jinja2Templates</span><span class="op">(</span><span class="nam">directory</span><span class="op">=</span><span class="str">"templates"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">                <span class="key">return</span> <span class="nam">templates</span><span class="op">.</span><span class="nam">TemplateResponse</span><span class="op">(</span><span class="nam">template_erro</span><span class="op">,</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">                    <span class="str">"request"</span><span class="op">:</span> <span class="nam">request</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">                    <span class="str">"erro"</span><span class="op">:</span> <span class="str">"Ocorreu um erro. Tente novamente."</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">                <span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">        <span class="key">return</span> <span class="nam">wrapper</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">    <span class="key">return</span> <span class="nam">decorator</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_enum_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_exceptions_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_exceptions_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/exceptions.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/exceptions.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">21 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">21<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_error_handlers_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_file_manager_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Exce&#231;&#245;es customizadas da aplica&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">class</span> <span class="nam">LojaVirtualError</span><span class="op">(</span><span class="nam">Exception</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="str">"""Exce&#231;&#227;o base para erros da aplica&#231;&#227;o"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">    <span class="key">def</span> <span class="nam">__init__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">mensagem</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">erro_original</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Exception</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">mensagem</span> <span class="op">=</span> <span class="nam">mensagem</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">erro_original</span> <span class="op">=</span> <span class="nam">erro_original</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__init__</span><span class="op">(</span><span class="nam">self</span><span class="op">.</span><span class="nam">mensagem</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="key">class</span> <span class="nam">ValidacaoError</span><span class="op">(</span><span class="nam">LojaVirtualError</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">    <span class="str">"""Erro de valida&#231;&#227;o de dados"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">    <span class="key">def</span> <span class="nam">__init__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">mensagem</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">campo</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">,</span> <span class="nam">valor</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Any</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__init__</span><span class="op">(</span><span class="nam">mensagem</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">campo</span> <span class="op">=</span> <span class="nam">campo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">valor</span> <span class="op">=</span> <span class="nam">valor</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="key">class</span> <span class="nam">RecursoNaoEncontradoError</span><span class="op">(</span><span class="nam">LojaVirtualError</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">    <span class="str">"""Erro quando um recurso n&#227;o &#233; encontrado"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">    <span class="key">def</span> <span class="nam">__init__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">recurso</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">identificador</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">        <span class="nam">mensagem</span> <span class="op">=</span> <span class="str">f"{recurso} n&#227;o encontrado: {identificador}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__init__</span><span class="op">(</span><span class="nam">mensagem</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">recurso</span> <span class="op">=</span> <span class="nam">recurso</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">identificador</span> <span class="op">=</span> <span class="nam">identificador</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="key">class</span> <span class="nam">BancoDadosError</span><span class="op">(</span><span class="nam">LojaVirtualError</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">    <span class="str">"""Erro relacionado ao banco de dados"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">    <span class="key">def</span> <span class="nam">__init__</span><span class="op">(</span><span class="nam">self</span><span class="op">,</span> <span class="nam">mensagem</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">operacao</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">erro_original</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Exception</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">        <span class="nam">super</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">__init__</span><span class="op">(</span><span class="nam">mensagem</span><span class="op">,</span> <span class="nam">erro_original</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="nam">self</span><span class="op">.</span><span class="nam">operacao</span> <span class="op">=</span> <span class="nam">operacao</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_error_handlers_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_file_manager_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_file_manager_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/file_manager.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/file_manager.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">85 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">85<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_exceptions_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_file_validator_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Gerenciador de Arquivos de Upload</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">import</span> <span class="nam">os</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">logging</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">pathlib</span> <span class="key">import</span> <span class="nam">Path</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">config</span><span class="op">.</span><span class="nam">upload_config</span> <span class="key">import</span> <span class="nam">UploadConfig</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="nam">logger</span> <span class="op">=</span> <span class="nam">logging</span><span class="op">.</span><span class="nam">getLogger</span><span class="op">(</span><span class="nam">__name__</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="key">class</span> <span class="nam">FileManager</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">    <span class="str">"""Gerenciador de arquivos de upload com limpeza"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">def</span> <span class="nam">salvar_arquivo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">conteudo</span><span class="op">:</span> <span class="nam">bytes</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">nome_arquivo</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">        <span class="nam">usuario_id</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="str">        Salva arquivo com permiss&#245;es corretas</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="str">            str: Caminho relativo do arquivo salvo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="com"># Caminho completo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">        <span class="nam">caminho_completo</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">USUARIOS_DIR</span> <span class="op">/</span> <span class="nam">nome_arquivo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">            <span class="com"># Verificar permiss&#245;es do diret&#243;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">os</span><span class="op">.</span><span class="nam">access</span><span class="op">(</span><span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">USUARIOS_DIR</span><span class="op">,</span> <span class="nam">os</span><span class="op">.</span><span class="nam">W_OK</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">                <span class="key">raise</span> <span class="nam">PermissionError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">                    <span class="str">f"Sem permiss&#227;o de escrita em {UploadConfig.USUARIOS_DIR}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">            <span class="com"># Salvar arquivo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">            <span class="key">with</span> <span class="nam">open</span><span class="op">(</span><span class="nam">caminho_completo</span><span class="op">,</span> <span class="str">'wb'</span><span class="op">)</span> <span class="key">as</span> <span class="nam">f</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">                <span class="nam">f</span><span class="op">.</span><span class="nam">write</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">            <span class="com"># Definir permiss&#245;es</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">            <span class="nam">os</span><span class="op">.</span><span class="nam">chmod</span><span class="op">(</span><span class="nam">caminho_completo</span><span class="op">,</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">FILE_PERMISSIONS</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">            <span class="com"># Caminho relativo para URL</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">            <span class="nam">caminho_relativo</span> <span class="op">=</span> <span class="str">f"/static/img/usuarios/{nome_arquivo}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">            <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">                <span class="str">f"Arquivo salvo com sucesso: {nome_arquivo} "</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">                <span class="str">f"(usu&#225;rio: {usuario_id}, tamanho: {len(conteudo)} bytes)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">            <span class="key">return</span> <span class="nam">caminho_relativo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">        <span class="key">except</span> <span class="nam">PermissionError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">            <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro de permiss&#227;o ao salvar arquivo: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">            <span class="key">raise</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">        <span class="key">except</span> <span class="nam">OSError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">            <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro de sistema ao salvar arquivo: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">            <span class="key">raise</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">            <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro inesperado ao salvar arquivo: {e}"</span><span class="op">,</span> <span class="nam">exc_info</span><span class="op">=</span><span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">            <span class="key">raise</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">    <span class="key">def</span> <span class="nam">deletar_foto_antiga</span><span class="op">(</span><span class="nam">caminho_foto</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t"><span class="str">        Deleta foto antiga do usu&#225;rio (LGPD compliance)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">caminho_foto</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">            <span class="key">return</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">            <span class="com"># Converter caminho relativo para absoluto</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">            <span class="com"># caminho_foto = "/static/uploads/usuarios/abc.jpg"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">            <span class="nam">nome_arquivo</span> <span class="op">=</span> <span class="nam">Path</span><span class="op">(</span><span class="nam">caminho_foto</span><span class="op">)</span><span class="op">.</span><span class="nam">name</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">            <span class="nam">caminho_completo</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">USUARIOS_DIR</span> <span class="op">/</span> <span class="nam">nome_arquivo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">            <span class="key">if</span> <span class="nam">caminho_completo</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">                <span class="nam">caminho_completo</span><span class="op">.</span><span class="nam">unlink</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">                <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span><span class="str">f"Foto antiga deletada: {nome_arquivo}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">            <span class="key">else</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">                <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Foto antiga n&#227;o encontrada: {caminho_completo}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">        <span class="key">except</span> <span class="nam">PermissionError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">            <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Sem permiss&#227;o para deletar foto: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">        <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">            <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro ao deletar foto antiga: {e}"</span><span class="op">,</span> <span class="nam">exc_info</span><span class="op">=</span><span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">    <span class="key">def</span> <span class="nam">verificar_espaco_disco</span><span class="op">(</span><span class="nam">tamanho_necessario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">        <span class="str">"""Verifica se h&#225; espa&#231;o suficiente no disco"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">        <span class="key">import</span> <span class="nam">shutil</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">            <span class="nam">stats</span> <span class="op">=</span> <span class="nam">shutil</span><span class="op">.</span><span class="nam">disk_usage</span><span class="op">(</span><span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">USUARIOS_DIR</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">            <span class="nam">espaco_livre</span> <span class="op">=</span> <span class="nam">stats</span><span class="op">.</span><span class="nam">free</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">            <span class="com"># Deixar pelo menos 100MB de margem</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">            <span class="nam">margem_seguranca</span> <span class="op">=</span> <span class="num">100</span> <span class="op">*</span> <span class="num">1024</span> <span class="op">*</span> <span class="num">1024</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">            <span class="key">return</span> <span class="nam">espaco_livre</span> <span class="op">></span> <span class="op">(</span><span class="nam">tamanho_necessario</span> <span class="op">+</span> <span class="nam">margem_seguranca</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">        <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">            <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro ao verificar espa&#231;o em disco: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">            <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">    <span class="key">def</span> <span class="nam">gerar_nome_foto_usuario</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">extensao</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t"><span class="str">        Gera nome de arquivo para foto de usu&#225;rio no formato 000123.jpg</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t"><span class="str">            id_usuario: ID do usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t"><span class="str">            extensao: Extens&#227;o do arquivo (sem ponto, ex: 'jpg', 'png')</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t"><span class="str">            str: Nome do arquivo (ex: '000123.jpg')</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">        <span class="com"># Remove ponto da extens&#227;o se presente</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">        <span class="nam">extensao_limpa</span> <span class="op">=</span> <span class="nam">extensao</span><span class="op">.</span><span class="nam">lstrip</span><span class="op">(</span><span class="str">'.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">        <span class="com"># Gera nome usando o pattern configurado</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">        <span class="nam">nome_base</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">FOTO_USUARIO_PATTERN</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">        <span class="key">return</span> <span class="str">f"{nome_base}.{extensao_limpa}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">    <span class="key">def</span> <span class="nam">obter_foto_usuario_existente</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Path</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t"><span class="str">        Busca foto existente do usu&#225;rio em qualquer extens&#227;o permitida</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t"><span class="str">            id_usuario: ID do usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t"><span class="str">            Path do arquivo encontrado ou None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">        <span class="nam">nome_base</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">FOTO_USUARIO_PATTERN</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">        <span class="key">for</span> <span class="nam">extensao</span> <span class="key">in</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">ALLOWED_EXTENSIONS</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">            <span class="com"># Remove ponto da extens&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">            <span class="nam">ext_limpa</span> <span class="op">=</span> <span class="nam">extensao</span><span class="op">.</span><span class="nam">lstrip</span><span class="op">(</span><span class="str">'.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">            <span class="nam">nome_arquivo</span> <span class="op">=</span> <span class="str">f"{nome_base}.{ext_limpa}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">            <span class="nam">caminho_completo</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">USUARIOS_DIR</span> <span class="op">/</span> <span class="nam">nome_arquivo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">            <span class="key">if</span> <span class="nam">caminho_completo</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t">                <span class="key">return</span> <span class="nam">caminho_completo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t">    <span class="key">def</span> <span class="nam">deletar_todas_fotos_usuario</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t"><span class="str">        Deleta todas as extens&#245;es poss&#237;veis de foto de um usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t"><span class="str">        Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t"><span class="str">            id_usuario: ID do usu&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t">        <span class="nam">nome_base</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">FOTO_USUARIO_PATTERN</span><span class="op">.</span><span class="nam">format</span><span class="op">(</span><span class="nam">id_usuario</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t">        <span class="key">for</span> <span class="nam">extensao</span> <span class="key">in</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">ALLOWED_EXTENSIONS</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t">            <span class="nam">nome_arquivo</span> <span class="op">=</span> <span class="str">""</span>  <span class="com"># Inicializar para evitar UnboundLocalError</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t">            <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t">                <span class="com"># Remove ponto da extens&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t">                <span class="nam">ext_limpa</span> <span class="op">=</span> <span class="nam">extensao</span><span class="op">.</span><span class="nam">lstrip</span><span class="op">(</span><span class="str">'.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t">                <span class="nam">nome_arquivo</span> <span class="op">=</span> <span class="str">f"{nome_base}.{ext_limpa}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t168" href="#t168">168</a></span><span class="t">                <span class="nam">caminho_completo</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">USUARIOS_DIR</span> <span class="op">/</span> <span class="nam">nome_arquivo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">                <span class="key">if</span> <span class="nam">caminho_completo</span><span class="op">.</span><span class="nam">exists</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t">                    <span class="nam">caminho_completo</span><span class="op">.</span><span class="nam">unlink</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t">                    <span class="nam">logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">                        <span class="str">f"Foto deletada: {nome_arquivo} (usu&#225;rio: {id_usuario})"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t">                    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t">            <span class="key">except</span> <span class="nam">PermissionError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t176" href="#t176">176</a></span><span class="t">                <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t177" href="#t177">177</a></span><span class="t">                    <span class="str">f"Sem permiss&#227;o para deletar {nome_arquivo or extensao}: {e}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t178" href="#t178">178</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t179" href="#t179">179</a></span><span class="t">            <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t180" href="#t180">180</a></span><span class="t">                <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t181" href="#t181">181</a></span><span class="t">                    <span class="str">f"Erro ao deletar {nome_arquivo or extensao}: {e}"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t182" href="#t182">182</a></span><span class="t">                    <span class="nam">exc_info</span><span class="op">=</span><span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t183" href="#t183">183</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_exceptions_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_file_validator_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_file_validator_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/file_validator.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/file_validator.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">102 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">102<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_file_manager_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_flash_messages_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Validador Robusto de Arquivos de Upload</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="key">import</span> <span class="nam">uuid</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">pathlib</span> <span class="key">import</span> <span class="nam">Path</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Tuple</span><span class="op">,</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">from</span> <span class="nam">PIL</span> <span class="key">import</span> <span class="nam">Image</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span> <span class="key">import</span> <span class="nam">UploadFile</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="key">from</span> <span class="nam">config</span><span class="op">.</span><span class="nam">upload_config</span> <span class="key">import</span> <span class="nam">UploadConfig</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="key">class</span> <span class="nam">FileValidationError</span><span class="op">(</span><span class="nam">Exception</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">    <span class="str">"""Erro de valida&#231;&#227;o de arquivo"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">    <span class="key">pass</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">class</span> <span class="nam">FileValidator</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="str">"""Validador completo de arquivos de upload"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">    <span class="key">async</span> <span class="key">def</span> <span class="nam">validar_imagem_completo</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">        <span class="nam">arquivo</span><span class="op">:</span> <span class="nam">UploadFile</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="nam">max_size</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">MAX_FILE_SIZE</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">Tuple</span><span class="op">[</span><span class="nam">bytes</span><span class="op">,</span> <span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">        <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">        Valida&#231;&#227;o completa de arquivo de imagem</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="str">        Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="str">            Tuple[bytes, str]: (conte&#250;do do arquivo, extens&#227;o validada)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="str">        Raises:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="str">            FileValidationError: Se arquivo inv&#225;lido</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="str">        """</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="com"># 1. Validar nome do arquivo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">arquivo</span><span class="op">.</span><span class="nam">filename</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span><span class="str">"Nome do arquivo n&#227;o fornecido"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="nam">FileValidator</span><span class="op">.</span><span class="nam">_validar_nome_arquivo</span><span class="op">(</span><span class="nam">arquivo</span><span class="op">.</span><span class="nam">filename</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">        <span class="com"># 2. Validar extens&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">        <span class="nam">extensao</span> <span class="op">=</span> <span class="nam">FileValidator</span><span class="op">.</span><span class="nam">_obter_extensao_segura</span><span class="op">(</span><span class="nam">arquivo</span><span class="op">.</span><span class="nam">filename</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="key">if</span> <span class="nam">extensao</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">ALLOWED_EXTENSIONS</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">            <span class="nam">extensoes_str</span> <span class="op">=</span> <span class="str">', '</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">ALLOWED_EXTENSIONS</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">                <span class="str">f"Extens&#227;o n&#227;o permitida. Use: {extensoes_str}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">        <span class="com"># 3. Ler conte&#250;do com limite de tamanho</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">            <span class="nam">conteudo</span> <span class="op">=</span> <span class="key">await</span> <span class="nam">FileValidator</span><span class="op">.</span><span class="nam">_ler_com_limite</span><span class="op">(</span><span class="nam">arquivo</span><span class="op">,</span> <span class="nam">max_size</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="key">except</span> <span class="nam">FileValidationError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">            <span class="key">raise</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">        <span class="com"># 4. Validar magic bytes</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">        <span class="nam">tipo_real</span> <span class="op">=</span> <span class="nam">FileValidator</span><span class="op">.</span><span class="nam">_validar_magic_bytes</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">tipo_real</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">                <span class="str">"Arquivo n&#227;o &#233; uma imagem v&#225;lida (valida&#231;&#227;o de assinatura falhou)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">        <span class="com"># 5. Validar com biblioteca de imagem</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">            <span class="nam">FileValidator</span><span class="op">.</span><span class="nam">_validar_com_pillow</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span><span class="str">f"Arquivo de imagem corrompido: {str(e)}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">        <span class="com"># 6. Validar MIME type</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">        <span class="key">if</span> <span class="nam">arquivo</span><span class="op">.</span><span class="nam">content_type</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">ALLOWED_MIME_TYPES</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">                <span class="str">f"Tipo MIME n&#227;o permitido: {arquivo.content_type}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">        <span class="key">return</span> <span class="nam">conteudo</span><span class="op">,</span> <span class="nam">extensao</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">    <span class="key">async</span> <span class="key">def</span> <span class="nam">_ler_com_limite</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">        <span class="nam">arquivo</span><span class="op">:</span> <span class="nam">UploadFile</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">        <span class="nam">max_size</span><span class="op">:</span> <span class="nam">int</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">    <span class="op">)</span> <span class="op">-></span> <span class="nam">bytes</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">        <span class="str">"""L&#234; arquivo com limite de tamanho"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="nam">conteudo</span> <span class="op">=</span> <span class="str">b""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">        <span class="nam">chunk_size</span> <span class="op">=</span> <span class="num">1024</span> <span class="op">*</span> <span class="num">1024</span>  <span class="com"># 1MB por vez</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">        <span class="key">while</span> <span class="key">True</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">            <span class="nam">chunk</span> <span class="op">=</span> <span class="key">await</span> <span class="nam">arquivo</span><span class="op">.</span><span class="nam">read</span><span class="op">(</span><span class="nam">chunk_size</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">            <span class="key">if</span> <span class="key">not</span> <span class="nam">chunk</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">                <span class="key">break</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">            <span class="nam">conteudo</span> <span class="op">+=</span> <span class="nam">chunk</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">            <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">)</span> <span class="op">></span> <span class="nam">max_size</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">                <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">                    <span class="str">f"Arquivo muito grande. M&#225;ximo: {max_size // (1024*1024)}MB"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">        <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">)</span> <span class="op">==</span> <span class="num">0</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span><span class="str">"Arquivo vazio"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">        <span class="key">return</span> <span class="nam">conteudo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">    <span class="key">def</span> <span class="nam">_validar_nome_arquivo</span><span class="op">(</span><span class="nam">filename</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">        <span class="str">"""Valida nome do arquivo contra path traversal e caracteres perigosos"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">        <span class="com"># Caracteres proibidos</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">        <span class="nam">caracteres_proibidos</span> <span class="op">=</span> <span class="op">[</span><span class="str">'..'</span><span class="op">,</span> <span class="str">'/'</span><span class="op">,</span> <span class="str">'\\'</span><span class="op">,</span> <span class="str">'\x00'</span><span class="op">,</span> <span class="str">'&lt;'</span><span class="op">,</span> <span class="str">'>'</span><span class="op">,</span> <span class="str">':'</span><span class="op">,</span> <span class="str">'"'</span><span class="op">,</span> <span class="str">'|'</span><span class="op">,</span> <span class="str">'?'</span><span class="op">,</span> <span class="str">'*'</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">        <span class="key">for</span> <span class="nam">char</span> <span class="key">in</span> <span class="nam">caracteres_proibidos</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">            <span class="key">if</span> <span class="nam">char</span> <span class="key">in</span> <span class="nam">filename</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">                <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">                    <span class="str">f"Nome de arquivo cont&#233;m caracteres proibidos: {char}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">        <span class="com"># Verificar nomes reservados (Windows)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">        <span class="nam">nomes_reservados</span> <span class="op">=</span> <span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">            <span class="str">'CON'</span><span class="op">,</span> <span class="str">'PRN'</span><span class="op">,</span> <span class="str">'AUX'</span><span class="op">,</span> <span class="str">'NUL'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">            <span class="str">'COM1'</span><span class="op">,</span> <span class="str">'COM2'</span><span class="op">,</span> <span class="str">'COM3'</span><span class="op">,</span> <span class="str">'COM4'</span><span class="op">,</span> <span class="str">'COM5'</span><span class="op">,</span> <span class="str">'COM6'</span><span class="op">,</span> <span class="str">'COM7'</span><span class="op">,</span> <span class="str">'COM8'</span><span class="op">,</span> <span class="str">'COM9'</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">            <span class="str">'LPT1'</span><span class="op">,</span> <span class="str">'LPT2'</span><span class="op">,</span> <span class="str">'LPT3'</span><span class="op">,</span> <span class="str">'LPT4'</span><span class="op">,</span> <span class="str">'LPT5'</span><span class="op">,</span> <span class="str">'LPT6'</span><span class="op">,</span> <span class="str">'LPT7'</span><span class="op">,</span> <span class="str">'LPT8'</span><span class="op">,</span> <span class="str">'LPT9'</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">        <span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">        <span class="nam">nome_base</span> <span class="op">=</span> <span class="nam">filename</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">'.'</span><span class="op">)</span><span class="op">[</span><span class="num">0</span><span class="op">]</span><span class="op">.</span><span class="nam">upper</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">        <span class="key">if</span> <span class="nam">nome_base</span> <span class="key">in</span> <span class="nam">nomes_reservados</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span><span class="str">"Nome de arquivo reservado pelo sistema"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">    <span class="key">def</span> <span class="nam">_obter_extensao_segura</span><span class="op">(</span><span class="nam">filename</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">        <span class="str">"""Obt&#233;m extens&#227;o de forma segura"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">        <span class="com"># Remover null bytes</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">        <span class="nam">filename</span> <span class="op">=</span> <span class="nam">filename</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span><span class="str">'\x00'</span><span class="op">,</span> <span class="str">''</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">        <span class="com"># Obter &#250;ltima extens&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">        <span class="nam">partes</span> <span class="op">=</span> <span class="nam">filename</span><span class="op">.</span><span class="nam">lower</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">'.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">        <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">partes</span><span class="op">)</span> <span class="op">&lt;</span> <span class="num">2</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span><span class="str">"Arquivo sem extens&#227;o"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">        <span class="nam">extensao</span> <span class="op">=</span> <span class="str">'.'</span> <span class="op">+</span> <span class="nam">partes</span><span class="op">[</span><span class="op">-</span><span class="num">1</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">        <span class="key">return</span> <span class="nam">extensao</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">    <span class="key">def</span> <span class="nam">_validar_magic_bytes</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">:</span> <span class="nam">bytes</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">        <span class="str">"""Valida arquivo atrav&#233;s dos magic bytes (assinatura)"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">        <span class="key">for</span> <span class="nam">magic_byte</span><span class="op">,</span> <span class="nam">tipo</span> <span class="key">in</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">MAGIC_BYTES</span><span class="op">.</span><span class="nam">items</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">            <span class="key">if</span> <span class="nam">conteudo</span><span class="op">.</span><span class="nam">startswith</span><span class="op">(</span><span class="nam">magic_byte</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">                <span class="com"># Valida&#231;&#227;o especial para WebP</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">                <span class="key">if</span> <span class="nam">tipo</span> <span class="op">==</span> <span class="str">'webp'</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">                    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">)</span> <span class="op">></span> <span class="num">12</span> <span class="key">and</span> <span class="nam">conteudo</span><span class="op">[</span><span class="num">8</span><span class="op">:</span><span class="num">12</span><span class="op">]</span> <span class="op">==</span> <span class="str">b'WEBP'</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t">                        <span class="key">return</span> <span class="nam">tipo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t">                    <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t">                <span class="key">return</span> <span class="nam">tipo</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t">    <span class="key">def</span> <span class="nam">_validar_com_pillow</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">:</span> <span class="nam">bytes</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t">        <span class="str">"""Valida imagem usando Pillow e retorna dimens&#245;es"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t">        <span class="key">from</span> <span class="nam">io</span> <span class="key">import</span> <span class="nam">BytesIO</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t">            <span class="nam">img</span> <span class="op">=</span> <span class="nam">Image</span><span class="op">.</span><span class="nam">open</span><span class="op">(</span><span class="nam">BytesIO</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t">            <span class="nam">img</span><span class="op">.</span><span class="nam">verify</span><span class="op">(</span><span class="op">)</span>  <span class="com"># Verifica integridade</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t">            <span class="com"># Reabrir para obter dimens&#245;es (verify() invalida objeto)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t">            <span class="nam">img</span> <span class="op">=</span> <span class="nam">Image</span><span class="op">.</span><span class="nam">open</span><span class="op">(</span><span class="nam">BytesIO</span><span class="op">(</span><span class="nam">conteudo</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t">            <span class="nam">width</span><span class="op">,</span> <span class="nam">height</span> <span class="op">=</span> <span class="nam">img</span><span class="op">.</span><span class="nam">size</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t">            <span class="com"># Validar dimens&#245;es</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t">            <span class="key">if</span> <span class="nam">width</span> <span class="op">&lt;</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">MIN_WIDTH</span> <span class="key">or</span> <span class="nam">height</span> <span class="op">&lt;</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">MIN_HEIGHT</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t168" href="#t168">168</a></span><span class="t">                <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">                    <span class="str">f"Imagem muito pequena. M&#237;nimo: {UploadConfig.MIN_WIDTH}x{UploadConfig.MIN_HEIGHT}px"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t">            <span class="key">if</span> <span class="nam">width</span> <span class="op">></span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">MAX_WIDTH</span> <span class="key">or</span> <span class="nam">height</span> <span class="op">></span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">MAX_HEIGHT</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">                <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t">                    <span class="str">f"Imagem muito grande. M&#225;ximo: {UploadConfig.MAX_WIDTH}x{UploadConfig.MAX_HEIGHT}px"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t176" href="#t176">176</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t177" href="#t177">177</a></span><span class="t">        <span class="key">except</span> <span class="nam">FileValidationError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t178" href="#t178">178</a></span><span class="t">            <span class="key">raise</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t179" href="#t179">179</a></span><span class="t">        <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t180" href="#t180">180</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span><span class="str">f"Erro ao validar imagem: {str(e)}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t181" href="#t181">181</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t182" href="#t182">182</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t183" href="#t183">183</a></span><span class="t">    <span class="key">def</span> <span class="nam">gerar_nome_arquivo_seguro</span><span class="op">(</span><span class="nam">extensao</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t184" href="#t184">184</a></span><span class="t">        <span class="str">"""Gera nome de arquivo &#250;nico e seguro"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t185" href="#t185">185</a></span><span class="t">        <span class="com"># Normalizar extens&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t186" href="#t186">186</a></span><span class="t">        <span class="nam">extensao</span> <span class="op">=</span> <span class="nam">extensao</span><span class="op">.</span><span class="nam">lower</span><span class="op">(</span><span class="op">)</span><span class="op">.</span><span class="nam">lstrip</span><span class="op">(</span><span class="str">'.'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t187" href="#t187">187</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t188" href="#t188">188</a></span><span class="t">        <span class="com"># Gerar UUID completamente aleat&#243;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t189" href="#t189">189</a></span><span class="t">        <span class="nam">nome_unico</span> <span class="op">=</span> <span class="nam">str</span><span class="op">(</span><span class="nam">uuid</span><span class="op">.</span><span class="nam">uuid4</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t190" href="#t190">190</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t191" href="#t191">191</a></span><span class="t">        <span class="key">return</span> <span class="str">f"{nome_unico}.{extensao}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t192" href="#t192">192</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t193" href="#t193">193</a></span><span class="t">    <span class="op">@</span><span class="nam">staticmethod</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t194" href="#t194">194</a></span><span class="t">    <span class="key">def</span> <span class="nam">sanitizar_path</span><span class="op">(</span><span class="nam">caminho</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Path</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t195" href="#t195">195</a></span><span class="t">        <span class="str">"""Sanitiza path para evitar path traversal"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t196" href="#t196">196</a></span><span class="t">        <span class="nam">path</span> <span class="op">=</span> <span class="nam">Path</span><span class="op">(</span><span class="nam">caminho</span><span class="op">)</span><span class="op">.</span><span class="nam">resolve</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t197" href="#t197">197</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t198" href="#t198">198</a></span><span class="t">        <span class="com"># Verificar se est&#225; dentro do diret&#243;rio permitido</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t199" href="#t199">199</a></span><span class="t">        <span class="nam">base_permitido</span> <span class="op">=</span> <span class="nam">UploadConfig</span><span class="op">.</span><span class="nam">USUARIOS_DIR</span><span class="op">.</span><span class="nam">resolve</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t200" href="#t200">200</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t201" href="#t201">201</a></span><span class="t">        <span class="key">if</span> <span class="key">not</span> <span class="nam">str</span><span class="op">(</span><span class="nam">path</span><span class="op">)</span><span class="op">.</span><span class="nam">startswith</span><span class="op">(</span><span class="nam">str</span><span class="op">(</span><span class="nam">base_permitido</span><span class="op">)</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t202" href="#t202">202</a></span><span class="t">            <span class="key">raise</span> <span class="nam">FileValidationError</span><span class="op">(</span><span class="str">"Path inv&#225;lido detectado"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t203" href="#t203">203</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t204" href="#t204">204</a></span><span class="t">        <span class="key">return</span> <span class="nam">path</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_file_manager_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_flash_messages_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_flash_messages_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/flash_messages.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/flash_messages.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">17 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">17<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_file_validator_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_model_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Sistema de mensagens flash para FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">Permite enviar mensagens atrav&#233;s de redirects usando sess&#245;es</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span> <span class="key">import</span> <span class="nam">Request</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">List</span><span class="op">,</span> <span class="nam">Dict</span><span class="op">,</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="key">def</span> <span class="nam">flash</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">message</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">type</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">"info"</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="str">    Adiciona uma mensagem flash &#224; sess&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="str">        request: Objeto Request do FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="str">        message: Mensagem a ser exibida</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="str">        type: Tipo da mensagem (success, danger, warning, info)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="key">if</span> <span class="str">"flash_messages"</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">request</span><span class="op">.</span><span class="nam">session</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">        <span class="nam">request</span><span class="op">.</span><span class="nam">session</span><span class="op">[</span><span class="str">"flash_messages"</span><span class="op">]</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">    <span class="nam">request</span><span class="op">.</span><span class="nam">session</span><span class="op">[</span><span class="str">"flash_messages"</span><span class="op">]</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="op">{</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">        <span class="str">"text"</span><span class="op">:</span> <span class="nam">message</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="str">"type"</span><span class="op">:</span> <span class="nam">type</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">    <span class="op">}</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="key">def</span> <span class="nam">informar_sucesso</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">message</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">    <span class="str">"""Adiciona mensagem de sucesso"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">    <span class="nam">flash</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="nam">message</span><span class="op">,</span> <span class="str">"success"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="key">def</span> <span class="nam">informar_erro</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">message</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">    <span class="str">"""Adiciona mensagem de erro"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="nam">flash</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="nam">message</span><span class="op">,</span> <span class="str">"danger"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="key">def</span> <span class="nam">informar_aviso</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">message</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">    <span class="str">"""Adiciona mensagem de aviso"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">    <span class="nam">flash</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="nam">message</span><span class="op">,</span> <span class="str">"warning"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t"><span class="key">def</span> <span class="nam">informar_info</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">message</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">    <span class="str">"""Adiciona mensagem informativa"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">    <span class="nam">flash</span><span class="op">(</span><span class="nam">request</span><span class="op">,</span> <span class="nam">message</span><span class="op">,</span> <span class="str">"info"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t"><span class="key">def</span> <span class="nam">get_flashed_messages</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">)</span> <span class="op">-></span> <span class="nam">List</span><span class="op">[</span><span class="nam">Dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t"><span class="str">    Recupera e remove as mensagens flash da sess&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t"><span class="str">        request: Objeto Request do FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t"><span class="str">        Lista de mensagens flash</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">    <span class="nam">messages</span> <span class="op">=</span> <span class="nam">request</span><span class="op">.</span><span class="nam">session</span><span class="op">.</span><span class="nam">pop</span><span class="op">(</span><span class="str">"flash_messages"</span><span class="op">,</span> <span class="op">[</span><span class="op">]</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="key">return</span> <span class="nam">messages</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_file_validator_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_model_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_middlewares_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/middlewares.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/middlewares.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">55 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">55<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_flash_messages_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_model_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 03:40 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">M&#243;dulo de configura&#231;&#227;o de middlewares para a aplica&#231;&#227;o VetConecta.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">os</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">import</span> <span class="nam">secrets</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">import</span> <span class="nam">logging</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span> <span class="key">import</span> <span class="nam">FastAPI</span><span class="op">,</span> <span class="nam">Request</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span><span class="op">.</span><span class="nam">middleware</span><span class="op">.</span><span class="nam">trustedhost</span> <span class="key">import</span> <span class="nam">TrustedHostMiddleware</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span><span class="op">.</span><span class="nam">middleware</span><span class="op">.</span><span class="nam">cors</span> <span class="key">import</span> <span class="nam">CORSMiddleware</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="key">from</span> <span class="nam">starlette</span><span class="op">.</span><span class="nam">middleware</span><span class="op">.</span><span class="nam">sessions</span> <span class="key">import</span> <span class="nam">SessionMiddleware</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="key">from</span> <span class="nam">slowapi</span> <span class="key">import</span> <span class="nam">Limiter</span><span class="op">,</span> <span class="nam">_rate_limit_exceeded_handler</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="key">from</span> <span class="nam">slowapi</span><span class="op">.</span><span class="nam">util</span> <span class="key">import</span> <span class="nam">get_remote_address</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="key">from</span> <span class="nam">slowapi</span><span class="op">.</span><span class="nam">errors</span> <span class="key">import</span> <span class="nam">RateLimitExceeded</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="key">from</span> <span class="nam">slowapi</span><span class="op">.</span><span class="nam">middleware</span> <span class="key">import</span> <span class="nam">SlowAPIMiddleware</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_secret_key</span><span class="op">(</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="str">    Obt&#233;m a chave secreta da vari&#225;vel de ambiente ou gera uma tempor&#225;ria.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">        str: Chave secreta para uso em sess&#245;es e tokens</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">    <span class="nam">secret_key</span> <span class="op">=</span> <span class="nam">os</span><span class="op">.</span><span class="nam">getenv</span><span class="op">(</span><span class="str">"SECRET_KEY"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">secret_key</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="com"># Em desenvolvimento, gerar uma chave tempor&#225;ria com aviso</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">        <span class="nam">secret_key</span> <span class="op">=</span> <span class="nam">secrets</span><span class="op">.</span><span class="nam">token_urlsafe</span><span class="op">(</span><span class="num">32</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">"&#9888;&#65039;  AVISO: SECRET_KEY n&#227;o configurada. Usando chave tempor&#225;ria."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="nam">print</span><span class="op">(</span><span class="str">"&#9888;&#65039;  Defina a vari&#225;vel de ambiente SECRET_KEY para produ&#231;&#227;o!"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">    <span class="key">return</span> <span class="nam">secret_key</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="key">def</span> <span class="nam">configurar_rate_limiter</span><span class="op">(</span><span class="nam">app</span><span class="op">:</span> <span class="nam">FastAPI</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Limiter</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t"><span class="str">    Configura o rate limiter para a aplica&#231;&#227;o.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="str">        app: Inst&#226;ncia do FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="str">        Limiter: Inst&#226;ncia configurada do rate limiter</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">    <span class="nam">limiter</span> <span class="op">=</span> <span class="nam">Limiter</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="nam">key_func</span><span class="op">=</span><span class="nam">get_remote_address</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="nam">default_limits</span><span class="op">=</span><span class="op">[</span><span class="str">"200/hour"</span><span class="op">]</span><span class="op">,</span>  <span class="com"># Limite padr&#227;o global</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="nam">storage_uri</span><span class="op">=</span><span class="str">"memory://"</span><span class="op">,</span>  <span class="com"># Usar Redis em produ&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">    <span class="nam">app</span><span class="op">.</span><span class="nam">state</span><span class="op">.</span><span class="nam">limiter</span> <span class="op">=</span> <span class="nam">limiter</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">    <span class="nam">app</span><span class="op">.</span><span class="nam">add_exception_handler</span><span class="op">(</span><span class="nam">RateLimitExceeded</span><span class="op">,</span> <span class="nam">_rate_limit_exceeded_handler</span><span class="op">)</span>  <span class="com"># type: ignore[arg-type]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">    <span class="key">return</span> <span class="nam">limiter</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="key">async</span> <span class="key">def</span> <span class="nam">security_headers_middleware</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">call_next</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">    <span class="str">"""Adiciona headers de seguran&#231;a nas respostas"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">    <span class="nam">response</span> <span class="op">=</span> <span class="key">await</span> <span class="nam">call_next</span><span class="op">(</span><span class="nam">request</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">    <span class="nam">environment</span> <span class="op">=</span> <span class="nam">os</span><span class="op">.</span><span class="nam">getenv</span><span class="op">(</span><span class="str">"ENVIRONMENT"</span><span class="op">,</span> <span class="str">"development"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">    <span class="com"># Security headers</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">    <span class="nam">response</span><span class="op">.</span><span class="nam">headers</span><span class="op">[</span><span class="str">"X-Content-Type-Options"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"nosniff"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">    <span class="nam">response</span><span class="op">.</span><span class="nam">headers</span><span class="op">[</span><span class="str">"X-Frame-Options"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"DENY"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">    <span class="nam">response</span><span class="op">.</span><span class="nam">headers</span><span class="op">[</span><span class="str">"X-XSS-Protection"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"1; mode=block"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">    <span class="key">if</span> <span class="nam">environment</span> <span class="op">==</span> <span class="str">"production"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">        <span class="nam">response</span><span class="op">.</span><span class="nam">headers</span><span class="op">[</span><span class="str">"Strict-Transport-Security"</span><span class="op">]</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">            <span class="str">"max-age=31536000; includeSubDomains"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">    <span class="nam">response</span><span class="op">.</span><span class="nam">headers</span><span class="op">[</span><span class="str">"Content-Security-Policy"</span><span class="op">]</span> <span class="op">=</span> <span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="str">"default-src 'self'; "</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">        <span class="str">"script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net; "</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">        <span class="str">"style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com; "</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">        <span class="str">"img-src 'self' data: https:; "</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">        <span class="str">"font-src 'self' data: https://cdn.jsdelivr.net https://fonts.gstatic.com; "</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">        <span class="str">"connect-src 'self' https://cdn.jsdelivr.net"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">    <span class="nam">response</span><span class="op">.</span><span class="nam">headers</span><span class="op">[</span><span class="str">"Referrer-Policy"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"strict-origin-when-cross-origin"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">    <span class="nam">response</span><span class="op">.</span><span class="nam">headers</span><span class="op">[</span><span class="str">"Permissions-Policy"</span><span class="op">]</span> <span class="op">=</span> <span class="str">"geolocation=(), microphone=(), camera=()"</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">    <span class="key">return</span> <span class="nam">response</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t"><span class="key">async</span> <span class="key">def</span> <span class="nam">log_requests_middleware</span><span class="op">(</span><span class="nam">request</span><span class="op">:</span> <span class="nam">Request</span><span class="op">,</span> <span class="nam">call_next</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">    <span class="str">"""Loga requisi&#231;&#245;es (sem dados sens&#237;veis)"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">    <span class="nam">req_logger</span> <span class="op">=</span> <span class="nam">logging</span><span class="op">.</span><span class="nam">getLogger</span><span class="op">(</span><span class="str">"vetconecta.requests"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">    <span class="com"># N&#227;o logar senhas ou tokens</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">    <span class="nam">safe_path</span> <span class="op">=</span> <span class="nam">request</span><span class="op">.</span><span class="nam">url</span><span class="op">.</span><span class="nam">path</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">    <span class="key">if</span> <span class="str">"senha"</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">safe_path</span><span class="op">.</span><span class="nam">lower</span><span class="op">(</span><span class="op">)</span> <span class="key">and</span> <span class="str">"password"</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">safe_path</span><span class="op">.</span><span class="nam">lower</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">        <span class="nam">req_logger</span><span class="op">.</span><span class="nam">info</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">            <span class="str">f"{request.method} {safe_path} - {request.client.host if request.client else 'unknown'}"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">    <span class="nam">response</span> <span class="op">=</span> <span class="key">await</span> <span class="nam">call_next</span><span class="op">(</span><span class="nam">request</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">    <span class="key">return</span> <span class="nam">response</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t"><span class="key">def</span> <span class="nam">configurar_middlewares</span><span class="op">(</span><span class="nam">app</span><span class="op">:</span> <span class="nam">FastAPI</span><span class="op">)</span> <span class="op">-></span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t"><span class="str">    Configura todos os middlewares da aplica&#231;&#227;o.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t"><span class="str">        app: Inst&#226;ncia do FastAPI</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">    <span class="com"># Obter vari&#225;veis de ambiente</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">    <span class="nam">environment</span> <span class="op">=</span> <span class="nam">os</span><span class="op">.</span><span class="nam">getenv</span><span class="op">(</span><span class="str">"ENVIRONMENT"</span><span class="op">,</span> <span class="str">"development"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">    <span class="nam">secret_key</span> <span class="op">=</span> <span class="nam">obter_secret_key</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">    <span class="com"># Configurar rate limiter</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">    <span class="nam">configurar_rate_limiter</span><span class="op">(</span><span class="nam">app</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">    <span class="com"># Middleware de seguran&#231;a - Trusted Host</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">    <span class="nam">allowed_hosts</span> <span class="op">=</span> <span class="op">[</span><span class="str">"localhost"</span><span class="op">,</span> <span class="str">"127.0.0.1"</span><span class="op">,</span> <span class="str">"*.vetconecta.com"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">    <span class="key">if</span> <span class="nam">environment</span> <span class="op">==</span> <span class="str">"development"</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">        <span class="nam">allowed_hosts</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="str">"*"</span><span class="op">)</span>  <span class="com"># Aceitar todos em desenvolvimento</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">    <span class="nam">app</span><span class="op">.</span><span class="nam">add_middleware</span><span class="op">(</span><span class="nam">TrustedHostMiddleware</span><span class="op">,</span> <span class="nam">allowed_hosts</span><span class="op">=</span><span class="nam">allowed_hosts</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">    <span class="com"># Middleware de seguran&#231;a - CORS</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">    <span class="nam">app</span><span class="op">.</span><span class="nam">add_middleware</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t">        <span class="nam">CORSMiddleware</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">        <span class="nam">allow_origins</span><span class="op">=</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">            <span class="op">[</span><span class="str">"http://localhost:8000"</span><span class="op">]</span> <span class="key">if</span> <span class="nam">environment</span> <span class="op">==</span> <span class="str">"production"</span> <span class="key">else</span> <span class="op">[</span><span class="str">"*"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">        <span class="op">)</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">        <span class="nam">allow_credentials</span><span class="op">=</span><span class="key">True</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">        <span class="nam">allow_methods</span><span class="op">=</span><span class="op">[</span><span class="str">"GET"</span><span class="op">,</span> <span class="str">"POST"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">        <span class="nam">allow_headers</span><span class="op">=</span><span class="op">[</span><span class="str">"*"</span><span class="op">]</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">    <span class="com"># Middleware de sess&#227;o (deve vir antes do SlowAPI para ser executado primeiro)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t">    <span class="nam">app</span><span class="op">.</span><span class="nam">add_middleware</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">        <span class="nam">SessionMiddleware</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">        <span class="nam">secret_key</span><span class="op">=</span><span class="nam">secret_key</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">        <span class="nam">max_age</span><span class="op">=</span><span class="num">3600</span><span class="op">,</span>  <span class="com"># Sess&#227;o expira em 1 hora</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">        <span class="nam">same_site</span><span class="op">=</span><span class="str">"strict"</span> <span class="key">if</span> <span class="nam">environment</span> <span class="op">==</span> <span class="str">"production"</span> <span class="key">else</span> <span class="str">"lax"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">        <span class="nam">https_only</span><span class="op">=</span><span class="op">(</span><span class="nam">environment</span> <span class="op">==</span> <span class="str">"production"</span><span class="op">)</span><span class="op">,</span>  <span class="com"># HTTPS obrigat&#243;rio em produ&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">    <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">    <span class="com"># Middleware de rate limiting</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">    <span class="nam">app</span><span class="op">.</span><span class="nam">add_middleware</span><span class="op">(</span><span class="nam">SlowAPIMiddleware</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">    <span class="com"># Middleware de seguran&#231;a customizado - Security Headers</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">    <span class="nam">app</span><span class="op">.</span><span class="nam">middleware</span><span class="op">(</span><span class="str">"http"</span><span class="op">)</span><span class="op">(</span><span class="nam">security_headers_middleware</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">    <span class="com"># Middleware de logging</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">    <span class="nam">app</span><span class="op">.</span><span class="nam">middleware</span><span class="op">(</span><span class="str">"http"</span><span class="op">)</span><span class="op">(</span><span class="nam">log_requests_middleware</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_flash_messages_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_model_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-19 03:40 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_model_util_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/model_util.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/model_util.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">25 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">25<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_flash_messages_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_repo_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Utilit&#225;rios para instancia&#231;&#227;o de modelos a partir de resultados de banco de dados.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">TypeVar</span><span class="op">,</span> <span class="nam">Type</span><span class="op">,</span> <span class="nam">Dict</span><span class="op">,</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">Optional</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">sqlite3</span> <span class="key">import</span> <span class="nam">Row</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="nam">T</span> <span class="op">=</span> <span class="nam">TypeVar</span><span class="op">(</span><span class="str">'T'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="key">def</span> <span class="nam">row_to_dict</span><span class="op">(</span><span class="nam">row</span><span class="op">:</span> <span class="nam">Row</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="str">    Converte sqlite3.Row para dict.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="str">        row: Objeto Row do sqlite3</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="str">        Dicion&#225;rio com os dados da linha</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="str">        >>> # Assumindo cursor.fetchone() retorna um Row</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">        >>> row_dict = row_to_dict(row)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="str">        >>> print(row_dict)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="str">        {'id': 1, 'nome': 'Jo&#227;o', 'email': 'joao@example.com'}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">    <span class="key">return</span> <span class="nam">dict</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_modelo</span><span class="op">(</span><span class="nam">model_class</span><span class="op">:</span> <span class="nam">Type</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span><span class="op">,</span> <span class="nam">row</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Row</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="str">    Cria inst&#226;ncia do modelo a partir de Row.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="str">        model_class: Classe do modelo a ser instanciada</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t"><span class="str">        row: Objeto Row do sqlite3 ou None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="str">        Inst&#226;ncia do modelo ou None se row for None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="str">        >>> from model.usuario_model import Usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t"><span class="str">        >>> usuario = criar_modelo(Usuario, row)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t"><span class="str">        >>> if usuario:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t"><span class="str">        ...     print(usuario.nome)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">    <span class="key">if</span> <span class="nam">row</span> <span class="key">is</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">        <span class="key">return</span> <span class="nam">model_class</span><span class="op">(</span><span class="op">**</span><span class="nam">row_to_dict</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">    <span class="key">except</span> <span class="nam">TypeError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">        <span class="com"># Log erro mas retorna None para manter consist&#234;ncia</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">        <span class="key">import</span> <span class="nam">logging</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">        <span class="nam">logger</span> <span class="op">=</span> <span class="nam">logging</span><span class="op">.</span><span class="nam">getLogger</span><span class="op">(</span><span class="nam">__name__</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro ao criar modelo {model_class.__name__}: {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_modelos</span><span class="op">(</span><span class="nam">model_class</span><span class="op">:</span> <span class="nam">Type</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span><span class="op">,</span> <span class="nam">rows</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">Row</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">list</span><span class="op">[</span><span class="nam">T</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t"><span class="str">    Cria lista de inst&#226;ncias do modelo a partir de lista de Rows.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t"><span class="str">        model_class: Classe do modelo a ser instanciada</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t"><span class="str">        rows: Lista de objetos Row do sqlite3</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t"><span class="str">        Lista de inst&#226;ncias do modelo (ignora Rows que causam erro)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t"><span class="str">        >>> from model.usuario_model import Usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t"><span class="str">        >>> usuarios = criar_modelos(Usuario, rows)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t"><span class="str">        >>> for usuario in usuarios:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t"><span class="str">        ...     print(usuario.nome)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">    <span class="nam">modelos</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">    <span class="key">for</span> <span class="nam">row</span> <span class="key">in</span> <span class="nam">rows</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">        <span class="nam">modelo</span> <span class="op">=</span> <span class="nam">criar_modelo</span><span class="op">(</span><span class="nam">model_class</span><span class="op">,</span> <span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t">        <span class="key">if</span> <span class="nam">modelo</span> <span class="key">is</span> <span class="key">not</span> <span class="key">None</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">            <span class="nam">modelos</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">modelo</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">    <span class="key">return</span> <span class="nam">modelos</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t"><span class="key">def</span> <span class="nam">row_to_dict_partial</span><span class="op">(</span><span class="nam">row</span><span class="op">:</span> <span class="nam">Row</span><span class="op">,</span> <span class="nam">campos</span><span class="op">:</span> <span class="nam">list</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Dict</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">Any</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t"><span class="str">    Converte sqlite3.Row para dict contendo apenas campos especificados.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t"><span class="str">        row: Objeto Row do sqlite3</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t"><span class="str">        campos: Lista de nomes de campos a extrair</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t"><span class="str">        Dicion&#225;rio com apenas os campos especificados</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t"><span class="str">        >>> row_dict = row_to_dict_partial(row, ['id', 'nome'])</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t"><span class="str">        >>> print(row_dict)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t"><span class="str">        {'id': 1, 'nome': 'Jo&#227;o'}</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">    <span class="nam">row_dict</span> <span class="op">=</span> <span class="nam">dict</span><span class="op">(</span><span class="nam">row</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">    <span class="key">return</span> <span class="op">{</span><span class="nam">campo</span><span class="op">:</span> <span class="nam">row_dict</span><span class="op">.</span><span class="nam">get</span><span class="op">(</span><span class="nam">campo</span><span class="op">)</span> <span class="key">for</span> <span class="nam">campo</span> <span class="key">in</span> <span class="nam">campos</span> <span class="key">if</span> <span class="nam">campo</span> <span class="key">in</span> <span class="nam">row_dict</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_flash_messages_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_repo_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_repo_util_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/repo_util.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/repo_util.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">42 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">42<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">1<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_model_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_security_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">Utilit&#225;rios para reposit&#243;rios, incluindo decoradores para tratamento de exce&#231;&#245;es.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">logging</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">from</span> <span class="nam">functools</span> <span class="key">import</span> <span class="nam">wraps</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Callable</span><span class="op">,</span> <span class="nam">TypeVar</span><span class="op">,</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="nam">logger</span> <span class="op">=</span> <span class="nam">logging</span><span class="op">.</span><span class="nam">getLogger</span><span class="op">(</span><span class="nam">__name__</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="nam">T</span> <span class="op">=</span> <span class="nam">TypeVar</span><span class="op">(</span><span class="str">'T'</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="key">def</span> <span class="nam">tratar_excecao_repo</span><span class="op">(</span><span class="nam">valor_retorno_padrao</span><span class="op">:</span> <span class="nam">Any</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc show_exc"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="str">    Decorador para tratar exce&#231;&#245;es em m&#233;todos de reposit&#243;rio.</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="str">    Este decorador captura todas as exce&#231;&#245;es que ocorrem durante a execu&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="str">    de m&#233;todos de reposit&#243;rio, registra o erro com logging e retorna um valor</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="str">    padr&#227;o em vez de propagar a exce&#231;&#227;o.</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">        valor_retorno_padrao: Valor a ser retornado em caso de exce&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="str">            (padr&#227;o: None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">        Decorador configurado</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="str">        >>> @tratar_excecao_repo(valor_retorno_padrao=None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t"><span class="str">        ... def obter_usuario(id: int) -> Optional[Usuario]:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t"><span class="str">        ...     # c&#243;digo que pode lan&#231;ar exce&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="str">        ...     return usuario</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="str">        >>> @tratar_excecao_repo(valor_retorno_padrao=[])</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t"><span class="str">        ... def listar_usuarios() -> List[Usuario]:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t"><span class="str">        ...     # c&#243;digo que pode lan&#231;ar exce&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t"><span class="str">        ...     return usuarios</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t"><span class="str">        >>> @tratar_excecao_repo(valor_retorno_padrao=False)</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t"><span class="str">        ... def atualizar_usuario(usuario: Usuario) -> bool:</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t"><span class="str">        ...     # c&#243;digo que pode lan&#231;ar exce&#231;&#227;o</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t"><span class="str">        ...     return True</span>&nbsp;</span><span class="r"></span></p>
    <p class="exc exc2 show_exc"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">    <span class="key">def</span> <span class="nam">decorator</span><span class="op">(</span><span class="nam">func</span><span class="op">:</span> <span class="nam">Callable</span><span class="op">[</span><span class="op">...</span><span class="op">,</span> <span class="nam">T</span><span class="op">]</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Callable</span><span class="op">[</span><span class="op">...</span><span class="op">,</span> <span class="nam">T</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="op">@</span><span class="nam">wraps</span><span class="op">(</span><span class="nam">func</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">        <span class="key">def</span> <span class="nam">wrapper</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span> <span class="op">-></span> <span class="nam">T</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">            <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">                <span class="key">return</span> <span class="nam">func</span><span class="op">(</span><span class="op">*</span><span class="nam">args</span><span class="op">,</span> <span class="op">**</span><span class="nam">kwargs</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">            <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">                <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">                    <span class="str">f"Erro em {func.__module__}.{func.__name__}: {e}"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">                    <span class="nam">exc_info</span><span class="op">=</span><span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">                <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">                <span class="key">return</span> <span class="nam">valor_retorno_padrao</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">        <span class="key">return</span> <span class="nam">wrapper</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t">    <span class="key">return</span> <span class="nam">decorator</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_id</span><span class="op">(</span><span class="nam">id_valor</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">nome_campo</span><span class="op">:</span> <span class="nam">str</span> <span class="op">=</span> <span class="str">"ID"</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t"><span class="str">    Valida se um ID &#233; v&#225;lido (inteiro positivo).</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t"><span class="str">        id_valor: Valor do ID a ser validado</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t"><span class="str">        nome_campo: Nome do campo para mensagem de log (padr&#227;o: "ID")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t"><span class="str">        True se v&#225;lido, False caso contr&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t"><span class="str">        >>> validar_id(1)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t"><span class="str">        True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t"><span class="str">        >>> validar_id(0)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t"><span class="str">        >>> validar_id(-1)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t"><span class="str">        >>> validar_id(None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">id_valor</span><span class="op">,</span> <span class="nam">int</span><span class="op">)</span> <span class="key">or</span> <span class="nam">id_valor</span> <span class="op">&lt;=</span> <span class="num">0</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"{nome_campo} inv&#225;lido: {id_valor}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">    <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_string_nao_vazia</span><span class="op">(</span><span class="nam">valor</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">nome_campo</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t"><span class="str">    Valida se uma string n&#227;o &#233; vazia ou apenas espa&#231;os.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t"><span class="str">        valor: String a ser validada</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t"><span class="str">        nome_campo: Nome do campo para mensagem de log</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t"><span class="str">        True se v&#225;lido, False caso contr&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t"><span class="str">        >>> validar_string_nao_vazia("teste", "nome")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t"><span class="str">        True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t"><span class="str">        >>> validar_string_nao_vazia("", "nome")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t"><span class="str">        >>> validar_string_nao_vazia("   ", "nome")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t"><span class="str">        >>> validar_string_nao_vazia(None, "nome")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">valor</span> <span class="key">or</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span> <span class="key">or</span> <span class="key">not</span> <span class="nam">valor</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"{nome_campo} inv&#225;lido: '{valor}'"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">    <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_email</span><span class="op">(</span><span class="nam">email</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t"><span class="str">    Valida formato b&#225;sico de email.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t"><span class="str">        email: Email a ser validado</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t"><span class="str">        True se v&#225;lido, False caso contr&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t"><span class="str">        >>> validar_email("user@example.com")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t"><span class="str">        True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t"><span class="str">        >>> validar_email("invalid-email")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t"><span class="str">        >>> validar_email("")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t"><span class="str">        >>> validar_email(None)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">email</span> <span class="key">or</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">email</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Email inv&#225;lido: {email}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">    <span class="com"># Valida&#231;&#227;o b&#225;sica de email</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">    <span class="key">if</span> <span class="str">'@'</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">email</span> <span class="key">or</span> <span class="str">'.'</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">email</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="str">'@'</span><span class="op">)</span><span class="op">[</span><span class="op">-</span><span class="num">1</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Email com formato inv&#225;lido: {email}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">    <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_paginacao</span><span class="op">(</span><span class="nam">limite</span><span class="op">:</span> <span class="nam">int</span><span class="op">,</span> <span class="nam">offset</span><span class="op">:</span> <span class="nam">int</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t"><span class="str">    Valida par&#226;metros de pagina&#231;&#227;o.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t"><span class="str">        limite: N&#250;mero m&#225;ximo de registros por p&#225;gina</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t"><span class="str">        offset: N&#250;mero de registros a pular</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t"><span class="str">        True se v&#225;lido, False caso contr&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t"><span class="str">    Examples:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t"><span class="str">        >>> validar_paginacao(10, 0)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t"><span class="str">        True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t"><span class="str">        >>> validar_paginacao(10, 20)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t"><span class="str">        True</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t"><span class="str">        >>> validar_paginacao(-1, 0)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t"><span class="str">        >>> validar_paginacao(10, -1)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t"><span class="str">        False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">limite</span><span class="op">,</span> <span class="nam">int</span><span class="op">)</span> <span class="key">or</span> <span class="nam">limite</span> <span class="op">&lt;=</span> <span class="num">0</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t168" href="#t168">168</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Limite inv&#225;lido: {limite}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">offset</span><span class="op">,</span> <span class="nam">int</span><span class="op">)</span> <span class="key">or</span> <span class="nam">offset</span> <span class="op">&lt;</span> <span class="num">0</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Offset inv&#225;lido: {offset}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t">    <span class="key">return</span> <span class="key">True</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_model_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_security_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_security_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/security.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/security.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">28 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">28<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_repo_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_template_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 22:09 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="pln"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="str">M&#243;dulo de seguran&#231;a para gerenciar senhas e tokens</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t"><span class="key">import</span> <span class="nam">secrets</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">import</span> <span class="nam">string</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t"><span class="key">import</span> <span class="nam">logging</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="key">from</span> <span class="nam">datetime</span> <span class="key">import</span> <span class="nam">datetime</span><span class="op">,</span> <span class="nam">timedelta</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="key">from</span> <span class="nam">passlib</span><span class="op">.</span><span class="nam">context</span> <span class="key">import</span> <span class="nam">CryptContext</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="com"># Configurar logger</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="nam">logger</span> <span class="op">=</span> <span class="nam">logging</span><span class="op">.</span><span class="nam">getLogger</span><span class="op">(</span><span class="nam">__name__</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="com"># Contexto para hash de senhas usando bcrypt</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="nam">pwd_context</span> <span class="op">=</span> <span class="nam">CryptContext</span><span class="op">(</span><span class="nam">schemes</span><span class="op">=</span><span class="op">[</span><span class="str">"bcrypt"</span><span class="op">]</span><span class="op">,</span> <span class="nam">deprecated</span><span class="op">=</span><span class="str">"auto"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_hash_senha</span><span class="op">(</span><span class="nam">senha</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="str">    Cria um hash seguro da senha usando bcrypt</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">        senha: Senha em texto plano</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="str">        Hash da senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">    <span class="key">return</span> <span class="nam">pwd_context</span><span class="op">.</span><span class="nam">hash</span><span class="op">(</span><span class="nam">senha</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t"><span class="key">def</span> <span class="nam">verificar_senha</span><span class="op">(</span><span class="nam">senha_plana</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">senha_hash</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t"><span class="str">    Verifica se a senha em texto plano corresponde ao hash</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t"><span class="str">        senha_plana: Senha em texto plano</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t"><span class="str">        senha_hash: Hash da senha armazenado no banco</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t"><span class="str">        True se a senha est&#225; correta, False caso contr&#225;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">    <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">        <span class="key">return</span> <span class="nam">pwd_context</span><span class="op">.</span><span class="nam">verify</span><span class="op">(</span><span class="nam">senha_plana</span><span class="op">,</span> <span class="nam">senha_hash</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">    <span class="key">except</span> <span class="nam">ValueError</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">warning</span><span class="op">(</span><span class="str">f"Erro ao verificar senha: hash inv&#225;lido - {e}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">    <span class="key">except</span> <span class="nam">Exception</span> <span class="key">as</span> <span class="nam">e</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">        <span class="nam">logger</span><span class="op">.</span><span class="nam">error</span><span class="op">(</span><span class="str">f"Erro inesperado ao verificar senha: {e}"</span><span class="op">,</span> <span class="nam">exc_info</span><span class="op">=</span><span class="key">True</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t"><span class="key">def</span> <span class="nam">gerar_token_redefinicao</span><span class="op">(</span><span class="nam">tamanho</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">32</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t"><span class="str">    Gera um token aleat&#243;rio seguro para redefini&#231;&#227;o de senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t"><span class="str">        tamanho: Tamanho do token em caracteres</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t"><span class="str">        Token aleat&#243;rio</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">    <span class="nam">caracteres</span> <span class="op">=</span> <span class="nam">string</span><span class="op">.</span><span class="nam">ascii_letters</span> <span class="op">+</span> <span class="nam">string</span><span class="op">.</span><span class="nam">digits</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">    <span class="key">return</span> <span class="str">""</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">secrets</span><span class="op">.</span><span class="nam">choice</span><span class="op">(</span><span class="nam">caracteres</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">range</span><span class="op">(</span><span class="nam">tamanho</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t"><span class="key">def</span> <span class="nam">obter_data_expiracao_token</span><span class="op">(</span><span class="nam">horas</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">24</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t"><span class="str">    Calcula a data de expira&#231;&#227;o do token</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t"><span class="str">        horas: N&#250;mero de horas de validade do token</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t"><span class="str">        Data de expira&#231;&#227;o no formato ISO</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">    <span class="nam">expiracao</span> <span class="op">=</span> <span class="nam">datetime</span><span class="op">.</span><span class="nam">now</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="nam">timedelta</span><span class="op">(</span><span class="nam">hours</span><span class="op">=</span><span class="nam">horas</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">    <span class="key">return</span> <span class="nam">expiracao</span><span class="op">.</span><span class="nam">isoformat</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t"><span class="key">def</span> <span class="nam">gerar_senha_aleatoria</span><span class="op">(</span><span class="nam">tamanho</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">8</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t"><span class="str">    Gera uma senha aleat&#243;ria segura</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t"><span class="str">        tamanho: Tamanho da senha</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t"><span class="str">        Senha aleat&#243;ria</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">    <span class="nam">caracteres</span> <span class="op">=</span> <span class="nam">string</span><span class="op">.</span><span class="nam">ascii_letters</span> <span class="op">+</span> <span class="nam">string</span><span class="op">.</span><span class="nam">digits</span> <span class="op">+</span> <span class="str">"!@#$%"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">    <span class="nam">senha</span> <span class="op">=</span> <span class="str">""</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">secrets</span><span class="op">.</span><span class="nam">choice</span><span class="op">(</span><span class="nam">caracteres</span><span class="op">)</span> <span class="key">for</span> <span class="nam">_</span> <span class="key">in</span> <span class="nam">range</span><span class="op">(</span><span class="nam">tamanho</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">    <span class="key">return</span> <span class="nam">senha</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_repo_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_template_util_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 22:09 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_template_util_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/template_util.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/template_util.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">13 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">13<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_security_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="z_5865449b717dd869_validacoes_dto_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="mis show_mis"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">List</span><span class="op">,</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">Union</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">jinja2</span> <span class="key">import</span> <span class="nam">FileSystemLoader</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">fastapi</span><span class="op">.</span><span class="nam">templating</span> <span class="key">import</span> <span class="nam">Jinja2Templates</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">def</span> <span class="nam">criar_templates</span><span class="op">(</span><span class="nam">diretorio_especifico</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">Union</span><span class="op">[</span><span class="nam">str</span><span class="op">,</span> <span class="nam">List</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">]</span><span class="op">]</span> <span class="op">=</span> <span class="key">None</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Jinja2Templates</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="str">"""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t"><span class="str">    Cria um objeto Jinja2Templates configurado com m&#250;ltiplos diret&#243;rios.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t"><span class="str">    O diret&#243;rio raiz "templates" &#233; sempre inclu&#237;do automaticamente para garantir</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t"><span class="str">    acesso aos templates base como base.html.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t"><span class="str">    Args:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t"><span class="str">        diretorio_especifico: Diret&#243;rio(s) espec&#237;fico(s) al&#233;m do raiz.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="str">                             Pode ser uma string &#250;nica ou lista de strings.</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t"><span class="str">                             Exemplo: "templates/admin/categorias" ou</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t"><span class="str">                                     ["templates/admin", "templates/public"]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t"><span class="str">    Returns:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t"><span class="str">        Objeto Jinja2Templates configurado com os diret&#243;rios especificados</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t"><span class="str">    </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t"><span class="str">    Exemplo de uso:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t"><span class="str">        # Para um diret&#243;rio espec&#237;fico</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t"><span class="str">        templates = criar_templates("templates/admin/categorias")</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t"><span class="str">        </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t"><span class="str">        # Para m&#250;ltiplos diret&#243;rios</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t"><span class="str">        templates = criar_templates(["templates/admin", "templates/admin/produtos"])</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t"><span class="str">        </span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t"><span class="str">        # Apenas com o diret&#243;rio raiz</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t"><span class="str">        templates = criar_templates()</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t"><span class="str">    """</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">    <span class="com"># Sempre incluir o diret&#243;rio raiz onde est&#227;o os templates base</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">    <span class="nam">diretorios</span> <span class="op">=</span> <span class="op">[</span><span class="str">"templates"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="com"># Adicionar diret&#243;rios espec&#237;ficos se fornecidos</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">    <span class="key">if</span> <span class="nam">diretorio_especifico</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">diretorio_especifico</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">            <span class="com"># Se for uma string &#250;nica, adiciona &#224; lista</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">            <span class="nam">diretorios</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="nam">diretorio_especifico</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="key">elif</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">diretorio_especifico</span><span class="op">,</span> <span class="nam">list</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">            <span class="com"># Se for uma lista, estende a lista de diret&#243;rios</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">            <span class="nam">diretorios</span><span class="op">.</span><span class="nam">extend</span><span class="op">(</span><span class="nam">diretorio_especifico</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">    <span class="com"># Criar o objeto Jinja2Templates com diret&#243;rio base como "."</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">    <span class="com"># Isso &#233; necess&#225;rio para que o FileSystemLoader funcione corretamente</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">    <span class="nam">templates</span> <span class="op">=</span> <span class="nam">Jinja2Templates</span><span class="op">(</span><span class="nam">directory</span><span class="op">=</span><span class="str">"."</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">    <span class="com"># Configurar o loader com m&#250;ltiplos diret&#243;rios</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">    <span class="com"># O FileSystemLoader tentar&#225; encontrar templates em ordem nos diret&#243;rios listados</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">    <span class="nam">templates</span><span class="op">.</span><span class="nam">env</span><span class="op">.</span><span class="nam">loader</span> <span class="op">=</span> <span class="nam">FileSystemLoader</span><span class="op">(</span><span class="nam">diretorios</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">    <span class="key">return</span> <span class="nam">templates</span>&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_security_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="z_5865449b717dd869_validacoes_dto_py.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 10:13 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# htmlcov/z_5865449b717dd869_validacoes_dto_py.html

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Coverage for util/validacoes_dto.py: 0%</title>
    <link rel="icon" sizes="32x32" href="favicon_32_cb_58284776.png">
    <link rel="stylesheet" href="style_cb_6b508a39.css" type="text/css">
    <script src="coverage_html_cb_6fb7b396.js" defer></script>
</head>
<body class="pyfile">
<header>
    <div class="content">
        <h1>
            <span class="text">Coverage for </span><b>util/validacoes_dto.py</b>:
            <span class="pc_cov">0%</span>
        </h1>
        <aside id="help_panel_wrapper">
            <input id="help_panel_state" type="checkbox">
            <label for="help_panel_state">
                <img id="keyboard_icon" src="keybd_closed_cb_ce680311.png" alt="Show/hide keyboard shortcuts">
            </label>
            <div id="help_panel">
                <p class="legend">Shortcuts on this page</p>
                <div class="keyhelp">
                    <p>
                        <kbd>r</kbd>
                        <kbd>m</kbd>
                        <kbd>x</kbd>
                        &nbsp; toggle line displays
                    </p>
                    <p>
                        <kbd>j</kbd>
                        <kbd>k</kbd>
                        &nbsp; next/prev highlighted chunk
                    </p>
                    <p>
                        <kbd>0</kbd> &nbsp; (zero) top of page
                    </p>
                    <p>
                        <kbd>1</kbd> &nbsp; (one) first highlighted chunk
                    </p>
                    <p>
                        <kbd>[</kbd>
                        <kbd>]</kbd>
                        &nbsp; prev/next file
                    </p>
                    <p>
                        <kbd>u</kbd> &nbsp; up to the index
                    </p>
                    <p>
                        <kbd>?</kbd> &nbsp; show/hide this help
                    </p>
                </div>
            </div>
        </aside>
        <h2>
            <span class="text">117 statements &nbsp;</span>
            <button type="button" class="run button_toggle_run" value="run" data-shortcut="r" title="Toggle lines run">0<span class="text"> run</span></button>
            <button type="button" class="mis show_mis button_toggle_mis" value="mis" data-shortcut="m" title="Toggle lines missing">117<span class="text"> missing</span></button>
            <button type="button" class="exc show_exc button_toggle_exc" value="exc" data-shortcut="x" title="Toggle lines excluded">0<span class="text"> excluded</span></button>
        </h2>
        <p class="text">
            <a id="prevFileLink" class="nav" href="z_5865449b717dd869_template_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a id="indexLink" class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a id="nextFileLink" class="nav" href="index.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 22:10 -0300
        </p>
        <aside class="hidden">
            <button type="button" class="button_next_chunk" data-shortcut="j"></button>
            <button type="button" class="button_prev_chunk" data-shortcut="k"></button>
            <button type="button" class="button_top_of_page" data-shortcut="0"></button>
            <button type="button" class="button_first_chunk" data-shortcut="1"></button>
            <button type="button" class="button_prev_file" data-shortcut="["></button>
            <button type="button" class="button_next_file" data-shortcut="]"></button>
            <button type="button" class="button_to_index" data-shortcut="u"></button>
            <button type="button" class="button_show_hide_help" data-shortcut="?"></button>
        </aside>
    </div>
</header>
<main id="source">
    <p class="mis show_mis"><span class="n"><a id="t1" href="#t1">1</a></span><span class="t"><span class="key">import</span> <span class="nam">re</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t2" href="#t2">2</a></span><span class="t"><span class="key">from</span> <span class="nam">typing</span> <span class="key">import</span> <span class="nam">Optional</span><span class="op">,</span> <span class="nam">Any</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t3" href="#t3">3</a></span><span class="t"><span class="key">from</span> <span class="nam">pydantic</span> <span class="key">import</span> <span class="nam">ValidationError</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t4" href="#t4">4</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t5" href="#t5">5</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t6" href="#t6">6</a></span><span class="t"><span class="key">def</span> <span class="nam">processar_erros_validacao</span><span class="op">(</span><span class="nam">e</span><span class="op">:</span> <span class="nam">ValidationError</span><span class="op">)</span> <span class="op">-></span> <span class="nam">dict</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t7" href="#t7">7</a></span><span class="t">    <span class="nam">erros</span> <span class="op">=</span> <span class="op">{</span><span class="op">}</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t8" href="#t8">8</a></span><span class="t">    <span class="key">for</span> <span class="nam">erro</span> <span class="key">in</span> <span class="nam">e</span><span class="op">.</span><span class="nam">errors</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t9" href="#t9">9</a></span><span class="t">        <span class="nam">campo</span> <span class="op">=</span> <span class="nam">erro</span><span class="op">[</span><span class="str">"loc"</span><span class="op">]</span><span class="op">[</span><span class="num">0</span><span class="op">]</span> <span class="key">if</span> <span class="nam">erro</span><span class="op">[</span><span class="str">"loc"</span><span class="op">]</span> <span class="key">else</span> <span class="str">"campo"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t10" href="#t10">10</a></span><span class="t">        <span class="nam">mensagem</span> <span class="op">=</span> <span class="nam">erro</span><span class="op">[</span><span class="str">"msg"</span><span class="op">]</span><span class="op">.</span><span class="nam">replace</span><span class="op">(</span><span class="str">"Value error, "</span><span class="op">,</span> <span class="str">""</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t11" href="#t11">11</a></span><span class="t">        <span class="nam">erros</span><span class="op">[</span><span class="nam">str</span><span class="op">(</span><span class="nam">campo</span><span class="op">)</span><span class="op">.</span><span class="nam">lower</span><span class="op">(</span><span class="op">)</span><span class="op">]</span> <span class="op">=</span> <span class="nam">mensagem</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t12" href="#t12">12</a></span><span class="t">    <span class="key">return</span> <span class="nam">erros</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t13" href="#t13">13</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t14" href="#t14">14</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t15" href="#t15">15</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_forca_senha</span><span class="op">(</span><span class="nam">senha</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">tuple</span><span class="op">[</span><span class="nam">bool</span><span class="op">,</span> <span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t16" href="#t16">16</a></span><span class="t">    <span class="nam">erros</span> <span class="op">=</span> <span class="op">[</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t17" href="#t17">17</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">senha</span><span class="op">)</span> <span class="op">&lt;</span> <span class="num">8</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t18" href="#t18">18</a></span><span class="t">        <span class="nam">erros</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="str">"A senha deve ter pelo menos 8 caracteres"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t19" href="#t19">19</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t20" href="#t20">20</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">any</span><span class="op">(</span><span class="nam">c</span><span class="op">.</span><span class="nam">islower</span><span class="op">(</span><span class="op">)</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">senha</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t21" href="#t21">21</a></span><span class="t">        <span class="nam">erros</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="str">"A senha deve conter pelo menos uma letra min&#250;scula"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t22" href="#t22">22</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t23" href="#t23">23</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">any</span><span class="op">(</span><span class="nam">c</span><span class="op">.</span><span class="nam">isupper</span><span class="op">(</span><span class="op">)</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">senha</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t24" href="#t24">24</a></span><span class="t">        <span class="nam">erros</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="str">"A senha deve conter pelo menos uma letra mai&#250;scula"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t25" href="#t25">25</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t26" href="#t26">26</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">any</span><span class="op">(</span><span class="nam">c</span><span class="op">.</span><span class="nam">isdigit</span><span class="op">(</span><span class="op">)</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">senha</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t27" href="#t27">27</a></span><span class="t">        <span class="nam">erros</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="str">"A senha deve conter pelo menos um n&#250;mero"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t28" href="#t28">28</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t29" href="#t29">29</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">any</span><span class="op">(</span><span class="nam">c</span> <span class="key">in</span> <span class="str">"!@#$%^&amp;*(),.?\":{}|&lt;>_-+=[]\\;'/"</span> <span class="key">for</span> <span class="nam">c</span> <span class="key">in</span> <span class="nam">senha</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t30" href="#t30">30</a></span><span class="t">        <span class="nam">erros</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t31" href="#t31">31</a></span><span class="t">            <span class="str">"A senha deve conter pelo menos um caractere especial (!@#$%^&amp;*(),.?\":{}|&lt;>_-+=[]\\;'/)"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t32" href="#t32">32</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t33" href="#t33">33</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t34" href="#t34">34</a></span><span class="t">    <span class="com"># Lista de senhas comuns que devem ser rejeitadas</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t35" href="#t35">35</a></span><span class="t">    <span class="nam">senhas_comuns</span> <span class="op">=</span> <span class="op">[</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t36" href="#t36">36</a></span><span class="t">        <span class="str">"123456"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t37" href="#t37">37</a></span><span class="t">        <span class="str">"password"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t38" href="#t38">38</a></span><span class="t">        <span class="str">"123456789"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t39" href="#t39">39</a></span><span class="t">        <span class="str">"12345678"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t40" href="#t40">40</a></span><span class="t">        <span class="str">"12345"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t41" href="#t41">41</a></span><span class="t">        <span class="str">"1234567"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t42" href="#t42">42</a></span><span class="t">        <span class="str">"qwerty"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t43" href="#t43">43</a></span><span class="t">        <span class="str">"abc123"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t44" href="#t44">44</a></span><span class="t">        <span class="str">"password1"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t45" href="#t45">45</a></span><span class="t">        <span class="str">"123123"</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t46" href="#t46">46</a></span><span class="t">    <span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t47" href="#t47">47</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t48" href="#t48">48</a></span><span class="t">    <span class="key">if</span> <span class="nam">senha</span><span class="op">.</span><span class="nam">lower</span><span class="op">(</span><span class="op">)</span> <span class="key">in</span> <span class="nam">senhas_comuns</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t49" href="#t49">49</a></span><span class="t">        <span class="nam">erros</span><span class="op">.</span><span class="nam">append</span><span class="op">(</span><span class="str">"A senha &#233; muito comum e f&#225;cil de adivinhar"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t50" href="#t50">50</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t51" href="#t51">51</a></span><span class="t">    <span class="key">if</span> <span class="nam">erros</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t52" href="#t52">52</a></span><span class="t">        <span class="key">return</span> <span class="key">False</span><span class="op">,</span> <span class="str">"; "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">erros</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t53" href="#t53">53</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t54" href="#t54">54</a></span><span class="t">    <span class="key">return</span> <span class="key">True</span><span class="op">,</span> <span class="str">""</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t55" href="#t55">55</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t56" href="#t56">56</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t57" href="#t57">57</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_crmv</span><span class="op">(</span><span class="nam">crmv</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t58" href="#t58">58</a></span><span class="t">    <span class="nam">crmv_limpo</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">sub</span><span class="op">(</span><span class="str">r"[^0-9]"</span><span class="op">,</span> <span class="str">""</span><span class="op">,</span> <span class="nam">crmv</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t59" href="#t59">59</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">crmv</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t60" href="#t60">60</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"CRMV &#233; obrigat&#243;rio"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t61" href="#t61">61</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">crmv_limpo</span><span class="op">)</span> <span class="op">!=</span> <span class="num">6</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t62" href="#t62">62</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"CRMV deve ter 6 d&#237;gitos"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t63" href="#t63">63</a></span><span class="t">    <span class="key">if</span> <span class="nam">crmv_limpo</span> <span class="op">==</span> <span class="nam">crmv_limpo</span><span class="op">[</span><span class="num">0</span><span class="op">]</span> <span class="op">*</span> <span class="num">6</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t64" href="#t64">64</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"CRMV inv&#225;lido"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t65" href="#t65">65</a></span><span class="t">    <span class="key">return</span> <span class="nam">crmv_limpo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t66" href="#t66">66</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t67" href="#t67">67</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t68" href="#t68">68</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_telefone</span><span class="op">(</span><span class="nam">telefone</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t69" href="#t69">69</a></span><span class="t">    <span class="nam">telefone_limpo</span> <span class="op">=</span> <span class="nam">re</span><span class="op">.</span><span class="nam">sub</span><span class="op">(</span><span class="str">r"[^0-9]"</span><span class="op">,</span> <span class="str">""</span><span class="op">,</span> <span class="nam">telefone</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t70" href="#t70">70</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">telefone_limpo</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t71" href="#t71">71</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Telefone &#233; obrigat&#243;rio"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t72" href="#t72">72</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">telefone_limpo</span><span class="op">)</span> <span class="op">&lt;</span> <span class="num">10</span> <span class="key">or</span> <span class="nam">len</span><span class="op">(</span><span class="nam">telefone_limpo</span><span class="op">)</span> <span class="op">></span> <span class="num">11</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t73" href="#t73">73</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Telefone deve ter 10 ou 11 d&#237;gitos"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t74" href="#t74">74</a></span><span class="t">    <span class="nam">ddd</span> <span class="op">=</span> <span class="nam">telefone_limpo</span><span class="op">[</span><span class="op">:</span><span class="num">2</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t75" href="#t75">75</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="op">(</span><span class="num">11</span> <span class="op">&lt;=</span> <span class="nam">int</span><span class="op">(</span><span class="nam">ddd</span><span class="op">)</span> <span class="op">&lt;=</span> <span class="num">99</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t76" href="#t76">76</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"DDD inv&#225;lido"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t77" href="#t77">77</a></span><span class="t">    <span class="key">return</span> <span class="nam">telefone_limpo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t78" href="#t78">78</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t79" href="#t79">79</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t80" href="#t80">80</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_nome_pessoa</span><span class="op">(</span><span class="nam">nome</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">min_words</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">2</span><span class="op">,</span> <span class="nam">min_chars</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">2</span><span class="op">,</span> <span class="nam">max_chars</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">100</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t81" href="#t81">81</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">nome</span> <span class="key">or</span> <span class="key">not</span> <span class="nam">nome</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t82" href="#t82">82</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Nome &#233; obrigat&#243;rio"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t83" href="#t83">83</a></span><span class="t">    <span class="nam">palavras</span> <span class="op">=</span> <span class="nam">nome</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t84" href="#t84">84</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">palavras</span><span class="op">)</span> <span class="op">&lt;</span> <span class="nam">min_words</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t85" href="#t85">85</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Nome deve conter pelo menos {min_words} palavras"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t86" href="#t86">86</a></span><span class="t">    <span class="nam">nome_limpo</span> <span class="op">=</span> <span class="str">" "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">palavras</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t87" href="#t87">87</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">nome_limpo</span><span class="op">)</span> <span class="op">&lt;</span> <span class="nam">min_chars</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t88" href="#t88">88</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Nome deve ter pelo menos {min_chars} caracteres"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t89" href="#t89">89</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">nome_limpo</span><span class="op">)</span> <span class="op">></span> <span class="nam">max_chars</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t90" href="#t90">90</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Nome deve ter no m&#225;ximo {max_chars} caracteres"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t91" href="#t91">91</a></span><span class="t">    <span class="com"># Verificar se cont&#233;m apenas letras, espa&#231;os e acentos</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t92" href="#t92">92</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">re</span><span class="op">.</span><span class="nam">match</span><span class="op">(</span><span class="str">r"^[a-zA-Z&#192;-&#255;\s]+$"</span><span class="op">,</span> <span class="nam">nome_limpo</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t93" href="#t93">93</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Nome deve conter apenas letras e espa&#231;os"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t94" href="#t94">94</a></span><span class="t">    <span class="key">return</span> <span class="nam">nome_limpo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t95" href="#t95">95</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t96" href="#t96">96</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t97" href="#t97">97</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_texto_obrigatorio</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t98" href="#t98">98</a></span><span class="t">    <span class="nam">texto</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">campo</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">min_chars</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1</span><span class="op">,</span> <span class="nam">max_chars</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1000</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t99" href="#t99">99</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t100" href="#t100">100</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">texto</span> <span class="key">or</span> <span class="key">not</span> <span class="nam">texto</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t101" href="#t101">101</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"{campo} &#233; obrigat&#243;rio"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t102" href="#t102">102</a></span><span class="t">    <span class="nam">texto_limpo</span> <span class="op">=</span> <span class="str">" "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">texto</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t103" href="#t103">103</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">texto_limpo</span><span class="op">)</span> <span class="op">&lt;</span> <span class="nam">min_chars</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t104" href="#t104">104</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"{campo} deve ter pelo menos {min_chars} caracteres"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t105" href="#t105">105</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">texto_limpo</span><span class="op">)</span> <span class="op">></span> <span class="nam">max_chars</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t106" href="#t106">106</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"{campo} deve ter no m&#225;ximo {max_chars} caracteres"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t107" href="#t107">107</a></span><span class="t">    <span class="key">return</span> <span class="nam">texto_limpo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t108" href="#t108">108</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t109" href="#t109">109</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t110" href="#t110">110</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_texto_opcional</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t111" href="#t111">111</a></span><span class="t">    <span class="nam">texto</span><span class="op">:</span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">,</span> <span class="nam">max_chars</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">1000</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t112" href="#t112">112</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">Optional</span><span class="op">[</span><span class="nam">str</span><span class="op">]</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t113" href="#t113">113</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">texto</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t114" href="#t114">114</a></span><span class="t">        <span class="key">return</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t115" href="#t115">115</a></span><span class="t">    <span class="nam">texto_limpo</span> <span class="op">=</span> <span class="str">" "</span><span class="op">.</span><span class="nam">join</span><span class="op">(</span><span class="nam">texto</span><span class="op">.</span><span class="nam">split</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="key">if</span> <span class="nam">texto</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span> <span class="key">else</span> <span class="key">None</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t116" href="#t116">116</a></span><span class="t">    <span class="key">if</span> <span class="nam">texto_limpo</span> <span class="key">and</span> <span class="nam">len</span><span class="op">(</span><span class="nam">texto_limpo</span><span class="op">)</span> <span class="op">></span> <span class="nam">max_chars</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t117" href="#t117">117</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Texto deve ter no m&#225;ximo {max_chars} caracteres"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t118" href="#t118">118</a></span><span class="t">    <span class="key">return</span> <span class="nam">texto_limpo</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t119" href="#t119">119</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t120" href="#t120">120</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t121" href="#t121">121</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_email</span><span class="op">(</span><span class="nam">email</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t122" href="#t122">122</a></span><span class="t">    <span class="nam">email_limpo</span> <span class="op">=</span> <span class="nam">email</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t123" href="#t123">123</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">email_limpo</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t124" href="#t124">124</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Email &#233; obrigat&#243;rio"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t125" href="#t125">125</a></span><span class="t">    <span class="nam">email_regex</span> <span class="op">=</span> <span class="str">r"^[\w\.-]+@[\w\.-]+\.\w+$"</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t126" href="#t126">126</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">re</span><span class="op">.</span><span class="nam">match</span><span class="op">(</span><span class="nam">email_regex</span><span class="op">,</span> <span class="nam">email_limpo</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t127" href="#t127">127</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Email inv&#225;lido"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t128" href="#t128">128</a></span><span class="t">    <span class="key">return</span> <span class="nam">email_limpo</span><span class="op">.</span><span class="nam">lower</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t129" href="#t129">129</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t130" href="#t130">130</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t131" href="#t131">131</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_senha</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t132" href="#t132">132</a></span><span class="t">    <span class="nam">senha</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t133" href="#t133">133</a></span><span class="t">    <span class="nam">min_chars</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">6</span><span class="op">,</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t134" href="#t134">134</a></span><span class="t">    <span class="nam">max_chars</span><span class="op">:</span> <span class="nam">int</span> <span class="op">=</span> <span class="num">128</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t135" href="#t135">135</a></span><span class="t"><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t136" href="#t136">136</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">senha</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t137" href="#t137">137</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"Senha &#233; obrigat&#243;ria"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t138" href="#t138">138</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">senha</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="nam">min_chars</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t139" href="#t139">139</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Senha deve ter pelo menos {min_chars} caracteres"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t140" href="#t140">140</a></span><span class="t">    <span class="key">if</span> <span class="nam">len</span><span class="op">(</span><span class="nam">senha</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">></span> <span class="nam">max_chars</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t141" href="#t141">141</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Senha deve ter no m&#225;ximo {max_chars} caracteres"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t142" href="#t142">142</a></span><span class="t">    <span class="nam">is_forte</span><span class="op">,</span> <span class="nam">mensagem</span> <span class="op">=</span> <span class="nam">validar_forca_senha</span><span class="op">(</span><span class="nam">senha</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t143" href="#t143">143</a></span><span class="t">    <span class="key">if</span> <span class="key">not</span> <span class="nam">is_forte</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t144" href="#t144">144</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">f"Senha fraca: {mensagem}"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t145" href="#t145">145</a></span><span class="t">    <span class="key">return</span> <span class="nam">senha</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t146" href="#t146">146</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t147" href="#t147">147</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t148" href="#t148">148</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_senhas_coincidem</span><span class="op">(</span><span class="nam">senha</span><span class="op">:</span> <span class="nam">str</span><span class="op">,</span> <span class="nam">confirmar_senha</span><span class="op">:</span> <span class="nam">str</span><span class="op">)</span> <span class="op">-></span> <span class="nam">str</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t149" href="#t149">149</a></span><span class="t">    <span class="key">if</span> <span class="nam">senha</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span> <span class="op">!=</span> <span class="nam">confirmar_senha</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t150" href="#t150">150</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span><span class="str">"As senhas n&#227;o coincidem"</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t151" href="#t151">151</a></span><span class="t">    <span class="key">return</span> <span class="nam">confirmar_senha</span><span class="op">.</span><span class="nam">strip</span><span class="op">(</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t152" href="#t152">152</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t153" href="#t153">153</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t154" href="#t154">154</a></span><span class="t"><span class="key">def</span> <span class="nam">converter_checkbox_para_bool</span><span class="op">(</span><span class="nam">valor</span><span class="op">:</span> <span class="nam">Any</span><span class="op">)</span> <span class="op">-></span> <span class="nam">bool</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t155" href="#t155">155</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">bool</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t156" href="#t156">156</a></span><span class="t">        <span class="key">return</span> <span class="nam">valor</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t157" href="#t157">157</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t158" href="#t158">158</a></span><span class="t">        <span class="key">return</span> <span class="nam">valor</span><span class="op">.</span><span class="nam">lower</span><span class="op">(</span><span class="op">)</span> <span class="key">in</span> <span class="op">[</span><span class="str">"on"</span><span class="op">,</span> <span class="str">"true"</span><span class="op">,</span> <span class="str">"1"</span><span class="op">,</span> <span class="str">"yes"</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t159" href="#t159">159</a></span><span class="t">    <span class="key">return</span> <span class="nam">bool</span><span class="op">(</span><span class="nam">valor</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t160" href="#t160">160</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t161" href="#t161">161</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t162" href="#t162">162</a></span><span class="t"><span class="key">def</span> <span class="nam">validar_enum_valor</span><span class="op">(</span><span class="nam">valor</span><span class="op">:</span> <span class="nam">Any</span><span class="op">,</span> <span class="nam">enum_class</span><span class="op">)</span> <span class="op">-></span> <span class="nam">Any</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t163" href="#t163">163</a></span><span class="t">    <span class="key">if</span> <span class="nam">isinstance</span><span class="op">(</span><span class="nam">valor</span><span class="op">,</span> <span class="nam">str</span><span class="op">)</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t164" href="#t164">164</a></span><span class="t">        <span class="key">try</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t165" href="#t165">165</a></span><span class="t">            <span class="key">return</span> <span class="nam">enum_class</span><span class="op">(</span><span class="nam">valor</span><span class="op">.</span><span class="nam">upper</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t166" href="#t166">166</a></span><span class="t">        <span class="key">except</span> <span class="nam">ValueError</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t167" href="#t167">167</a></span><span class="t">            <span class="nam">valores_validos</span> <span class="op">=</span> <span class="op">[</span><span class="nam">item</span><span class="op">.</span><span class="nam">value</span> <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">enum_class</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t168" href="#t168">168</a></span><span class="t">            <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t169" href="#t169">169</a></span><span class="t">                <span class="str">f'Valor deve ser uma das op&#231;&#245;es: {", ".join(valores_validos)}'</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t170" href="#t170">170</a></span><span class="t">            <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t171" href="#t171">171</a></span><span class="t">    <span class="nam">valores_validos</span> <span class="op">=</span> <span class="op">[</span><span class="nam">item</span><span class="op">.</span><span class="nam">value</span> <span class="key">for</span> <span class="nam">item</span> <span class="key">in</span> <span class="nam">enum_class</span><span class="op">]</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t172" href="#t172">172</a></span><span class="t">    <span class="key">if</span> <span class="nam">valor</span> <span class="key">not</span> <span class="key">in</span> <span class="nam">valores_validos</span><span class="op">:</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t173" href="#t173">173</a></span><span class="t">        <span class="key">raise</span> <span class="nam">ValueError</span><span class="op">(</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t174" href="#t174">174</a></span><span class="t">            <span class="str">f'Valor deve ser uma das op&#231;&#245;es: {", ".join(valores_validos)}'</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis mis2 show_mis"><span class="n"><a id="t175" href="#t175">175</a></span><span class="t">        <span class="op">)</span>&nbsp;</span><span class="r"></span></p>
    <p class="mis show_mis"><span class="n"><a id="t176" href="#t176">176</a></span><span class="t">    <span class="key">return</span> <span class="nam">valor</span>&nbsp;</span><span class="r"></span></p>
    <p class="pln"><span class="n"><a id="t177" href="#t177">177</a></span><span class="t">&nbsp;</span><span class="r"></span></p>
</main>
<footer>
    <div class="content">
        <p>
            <a class="nav" href="z_5865449b717dd869_template_util_py.html">&#xab; prev</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&Hat; index</a> &nbsp; &nbsp;
            <a class="nav" href="index.html">&#xbb; next</a>
            &nbsp; &nbsp; &nbsp;
            <a class="nav" href="https://coverage.readthedocs.io/en/7.11.0">coverage.py v7.11.0</a>,
            created at 2025-10-18 22:10 -0300
        </p>
    </div>
</footer>
</body>
</html>

```

# main.py

```py
from fastapi import FastAPI
from fastapi.staticfiles import StaticFiles
import uvicorn
import os
import logging
from logging.handlers import RotatingFileHandler
from pathlib import Path
from dotenv import load_dotenv

from util.db_util import inicializar_banco
from routes.publico import auth_routes, public_routes
from util.middlewares import configurar_middlewares

# Carregar variáveis de ambiente
load_dotenv()

# Configurar logging
log_dir = Path("logs")
log_dir.mkdir(exist_ok=True)

# Handler para arquivo
file_handler = RotatingFileHandler(
    "logs/app.log", maxBytes=10 * 1024 * 1024, backupCount=5  # 10MB
)
file_handler.setLevel(logging.INFO)

# Handler para console
console_handler = logging.StreamHandler()
console_handler.setLevel(logging.WARNING)

# Formato
formatter = logging.Formatter(
    "%(asctime)s - %(name)s - %(levelname)s - %(message)s", datefmt="%Y-%m-%d %H:%M:%S"
)
file_handler.setFormatter(formatter)
console_handler.setFormatter(formatter)

# Configurar logger raiz
logging.basicConfig(level=logging.INFO, handlers=[file_handler, console_handler])

# Logger específico para aplicação
logger = logging.getLogger(__name__)

# Inicializar banco de dados
inicializar_banco()

# Inicializar FastAPI
app = FastAPI(
    title="VetConecta",
    description="Plataforma de conexão veterinária",
    version="1.0.0"
)

# Configurar middlewares
configurar_middlewares(app)

# Montar arquivos estáticos
app.mount("/static", StaticFiles(directory="static"), name="static")

# Incluir rotas
app.include_router(public_routes.router)
app.include_router(auth_routes.router)

# Inícialização do servidor
if __name__ == "__main__":
    environment = os.getenv("ENVIRONMENT", "development")
    logger.info("Iniciando aplicação VetConecta")
    logger.info(f"Ambiente: {environment}")
    uvicorn.run(app="main:app", host="127.0.0.1", port=8000, reload=True)

```

# model/__init__.py

```py

```

# model/administrador_model.py

```py
from dataclasses import dataclass

@dataclass
class Administrador:
    id_admin: int
    nome: str
    email: str
    senha: str
    
```

# model/categoria_artigo_model.py

```py
from dataclasses import dataclass

@dataclass
class CategoriaArtigo:
    id_categoria_artigo: int
    nome: str
    cor: str
```

# model/chamado_model.py

```py
from dataclasses import dataclass
from datetime import datetime
from typing import Optional

from model.enums import ChamadoStatus

@dataclass
class Chamado:
    id_chamado: int
    id_usuario: int
    id_admin: Optional[int]
    titulo: str
    descricao: str
    status: ChamadoStatus
    data: datetime

```

# model/comentario_model.py

```py
from dataclasses import dataclass
from datetime import datetime
from typing import Optional


@dataclass
class ComentarioArtigo:
    id_comentario_artigo: int
    id_usuario: int
    id_postagem_artigo: int
    texto: str
    data_comentario: datetime
    data_moderacao: Optional[datetime] = None

```

# model/curtida_artigo_model.py

```py
from dataclasses import dataclass
from datetime import datetime
from typing import Optional

@dataclass
class CurtidaArtigo:
    id_usuario: int
    id_postagem_artigo: int
    data_curtida: Optional[datetime] = None
```

# model/curtida_feed_model.py

```py
from dataclasses import dataclass
from datetime import datetime
from typing import Optional

@dataclass
class CurtidaFeed:
    id_usuario: int
    id_postagem_feed: int
    data_curtida: Optional[datetime] = None

```

# model/denuncia_model.py

```py
from dataclasses import dataclass
from typing import Optional
from datetime import datetime
from model.enums import DenunciaStatus

@dataclass
class Denuncia:
    id_denuncia: Optional[int]
    id_usuario: int
    id_admin: Optional[int]
    motivo: str
    data_denuncia: datetime
    status: DenunciaStatus

```

# model/enums.py

```py
from enum import Enum

class ChamadoStatus(Enum):
    ABERTO = "aberto"
    EM_ANDAMENTO = "em_andamento"
    RESOLVIDO = "resolvido"

class DenunciaStatus(Enum):
    PENDENTE = "pendente"
    EM_ANALISE = "em_analise"
    RESOLVIDA = "resolvida"
    REJEITADA = "rejeitada"

class VerificacaoStatus(Enum):
    PENDENTE = "pendente"
    APROVADO = "aprovado"
    REJEITADO = "rejeitado"
    EM_ANALISE = "em_analise"

class PerfilUsuario(str, Enum):
    ADMIN = "admin"
    TUTOR = "tutor"
    VETERINARIO = "veterinario"
```

# model/postagem_artigo_model.py

```py
from dataclasses import dataclass
from datetime import date

@dataclass
class PostagemArtigo:
    id_postagem_artigo: int
    id_veterinario: int
    titulo: str
    conteudo: str
    id_categoria_artigo: int
    data_publicacao: date
    visualizacoes: int
```

# model/postagem_feed_model.py

```py
from dataclasses import dataclass
from datetime import datetime

@dataclass
class PostagemFeed:
    id_postagem_feed: int
    id_tutor: int
    descricao: str
    data_postagem: datetime
    visualizacoes: int = 0

```

# model/resposta_chamado_model.py

```py
from dataclasses import dataclass
from datetime import date
from typing import Optional

@dataclass
class RespostaChamado:
    id_resposta_chamado: Optional[int] = None     
    id_chamado: int = 0
    titulo: str = ""
    descricao: str = ""
    data: Optional[date] = None  
```

# model/seguida_model.py

```py
from dataclasses import dataclass
from datetime import date


@dataclass
class Seguida:
    id_seguidor: int
    id_seguido: int
    data_inicio: date

```

# model/tutor_model.py

```py
from dataclasses import dataclass
from typing import Optional

from model.usuario_model import Usuario

@dataclass
class Tutor(Usuario):
    quantidade_pets: int
    descricao_pets: Optional[str]
```

# model/usuario_model.py

```py
from dataclasses import dataclass
from typing import Optional

@dataclass
class Usuario:
    id_usuario: int
    nome: str
    email: str
    senha: str
    telefone: str
    perfil: str
    token_redefinicao: Optional[str]
    data_token: Optional[str]
    data_cadastro: Optional[str]
```

# model/verificacao_crmv_model.py

```py
from dataclasses import dataclass
from datetime import datetime
from typing import Optional
from model.enums import VerificacaoStatus

@dataclass
class VerificacaoCRMV:
    id_verificacao_crmv: int
    id_veterinario: int
    id_administrador: Optional[int]
    data_verificacao: datetime
    status_verificacao: VerificacaoStatus

```

# model/veterinario_model.py

```py
from dataclasses import dataclass
from typing import Optional

from model.usuario_model import Usuario

@dataclass
class Veterinario(Usuario):
    crmv: str
    verificado: bool
    bio: Optional[str]
```

# pytest.ini

```ini
[pytest]
# Diretórios onde o pytest deve procurar por testes
testpaths = tests

# Configuração do asyncio
asyncio_default_fixture_loop_scope = function

# Padrões de arquivos de teste
python_files = test_*.py *_test.py

# Padrões de classes de teste
python_classes = Test*

# Padrões de funções de teste
python_functions = test_*

# Marcadores personalizados
markers =
    slow: marca testes que demoram para executar
    integration: marca testes de integração
    unit: marca testes unitários

# Opções padrão do pytest
addopts =
    -v
    --strict-markers
    --disable-warnings
    --color=yes
    --cov=repo
    --cov=model
    --cov=util
    --cov-report=html
    --cov-report=term-missing
    --cov-report=term:skip-covered

# Filtros de warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
```

# repo/__init__.py

```py

```

# repo/administrador_repo.py

```py
from typing import Optional, List
from model.administrador_model import Administrador
from sql.administrador_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de administrador: {e}")
        return False


def inserir(admin: Administrador) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(INSERIR, (admin.nome, admin.email, admin.senha))
        return cursor.lastrowid


def atualizar(admin: Administrador) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(ATUALIZAR, (admin.nome, admin.email, admin.senha, admin.id_admin))
        return cursor.rowcount > 0


def atualizar_senha(id_admin: int, nova_senha: str) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(ATUALIZAR_SENHA, (nova_senha, id_admin))
        return cursor.rowcount > 0


def excluir(id_admin: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_admin,))
        return cursor.rowcount > 0


def obter_pagina(offset: int, limite: int) -> List[Administrador]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        return [Administrador(**row) for row in rows]


def obter_por_id(id_admin: int) -> Optional[Administrador]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_admin,))
        row = cursor.fetchone()
        return Administrador(**row) if row else None


def importar(admin: Administrador) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(IMPORTAR, (admin.id_admin, admin.nome, admin.email, admin.senha))
        return cursor.rowcount > 0

```

# repo/categoria_artigo_repo.py

```py
from typing import Optional, List
from model.categoria_artigo_model import CategoriaArtigo
from sql.categoria_artigo_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de categorias: {e}")
        return False


def inserir(categoria: CategoriaArtigo) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(INSERIR, (categoria.nome, categoria.cor))
        return cursor.lastrowid


def atualizar(categoria: CategoriaArtigo) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            ATUALIZAR,
            (
                categoria.nome,
                categoria.cor,
                categoria.id_categoria_artigo,
            ),
        )
        return cursor.rowcount > 0


def excluir(id_categoria: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_categoria,))
        return cursor.rowcount > 0


def obter_pagina(offset: int, limite: int) -> List[CategoriaArtigo]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        return [CategoriaArtigo(**row) for row in rows]


def obter_por_id(id_categoria: int) -> Optional[CategoriaArtigo]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_categoria,))
        row = cursor.fetchone()
        return CategoriaArtigo(**row) if row else None


def obter_todos() -> List[CategoriaArtigo]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_TODOS)
        rows = cursor.fetchall()
        return [CategoriaArtigo(**row) for row in rows]


def importar(categoria: CategoriaArtigo) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(IMPORTAR, (categoria.id_categoria_artigo, categoria.nome, categoria.cor))
        return categoria.id_categoria_artigo
```

# repo/chamado_repo.py

```py
from typing import Optional, List
from model.chamado_model import Chamado
from model.enums import ChamadoStatus
from sql.chamado_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de categorias: {e}")
        return False


def inserir(chamado: Chamado) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            INSERIR,
            (
                chamado.id_usuario,
                chamado.id_admin,
                chamado.titulo,
                chamado.descricao,
                (chamado.status.value if hasattr(chamado.status, "value") else chamado.status),
                chamado.data,
            ),
        )
        return cursor.lastrowid


def atualizar_status(id_chamado: int, novo_status: ChamadoStatus) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(ATUALIZAR_STATUS, (novo_status.value, id_chamado))
        return cursor.rowcount > 0


def excluir(id_chamado: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_chamado,))
        return cursor.rowcount > 0


def obter_pagina(offset: int, limite: int) -> List[Chamado]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        return [
            Chamado(
                id_chamado=row["id_chamado"],
                id_usuario=row["id_usuario"],
                id_admin=row["id_admin"],
                titulo=row["titulo"],
                descricao=row["descricao"],
                status=ChamadoStatus(row["status"]),
                data=row["data"],
            )
            for row in rows
        ]


def obter_por_id(id_chamado: int) -> Optional[Chamado]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_chamado,))
        row = cursor.fetchone()
        if row:
            return Chamado(
                id_chamado=row["id_chamado"],
                id_usuario=row["id_usuario"],
                id_admin=row["id_admin"],
                titulo=row["titulo"],
                descricao=row["descricao"],
                status=ChamadoStatus(row["status"]),
                data=row["data"],
            )
        return None

```

# repo/comentario_artigo_repo.py

```py
from typing import Optional, List

from fastapi.logger import logger
from model.comentario_model import ComentarioArtigo
from sql.comentario_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        logger.error(f"Erro ao criar tabela de comentario_artigo: {e}")
        return False


def inserir(comentario: ComentarioArtigo) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            INSERIR,
            (comentario.id_usuario, comentario.id_postagem_artigo, comentario.texto),
        )
        return cursor.lastrowid


def atualizar(comentario: ComentarioArtigo) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            ATUALIZAR,
            (
                comentario.texto,
                comentario.data_moderacao,
                comentario.id_comentario_artigo,
            ),
        )
        return cursor.rowcount > 0


def excluir(id_comentario: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_comentario,))
        return cursor.rowcount > 0


def obter_pagina(limite: int, offset: int) -> List[ComentarioArtigo]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        return [
            ComentarioArtigo(
                id_comentario_artigo=row["id_comentario"],
                id_usuario=row["id_usuario"],
                id_postagem_artigo=row["id_postagem_artigo"],
                texto=row["texto"],
                data_comentario=row["data_comentario"],
                data_moderacao=row["data_moderacao"],
            )
            for row in rows
        ]


def obter_por_id(id_comentario: int) -> Optional[ComentarioArtigo]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_comentario,))
        row = cursor.fetchone()
        if row:
            return ComentarioArtigo(
                id_comentario_artigo=row["id_comentario"],
                id_usuario=row["id_usuario"],
                id_postagem_artigo=row["id_postagem_artigo"],
                texto=row["texto"],
                data_comentario=row["data_comentario"],
                data_moderacao=row["data_moderacao"],
            )
        return None

```

# repo/curtida_artigo_repo.py

```py
from typing import Optional, List
from datetime import datetime
from model.curtida_artigo_model import CurtidaArtigo
from sql.curtida_artigo_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de curtidas de artigo: {e}")
        return False


def inserir(curtida: CurtidaArtigo) -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(
                INSERIR,
                (curtida.id_usuario, curtida.id_postagem_artigo, curtida.data_curtida),
            )
            return cursor.rowcount > 0
    except Exception as e:
        print(f"Erro ao inserir curtida: {e}")
        return False


def excluir(id_usuario: int, id_postagem_artigo: int) -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(EXCLUIR, (id_usuario, id_postagem_artigo))
            return cursor.rowcount > 0
    except Exception as e:
        print(f"Erro ao excluir curtida: {e}")
        return False


def obter_pagina(limite: int, offset: int) -> List[CurtidaArtigo]:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(OBTER_PAGINA, (limite, offset))
            rows = cursor.fetchall()
            curtidas = []
            for row in rows:
                # Converter string para datetime se necessário
                data_curtida = row["data_curtida"]
                if isinstance(data_curtida, str):
                    # Tentar diferentes formatos
                    for fmt in ["%Y-%m-%d %H:%M:%S.%f", "%Y-%m-%d %H:%M:%S", "%Y-%m-%d"]:
                        try:
                            data_curtida = datetime.strptime(data_curtida, fmt)
                            break
                        except ValueError:
                            continue
                curtidas.append(
                    CurtidaArtigo(
                        id_usuario=row["id_usuario"],
                        id_postagem_artigo=row["id_postagem_artigo"],
                        data_curtida=data_curtida if isinstance(data_curtida, datetime) else None,
                    )
                )
            return curtidas
    except Exception as e:
        print(f"Erro ao obter curtidas paginadas: {e}")
        return []


def obter_por_id(id_usuario: int, id_postagem_artigo: int) -> Optional[CurtidaArtigo]:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(OBTER_POR_ID, (id_usuario, id_postagem_artigo))
            row = cursor.fetchone()
            if row:
                # Converter string para datetime se necessário
                data_curtida = row["data_curtida"]
                if isinstance(data_curtida, str):
                    # Tentar diferentes formatos
                    for fmt in ["%Y-%m-%d %H:%M:%S.%f", "%Y-%m-%d %H:%M:%S", "%Y-%m-%d"]:
                        try:
                            data_curtida = datetime.strptime(data_curtida, fmt)
                            break
                        except ValueError:
                            continue
                return CurtidaArtigo(
                    id_usuario=row["id_usuario"],
                    id_postagem_artigo=row["id_postagem_artigo"],
                    data_curtida=data_curtida if isinstance(data_curtida, datetime) else None,
                )
            return None
    except Exception as e:
        print(f"Erro ao obter curtida por ID: {e}")
        return None


def contar_curtidas_por_artigo(id_postagem_artigo: int) -> int:
    """
    Conta o total de curtidas de um artigo específico

    Args:
        id_postagem_artigo: ID do artigo

    Returns:
        Total de curtidas do artigo
    """
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CONTAR_CURTIDAS_POR_ARTIGO, (id_postagem_artigo,))
            row = cursor.fetchone()
            return row["total_curtidas"] if row else 0
    except Exception as e:
        print(f"Erro ao contar curtidas do artigo: {e}")
        return 0

```

# repo/curtida_feed_repo.py

```py
from typing import Optional, List
from model.curtida_feed_model import CurtidaFeed
from sql.curtida_feed_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de curtida_feed: {e}")
        return False


def inserir(curtida: CurtidaFeed) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(INSERIR, (curtida.id_usuario, curtida.id_postagem_feed))
        return cursor.rowcount > 0


def excluir(id_usuario: int, id_postagem_feed: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_usuario, id_postagem_feed))
        return cursor.rowcount > 0


def obter_pagina(limite: int, offset: int) -> List[CurtidaFeed]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        return [
            CurtidaFeed(
                id_usuario=row["id_usuario"],
                id_postagem_feed=row["id_postagem_feed"],
                data_curtida=row["data_curtida"],
            )
            for row in rows
        ]


def obter_por_id(id_usuario: int, id_postagem_feed: int) -> Optional[CurtidaFeed]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_usuario, id_postagem_feed))
        row = cursor.fetchone()
        if row:
            return CurtidaFeed(
                id_usuario=id_usuario,
                id_postagem_feed=id_postagem_feed,
                data_curtida=row["data_curtida"],
            )
        return None


def contar_curtidas_por_postagem(id_postagem_feed: int) -> int:
    """Retorna o total de curtidas de uma postagem."""
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(CONTAR_CURTIDAS_POR_POSTAGEM, (id_postagem_feed,))
        row = cursor.fetchone()
        return row["total"] if row else 0

```

# repo/denuncia_repo.py

```py
from typing import Optional, List
from model.denuncia_model import Denuncia
from model.enums import DenunciaStatus
from sql.denuncia_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de categorias: {e}")
        return False


def inserir(denuncia: Denuncia) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            INSERIR,
            (
                denuncia.id_usuario,
                denuncia.id_admin,
                denuncia.motivo,
                denuncia.data_denuncia,
                denuncia.status.value,
            ),
        )
        return cursor.lastrowid


def atualizar(denuncia: Denuncia) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            ATUALIZAR,
            (
                denuncia.id_usuario,
                denuncia.id_admin,
                denuncia.motivo,
                denuncia.data_denuncia,
                denuncia.status.value,
                denuncia.id_denuncia,
            ),
        )
        return cursor.rowcount > 0


def excluir(id_denuncia: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_denuncia,))
        return cursor.rowcount > 0


def obter_pagina(limite: int, offset: int) -> List[Denuncia]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()

        denuncias = []
        for row in rows:
            dados = {
                "id_denuncia": row["id_denuncia"],
                "id_usuario": row["id_usuario"],
                "id_admin": row["id_admin"],
                "motivo": row["motivo"],
                "data_denuncia": row["data_denuncia"],
                "status": DenunciaStatus(row["status"]),
            }
            denuncias.append(Denuncia(**dados))
        return denuncias


def obter_por_id(id_denuncia: int) -> Optional[Denuncia]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_denuncia,))
        row = cursor.fetchone()
        if row is None:
            return None  # <- evita erro
        denuncia = Denuncia(
            id_denuncia=row["id_denuncia"],
            id_usuario=row["id_usuario"],
            id_admin=row["id_admin"],
            motivo=row["motivo"],
            data_denuncia=row["data_denuncia"],
            status=DenunciaStatus(row["status"]),
        )
        return denuncia

```

# repo/postagem_artigo_repo.py

```py
from datetime import datetime
from typing import Optional, List
from model.postagem_artigo_model import PostagemArtigo
from sql.postagem_artigo_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de postagem_artigo: {e}")
        return False


def inserir(postagem: PostagemArtigo) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            INSERIR,
            (
                postagem.id_veterinario,
                postagem.titulo,
                postagem.conteudo,
                postagem.id_categoria_artigo,
            ),
        )
        return cursor.lastrowid


def atualizar(postagem: PostagemArtigo) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            ATUALIZAR,
            (
                postagem.titulo,
                postagem.conteudo,
                postagem.id_categoria_artigo,
                postagem.id_postagem_artigo,
            ),
        )
        return cursor.rowcount > 0


def incrementar_visualizacoes(id_postagem_artigo: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(INCREMENTAR_VISUALIZACOES, (id_postagem_artigo,))
        return cursor.rowcount > 0


def excluir(id_postagem_artigo: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_postagem_artigo,))
        return cursor.rowcount > 0


def obter_pagina(pagina: int, tamanho_pagina: int) -> List[PostagemArtigo]:
    limite = tamanho_pagina
    offset = (pagina - 1) * tamanho_pagina
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        return [
            PostagemArtigo(
                id_postagem_artigo=row["id_postagem_artigo"],
                id_veterinario=row["id_veterinario"],
                titulo=row["titulo"],
                conteudo=row["conteudo"],
                id_categoria_artigo=row["id_categoria_artigo"],
                data_publicacao=datetime.strptime(row["data_publicacao"], "%Y-%m-%d %H:%M:%S").date(),
                visualizacoes=row["visualizacoes"],
            )
            for row in rows
        ]


def obter_por_id(id_postagem_artigo: int) -> Optional[PostagemArtigo]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_postagem_artigo,))
        row = cursor.fetchone()
        if row:
            return PostagemArtigo(
                id_postagem_artigo=row["id_postagem_artigo"],
                id_veterinario=row["id_veterinario"],
                titulo=row["titulo"],
                conteudo=row["conteudo"],
                id_categoria_artigo=row["id_categoria_artigo"],
                data_publicacao=datetime.strptime(row["data_publicacao"], "%Y-%m-%d %H:%M:%S").date(),
                visualizacoes=row["visualizacoes"],
            )
        return None


def obter_recentes_com_dados(limite: int) -> List[dict]:
    """Retorna os artigos mais recentes com dados do veterinário e categoria."""
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_RECENTES_COM_DADOS, (limite,))
        rows = cursor.fetchall()
        return [dict(row) for row in rows]


def obter_pagina_com_dados(pagina: int, tamanho_pagina: int) -> List[dict]:
    """Retorna uma página de artigos com dados do veterinário e categoria."""
    limite = tamanho_pagina
    offset = (pagina - 1) * tamanho_pagina
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA_COM_DADOS, (limite, offset))
        rows = cursor.fetchall()
        return [dict(row) for row in rows]


def obter_por_categoria_com_dados(id_categoria: int, pagina: int, tamanho_pagina: int) -> List[dict]:
    """Retorna artigos de uma categoria específica com dados do veterinário e categoria."""
    limite = tamanho_pagina
    offset = (pagina - 1) * tamanho_pagina
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_CATEGORIA_COM_DADOS, (id_categoria, limite, offset))
        rows = cursor.fetchall()
        return [dict(row) for row in rows]


def importar(postagem: PostagemArtigo) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            IMPORTAR,
            (
                postagem.id_postagem_artigo,
                postagem.id_veterinario,
                postagem.titulo,
                postagem.conteudo,
                postagem.id_categoria_artigo,
                postagem.visualizacoes,
            ),
        )
        return postagem.id_postagem_artigo


def contar_total() -> int:
    """Retorna o total de artigos publicados."""
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(CONTAR_TOTAL)
        row = cursor.fetchone()
        return row["total"] if row else 0


def contar_por_categoria(id_categoria: int) -> int:
    """Retorna o total de artigos de uma categoria específica."""
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(CONTAR_POR_CATEGORIA, (id_categoria,))
        row = cursor.fetchone()
        return row["total"] if row else 0

```

# repo/postagem_feed_repo.py

```py
from datetime import datetime
from typing import Optional, List
from model.postagem_feed_model import PostagemFeed
from sql.postagem_feed_sql import *
from util.db_util import get_connection


def _parse_datetime(data_string: str) -> datetime:
    """
    Parse de data/hora que aceita múltiplos formatos.

    Tenta primeiro datetime completo, depois apenas data.
    Se for apenas data, assume meia-noite (00:00:00).
    """
    data_string = data_string.strip()

    # Tenta formato completo primeiro (YYYY-MM-DD HH:MM:SS)
    try:
        return datetime.strptime(data_string[:19], "%Y-%m-%d %H:%M:%S")
    except ValueError:
        pass

    # Tenta formato apenas data (YYYY-MM-DD)
    try:
        return datetime.strptime(data_string[:10], "%Y-%m-%d")
    except ValueError:
        raise ValueError(f"Formato de data/hora inválido: {data_string}")


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de categorias: {e}")
        return False


def inserir(postagem: PostagemFeed) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(INSERIR, (postagem.id_tutor, postagem.descricao))
        return cursor.lastrowid


def atualizar(postagem: PostagemFeed) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(ATUALIZAR, (postagem.descricao, postagem.id_postagem_feed))
        return cursor.rowcount > 0


def excluir(id_postagem_feed: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_postagem_feed,))
        return cursor.rowcount > 0


def obter_pagina(pagina: int, tamanho_pagina: int) -> List[PostagemFeed]:
    limite = tamanho_pagina
    offset = (pagina - 1) * tamanho_pagina
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        return [
            PostagemFeed(
                id_postagem_feed=row["id_postagem_feed"],
                id_tutor=row["id_tutor"],
                descricao=row["descricao"],
                data_postagem=_parse_datetime(row["data_postagem"]),
                visualizacoes=row["visualizacoes"],
            )
            for row in rows
        ]


def obter_por_id(id_postagem_feed: int) -> Optional[PostagemFeed]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_postagem_feed,))
        row = cursor.fetchone()
        if row:
            return PostagemFeed(
                id_postagem_feed=row["id_postagem_feed"],
                id_tutor=row["id_tutor"],
                descricao=row["descricao"],
                data_postagem=_parse_datetime(row["data_postagem"]),
                visualizacoes=row["visualizacoes"],
            )
        return None


def importar(postagem: PostagemFeed) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            IMPORTAR,
            (
                postagem.id_postagem_feed,
                postagem.id_tutor,
                postagem.descricao,
                postagem.data_postagem,
                postagem.visualizacoes,
            ),
        )
        return postagem.id_postagem_feed


def obter_recentes_com_dados(limite: int) -> List[dict]:
    """Retorna os posts mais recentes com dados do tutor."""
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_RECENTES_COM_DADOS, (limite,))
        rows = cursor.fetchall()
        return [dict(row) for row in rows]


def obter_pagina_com_dados(pagina: int, tamanho_pagina: int) -> List[dict]:
    """Retorna uma página de posts com dados do tutor."""
    limite = tamanho_pagina
    offset = (pagina - 1) * tamanho_pagina
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA_COM_DADOS, (limite, offset))
        rows = cursor.fetchall()
        return [dict(row) for row in rows]


def contar_total() -> int:
    """Retorna o total de posts no feed."""
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(CONTAR_TOTAL)
        row = cursor.fetchone()
        return row["total"] if row else 0


def obter_por_id_com_dados(id_postagem_feed: int) -> Optional[dict]:
    """Retorna um post por ID com dados completos do tutor."""
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID_COM_DADOS, (id_postagem_feed,))
        row = cursor.fetchone()
        if row:
            return dict(row)
        return None


def incrementar_visualizacoes(id_postagem_feed: int) -> bool:
    """Incrementa o contador de visualizações de um post."""
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(INCREMENTAR_VISUALIZACOES, (id_postagem_feed,))
        return cursor.rowcount > 0

```

# repo/resposta_chamado_repo.py

```py
from typing import Optional, List
from model.resposta_chamado_model import RespostaChamado
from sql.resposta_chamado_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de categorias: {e}")
        return False


def inserir(resposta: RespostaChamado) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            INSERIR,
            (resposta.id_chamado, resposta.titulo, resposta.descricao, resposta.data),
        )
        return cursor.lastrowid


def atualizar(resposta: RespostaChamado) -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(
                ATUALIZAR,
                (
                    resposta.id_chamado,
                    resposta.titulo,
                    resposta.descricao,
                    resposta.data,
                    resposta.id_resposta_chamado,
                ),
            )
            return cursor.rowcount > 0
    except Exception as e:
        print(f"Erro ao atualizar resposta: {e}")
        return False


def excluir(id_resposta: int) -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(EXCLUIR, (id_resposta,))
            return cursor.rowcount > 0
    except Exception as e:
        print(f"Erro ao excluir resposta: {e}")
        return False


def obter_pagina(limite: int, offset: int) -> List[RespostaChamado]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        return [
            RespostaChamado(
                id_resposta_chamado=row["id_resposta_chamado"],
                id_chamado=row["id_chamado"],
                titulo=row["titulo"],
                descricao=row["descricao"],
                data=row["data"],
            )
            for row in rows
        ]


def obter_por_id(id_resposta: int) -> Optional[RespostaChamado]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_resposta,))
        row = cursor.fetchone()
        if row:
            return RespostaChamado(
                id_resposta_chamado=row["id_resposta_chamado"],
                id_chamado=row["id_chamado"],
                titulo=row["titulo"],
                descricao=row["descricao"],
                data=row["data"],
            )
        return None

```

# repo/seguida_repo.py

```py
from datetime import datetime
from typing import Optional, List
from model.seguida_model import Seguida
from sql.seguida_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de seguidas: {e}")
        return False


def inserir(seguida: Seguida) -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(INSERIR, (seguida.id_seguidor, seguida.id_seguido))
            return cursor.rowcount > 0
    except Exception as e:
        print(f"Erro ao inserir seguida: {e}")
        return False


def excluir(id_veterinario: int, id_tutor: int) -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(EXCLUIR, (id_veterinario, id_tutor))
            return cursor.rowcount > 0
    except Exception as e:
        print(f"Erro ao excluir seguida: {e}")
        return False


def obter_pagina(pagina: int, tamanho_pagina: int) -> List[Seguida]:
    limite = tamanho_pagina
    offset = (pagina - 1) * tamanho_pagina
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(OBTER_PAGINA, (limite, offset))
            rows = cursor.fetchall()
            return [
                Seguida(
                    id_seguidor=row["id_veterinario"],
                    id_seguido=row["id_tutor"],
                    data_inicio=datetime.strptime(
                        row["data_inicio"][:10], "%Y-%m-%d"
                    ).date(),
                )
                for row in rows
            ]
    except Exception as e:
        print(f"Erro ao obter seguidas paginado: {e}")
        return []


def obter_por_id(id_veterinario: int, id_tutor: int) -> Optional[Seguida]:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(OBTER_POR_ID, (id_veterinario, id_tutor))
            row = cursor.fetchone()
            if row:
                return Seguida(
                    id_seguidor=row["id_veterinario"],
                    id_seguido=row["id_tutor"],
                    data_inicio=datetime.strptime(
                        row["data_inicio"][:10], "%Y-%m-%d"
                    ).date(),
                )
            return None
    except Exception as e:
        print(f"Erro ao obter seguida por ID: {e}")
        return None

```

# repo/tutor_repo.py

```py
from typing import Optional
from model.tutor_model import Tutor
import sql.tutor_sql as tutor_sql
import sql.usuario_sql as usuario_sql
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(tutor_sql.CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de tutor: {e}")
        return False


def inserir(tutor: Tutor) -> Optional[int]:
    """Insere tutor e usuário em uma única transação atômica."""
    with get_connection() as conn:
        cursor = conn.cursor()

        # Inserir usuário
        cursor.execute(
            usuario_sql.INSERIR,
            (tutor.nome, tutor.email, tutor.senha, tutor.telefone, tutor.perfil),
        )
        id_tutor = cursor.lastrowid

        # Inserir tutor
        cursor.execute(tutor_sql.INSERIR, (id_tutor, tutor.quantidade_pets, tutor.descricao_pets))

        return id_tutor


def atualizar(tutor: Tutor) -> bool:
    """Atualiza tutor e usuário em uma única transação atômica."""
    with get_connection() as conn:
        cursor = conn.cursor()

        # Atualizar usuário
        cursor.execute(
            usuario_sql.ATUALIZAR,
            (tutor.nome, tutor.email, tutor.telefone, tutor.id_usuario),
        )

        # Atualizar tutor
        cursor.execute(
            tutor_sql.ATUALIZAR,
            (tutor.quantidade_pets, tutor.descricao_pets, tutor.id_usuario),
        )

        return cursor.rowcount > 0


def excluir(id_tutor: int) -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()

            # Primeiro excluir da tabela tutor
            cursor.execute(tutor_sql.EXCLUIR, (id_tutor,))
            tutor_excluido = cursor.rowcount > 0

            # Depois excluir da tabela usuario
            if tutor_excluido:
                cursor.execute(usuario_sql.EXCLUIR, (id_tutor,))
                usuario_excluido = cursor.rowcount > 0
                return usuario_excluido

            return False
    except Exception as e:
        print(f"Erro ao excluir tutor: {e}")
        return False


def obter_pagina(limite: int, offset: int) -> list[Tutor]:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(tutor_sql.OBTER_PAGINA, (limite, offset))
            rows = cursor.fetchall()
            tutores = []
            for row in rows:
                tutor = Tutor(
                    id_usuario=row["id_tutor"],
                    nome=row["nome"],
                    email=row["email"],
                    senha="",  # Não expor senha
                    telefone=row["telefone"],
                    perfil=row["perfil"] if "perfil" in row.keys() else "tutor",
                    token_redefinicao=(row["token_redefinicao"] if "token_redefinicao" in row.keys() else None),
                    data_token=(row["data_token"] if "data_token" in row.keys() else None),
                    data_cadastro=(row["data_cadastro"] if "data_cadastro" in row.keys() else None),
                    quantidade_pets=(row["quantidade_pets"] if "quantidade_pets" in row.keys() else 0),
                    descricao_pets=(row["descricao_pets"] if "descricao_pets" in row.keys() else None),
                )
                tutores.append(tutor)

            return tutores
    except Exception as e:
        print(f"Erro ao obter tutores paginado: {e}")
        return []


def obter_por_id(id_tutor: int) -> Optional[Tutor]:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(tutor_sql.OBTER_POR_ID, (id_tutor,))
            row = cursor.fetchone()
            if row is None:
                return None
            tutor = Tutor(
                id_usuario=row["id_tutor"],
                nome=row["nome"],
                email=row["email"],
                senha="",  # Não expor senha
                telefone=row["telefone"],
                perfil=row["perfil"],                
                data_cadastro=row["data_cadastro"],
                data_token=row["data_token"],
                token_redefinicao=row["token_redefinicao"],
                quantidade_pets=row["quantidade_pets"],
                descricao_pets=row["descricao_pets"],
            )
            return tutor
    except Exception as e:
        print(f"Erro ao obter tutor por ID: {e}")
        return None


def importar(tutor: Tutor) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()

        # Inserir usuário
        cursor.execute(
            usuario_sql.IMPORTAR,
            (tutor.id_usuario, tutor.nome, tutor.email, tutor.senha, tutor.telefone, tutor.perfil),
        )        

        # Inserir tutor
        cursor.execute(tutor_sql.INSERIR, (tutor.id_usuario, tutor.quantidade_pets, tutor.descricao_pets))

        return tutor.id_usuario
```

# repo/usuario_repo.py

```py
from typing import Optional
from model.usuario_model import Usuario
from sql.usuario_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de categorias: {e}")
        return False


def inserir(usuario: Usuario) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            INSERIR,
            (
                usuario.nome,
                usuario.email,
                usuario.senha,
                usuario.telefone,
                usuario.perfil,
            ),
        )
        return cursor.lastrowid


def atualizar(usuario: Usuario) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            ATUALIZAR,
            (usuario.nome, usuario.email, usuario.telefone, usuario.id_usuario),
        )
        return cursor.rowcount > 0


def atualizar_senha(id_usuario: int, senha: str) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(ATUALIZAR_SENHA, (senha, id_usuario))
        return cursor.rowcount > 0


def excluir(id_usuario: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_usuario,))
        return cursor.rowcount > 0


def obter_pagina(limite: int, offset: int) -> list[Usuario]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        usuarios = [
            Usuario(
                id_usuario=row["id_usuario"],
                nome=row["nome"],
                email=row["email"],
                senha=row["senha"],
                telefone=row["telefone"],
                perfil=row["perfil"],
                token_redefinicao=row["token_redefinicao"],
                data_token=row["data_token"],
                data_cadastro=row["data_cadastro"],
            )
            for row in rows
        ]
        return usuarios


def obter_por_id(id_usuario: int) -> Optional[Usuario]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_usuario,))
        row = cursor.fetchone()
        if row is None:
            return None
        return Usuario(
            id_usuario=row["id_usuario"],
            nome=row["nome"],
            email=row["email"],
            senha=row["senha"],
            telefone=row["telefone"],
            perfil=row["perfil"],
            token_redefinicao=row["token_redefinicao"],
            data_token=row["data_token"],
            data_cadastro=row["data_cadastro"],
        )


def obter_por_email(email: str) -> Optional[Usuario]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_EMAIL, (email,))
        row = cursor.fetchone()
        if row:
            usuario = Usuario(
                id_usuario=row["id_usuario"],
                nome=row["nome"],
                email=row["email"],
                senha=row["senha"],
                telefone=row["telefone"],
                perfil=row["perfil"],
                token_redefinicao=row["token_redefinicao"],
                data_token=row["data_token"],
                data_cadastro=row["data_cadastro"],
            )
            return usuario
        return None


def atualizar_token(email: str, token: str, data_expiracao: str) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(ATUALIZAR_TOKEN, (token, data_expiracao, email))
        return cursor.rowcount > 0


def obter_por_token(token: str) -> Optional[Usuario]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_TOKEN, (token,))
        row = cursor.fetchone()
        if row:
            usuario = Usuario(
                id_usuario=row["id_usuario"],
                nome=row["nome"],
                email=row["email"],
                senha=row["senha"],
                telefone=row["telefone"],
                perfil=row["perfil"],
                token_redefinicao=row["token_redefinicao"],
                data_token=row["data_token"],
                data_cadastro=(row["data_cadastro"] if "data_cadastro" in row.keys() else None),
            )
            return usuario
        return None


def limpar_token(id_usuario: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(LIMPAR_TOKEN, (id_usuario,))
        return cursor.rowcount > 0


def obter_todos_por_perfil(perfil: str) -> list[Usuario]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_PERFIL, (perfil,))
        rows = cursor.fetchall()
        usuarios = []
        for row in rows:
            usuario = Usuario(
                id_usuario=row["id_usuario"],
                nome=row["nome"],
                email=row["email"],
                senha=row["senha"],
                telefone=row["telefone"],
                perfil=row["perfil"],
                token_redefinicao=row["token_redefinicao"],
                data_token=row["data_token"],
                data_cadastro=row["data_cadastro"],
            )
            usuarios.append(usuario)
        return usuarios


def importar(usuario: Usuario) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            IMPORTAR,
            (
                usuario.id_usuario,
                usuario.nome,
                usuario.email,
                usuario.senha,
                usuario.telefone,
                usuario.perfil,
            ),
        )
        return cursor.rowcount > 0

```

# repo/verificacao_crmv_repo.py

```py
from typing import Optional, List
from model.verificacao_crmv_model import VerificacaoCRMV
from model.enums import VerificacaoStatus
from sql.verificacao_crmv_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de verificação CRMV: {e}")
        return False


def inserir(verificacao: VerificacaoCRMV) -> Optional[int]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            INSERIR,
            (
                verificacao.id_veterinario,
                verificacao.id_administrador,
                verificacao.status_verificacao.value,
            ),
        )
        return cursor.lastrowid


def atualizar(id_veterinario: int, novo_status: VerificacaoStatus, id_administrador: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(ATUALIZAR, (novo_status.value, id_administrador, id_veterinario))
        return cursor.rowcount > 0


def excluir(id_veterinario: int) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(EXCLUIR, (id_veterinario,))
        return cursor.rowcount > 0


def obter_pagina(limite: int, offset: int) -> List[VerificacaoCRMV]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            "SELECT * FROM verificacao_crmv ORDER BY id_verificacao_crmv LIMIT ? OFFSET ?",
            (limite, offset),
        )
        rows = cursor.fetchall()
        return [
            VerificacaoCRMV(
                id_verificacao_crmv=row["id_verificacao_crmv"],
                id_veterinario=row["id_veterinario"],
                id_administrador=row["id_administrador"],
                data_verificacao=row["data_verificacao"],
                status_verificacao=VerificacaoStatus(row["status_verificacao"]),
            )
            for row in rows
        ]


def obter_por_id(id_verificacao_crmv: int) -> Optional[VerificacaoCRMV]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(
            "SELECT * FROM verificacao_crmv WHERE id_verificacao_crmv = ?",
            (id_verificacao_crmv,),
        )
        row = cursor.fetchone()
        if row:
            return VerificacaoCRMV(
                id_verificacao_crmv=row["id_verificacao_crmv"],
                id_veterinario=row["id_veterinario"],
                id_administrador=row["id_administrador"],
                data_verificacao=row["data_verificacao"],
                status_verificacao=VerificacaoStatus(row["status_verificacao"]),
            )
        return None

```

# repo/veterinario_repo.py

```py
from typing import Optional
from sql import veterinario_sql, usuario_sql
from model.veterinario_model import Veterinario
from sql.veterinario_sql import *
from util.db_util import get_connection


def criar_tabela() -> bool:
    try:
        with get_connection() as conn:
            cursor = conn.cursor()
            cursor.execute(CRIAR_TABELA)
            return True
    except Exception as e:
        print(f"Erro ao criar tabela de categorias: {e}")
        return False


def inserir(vet: Veterinario) -> Optional[int]:
    """Insere veterinário e usuário em uma única transação atômica."""
    with get_connection() as conn:
        cursor = conn.cursor()

        # Inserir usuário
        cursor.execute(
            usuario_sql.INSERIR,
            (vet.nome, vet.email, vet.senha, vet.telefone, vet.perfil),
        )
        id_veterinario = cursor.lastrowid

        # Inserir veterinário
        cursor.execute(veterinario_sql.INSERIR, (id_veterinario, vet.crmv, vet.bio))

        return id_veterinario


def atualizar(vet: Veterinario) -> bool:
    """Atualiza veterinário e usuário em uma única transação atômica."""
    with get_connection() as conn:
        cursor = conn.cursor()

        # Atualizar usuário
        cursor.execute(usuario_sql.ATUALIZAR, (vet.nome, vet.email, vet.telefone, vet.id_usuario))

        # Atualizar veterinário
        cursor.execute(ATUALIZAR, (vet.crmv, vet.verificado, vet.bio, vet.id_usuario))

        return cursor.rowcount > 0


def atualizar_verificacao(id_veterinario: int, verificado: bool) -> bool:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(ATUALIZAR_VERIFICADO, (verificado, id_veterinario))
        return cursor.rowcount > 0


def excluir(id: int) -> bool:
    """Exclui veterinário e usuário em uma única transação atômica."""
    with get_connection() as conn:
        cursor = conn.cursor()

        # Excluir veterinário (deve vir primeiro devido a foreign key)
        cursor.execute(EXCLUIR, (id,))
        excluiu_veterinario = cursor.rowcount > 0

        # Excluir usuário
        cursor.execute(usuario_sql.EXCLUIR, (id,))
        excluiu_usuario = cursor.rowcount > 0

        return excluiu_veterinario and excluiu_usuario


def obter_pagina(limite: int, offset: int) -> list[Veterinario]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_PAGINA, (limite, offset))
        rows = cursor.fetchall()
        veterinarios = [
            Veterinario(
                id_usuario=row["id_veterinario"],
                nome=row["nome"],
                email=row["email"],
                senha="",
                telefone=row["telefone"],
                perfil=row["perfil"] if "perfil" in row.keys() else "veterinario",
                token_redefinicao=(row["token_redefinicao"] if "token_redefinicao" in row.keys() else None),
                data_token=row["data_token"] if "data_token" in row.keys() else None,
                data_cadastro=(row["data_cadastro"] if "data_cadastro" in row.keys() else None),
                crmv=row["crmv"],
                verificado=row["verificado"],
                bio=row["bio"],
            )
            for row in rows
        ]
        return veterinarios


def obter_por_id(id_veterinario: int) -> Optional[Veterinario]:
    with get_connection() as conn:
        cursor = conn.cursor()
        cursor.execute(OBTER_POR_ID, (id_veterinario,))
        row = cursor.fetchone()
        if row is None:
            return None
        veterinario = Veterinario(
            id_usuario=row["id_veterinario"],
            nome=row["nome"],
            email=row["email"],
            senha="",  # Não expor senha
            telefone=row["telefone"],
            perfil=row["perfil"],
            data_cadastro=row["data_cadastro"],
            data_token=row["data_token"],
            token_redefinicao=row["token_redefinicao"],
            crmv=row["crmv"],
            verificado=row["verificado"],
            bio=row["bio"],
        )
        return veterinario


def importar(vet: Veterinario) -> Optional[int]:
    """Insere veterinário e usuário em uma única transação atômica."""
    with get_connection() as conn:
        cursor = conn.cursor()

        # Inserir usuário
        cursor.execute(
            usuario_sql.IMPORTAR,
            (vet.id_usuario, vet.nome, vet.email, vet.senha, vet.telefone, vet.perfil),
        )        

        # Inserir veterinário
        cursor.execute(veterinario_sql.IMPORTAR, (vet.id_usuario, vet.crmv, vet.verificado, vet.bio))

        return vet.id_usuario
```

# requirements.txt

```txt
fastapi[standard]
uvicorn[standard]
pydantic>=2.0.0
pydantic_core
jinja2
Babel
python-multipart
itsdangerous

# Segurança
passlib[bcrypt]==1.7.4
bcrypt>=3.2.0,<4.0.0  # Versão 3.x é totalmente compatível com passlib 1.7.4
python-jose[cryptography]
python-dotenv>=1.0.0
slowapi>=0.1.9
fastapi-csrf-protect>=0.3.4
email-validator>=2.0.0

# Processamento de imagens e uploads
Pillow>=10.0.0

# Dependências de teste
pytest
pytest-asyncio
pytest-cov
```

# routes/admin/categoria_artigo_routes.py

```py
from fastapi import APIRouter, Form, Request
from fastapi.responses import RedirectResponse
from fastapi.templating import Jinja2Templates

from model.categoria_artigo_model import CategoriaArtigo
from repo import categoria_artigo_repo
from util.auth_decorator import requer_autenticacao, obter_usuario_logado


router = APIRouter()
templates = Jinja2Templates(directory="templates")

@router.get("/")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_root(request: Request):
    # TODO: BUG #3 - Corrigir objeto request vazio
    # PROBLEMA: Na linha abaixo, "request": {} está vazio (dicionário vazio)
    # SOLUÇÃO: Trocar {} por request (sem aspas, é a variável request do parâmetro)
    # CORRETO: {"request": request, "categoria_artigo": categoria_artigo}
    categoria_artigo = categoria_artigo_repo.obter_pagina(limite=10, offset=0)
    response = templates.TemplateResponse("administrador/home_administrador.html", {"request": {}, "categoria_artigo": categoria_artigo})
    return response

@router.get("/listar_categorias")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_listar_categorias(request: Request):
    # TODO: Buscar todas as categorias do banco de dados
    # PASSO 1: Chamar categoria_artigo_repo.obter_todos()
    # PASSO 2: Adicionar a variável 'categorias' no context do template
    # EXEMPLO: categorias = categoria_artigo_repo.obter_todos()
    #          return templates.TemplateResponse("...", {"request": request, "categorias": categorias})
    return templates.TemplateResponse("administrador/listar_categorias.html", {"request": request})

@router.get("/alterar_categoria/{id_categoria}")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_alterar_categoria(request: Request, id_categoria: int):
    categoria_artigo = categoria_artigo_repo.obter_por_id(id_categoria)
    if categoria_artigo:
        response = templates.TemplateResponse("administrador/alterar_categoria.html", {"request": request, "categoria_artigo": categoria_artigo})
        return response
    return templates.TemplateResponse("administrador/alterar_categoria.html", {"request": {}, "mensagem": "Categoria não encontrada."})

@router.post("/alterar_categoria")
@requer_autenticacao(perfis_autorizados=["admin"])
async def post_categoria_alterar(
    request: Request,
    id_categoria: int = Form(...),
    nome: str = Form(...),
    cor: str = Form(...),
    imagem: str = Form(...)):
    categoria = CategoriaArtigo(id_categoria_artigo=id_categoria, nome=nome, cor=cor, imagem=imagem)
    if categoria_artigo_repo.atualizar(categoria):
        response = RedirectResponse("/administrador/categorias", status_code=303)
        return response
    return templates.TemplateResponse("administrador/alterar_categoria.html", {"request": request, "mensagem": "Erro ao alterar categoria."})


@router.get("/cadastrar_categoria")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_cadastrar_categoria(request: Request):
    response = templates.TemplateResponse("administrador/cadastrar_categoria.html", {"request": request})
    return response


@router.post("/cadastrar_categoria")
@requer_autenticacao(perfis_autorizados=["admin"])
async def post_categoria_artigor(request: Request, nome: str = Form(...), cor: str = Form(...), imagem: str = Form(...)):
    categoria = CategoriaArtigo(id_categoria_artigo=0, nome=nome, cor=cor, imagem=imagem)
    id_categoria = categoria_artigo_repo.inserir(categoria)
    if id_categoria:
        # TODO: BUG #1 - Redirect aponta para arquivo HTML em vez de rota
        # PROBLEMA: "/administrador/cadastrar_categoria.html" é um caminho de arquivo, não uma rota
        # SOLUÇÃO: Trocar por "/administrador/listar_categorias" (rota que lista as categorias)
        # OPCIONAL: Adicionar mensagem de sucesso com util.mensagens.adicionar_mensagem_sucesso()
        response = RedirectResponse("/administrador/cadastrar_categoria.html", status_code=303)
        return response
    return templates.TemplateResponse("administrador/cadastrar_categoria.html", {"request": request, "mensagem": "Erro ao cadastrar categoria."})


@router.get("/excluir_categoria/{id_categoria}")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_categoria_excluir(request: Request, id_categoria: int):
    categoria_artigo = categoria_artigo_repo.obter_por_id(id_categoria)
    if categoria_artigo:
        response = templates.TemplateResponse("administrador/excluir_categoria.html", {"request": request, "categoria_artigo": categoria_artigo})
        return response
    return RedirectResponse("/administrador/categorias", status_code=303)


@router.post("/excluir_categoria")
@requer_autenticacao(perfis_autorizados=["admin"])
async def post_categoria_excluir(
    request: Request,
    id_categoria: int = Form(...)):
    # TODO: BUG #2 - A exclusão não está sendo executada
    # PROBLEMA: O código apenas verifica se a categoria existe, mas não exclui
    # SOLUÇÃO:
    #   1. Verificar se categoria existe (já feito)
    #   2. SE NÃO EXISTIR: retornar erro
    #   3. SE EXISTIR: chamar categoria_artigo_repo.excluir(id_categoria)
    #   4. Verificar se exclusão foi bem sucedida
    #   5. Adicionar mensagem de sucesso ou erro
    # EXEMPLO:
    #   from util.mensagens import adicionar_mensagem_sucesso, adicionar_mensagem_erro
    #   categoria = categoria_artigo_repo.obter_por_id(id_categoria)
    #   if not categoria:
    #       adicionar_mensagem_erro(request, "Categoria não encontrada.")
    #   elif categoria_artigo_repo.excluir(id_categoria):
    #       adicionar_mensagem_sucesso(request, "Categoria excluída com sucesso!")
    #   else:
    #       adicionar_mensagem_erro(request, "Erro ao excluir. Pode haver artigos vinculados.")
    #   return RedirectResponse("/administrador/listar_categorias", status_code=303)
    if categoria_artigo_repo.obter_por_id(id_categoria):
        response = RedirectResponse("/administrador/categorias", status_code=303)
        return response
    return templates.TemplateResponse("administrador/excluir_categoria.html", {"request": request, "mensagem": "Erro ao excluir categoria."})
```

# routes/admin/chamado_routes_TODO.txt

```txt
# TODO: Adicionar rotas POST para chamados

# Adicionar após a função get_responder_chamado():

# TODO: Implementar POST para responder chamado
# @router.post("/responder_chamado")
# @requer_autenticacao(perfis_autorizados=["admin"])
# async def post_responder_chamado(request: Request, id_chamado: int = Form(...),
#                                   titulo: str = Form(...), descricao: str = Form(...),
#                                   usuario_logado: dict = None):
#     PASSOS:
#       1. Importar: from dtos.resposta_chamado_dto import RespostaChamadoDTO
#                    from model.resposta_chamado_model import RespostaChamado
#                    from datetime import datetime
#                    from util.mensagens import adicionar_mensagem_sucesso, adicionar_mensagem_erro
#       2. Validar com DTO: dto = RespostaChamadoDTO(titulo=titulo, descricao=descricao)
#       3. Criar objeto RespostaChamado
#       4. Inserir no banco: resposta_chamado_repo.inserir(resposta)
#       5. Atualizar status do chamado para 'em_andamento': chamado_repo.atualizar_status()
#       6. Adicionar mensagem de sucesso e redirecionar
#     Ver PENDENCIAS.md seção 4.2 para código completo

# TODO: Implementar POST para fechar chamado
# @router.post("/fechar_chamado")
# @requer_autenticacao(perfis_autorizados=["admin"])
# async def post_fechar_chamado(request: Request, id_chamado: int = Form(...)):
#     PASSOS:
#       1. Atualizar status: chamado_repo.atualizar_status(id_chamado, "resolvido")
#       2. Adicionar mensagem de sucesso
#       3. Redirecionar para lista
#     Ver PENDENCIAS.md seção 4.2 para código completo

# NOTA: A função atualizar_status() já existe em repo/chamado_repo.py ✓

```

# routes/admin/chamado_routes.py

```py
from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates
from fastapi.responses import RedirectResponse

from util.auth_decorator import requer_autenticacao, obter_usuario_logado

router = APIRouter()
templates = Jinja2Templates(directory="templates")

@router.get("/")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_root(request: Request):
    response = templates.TemplateResponse("administrador/home_administrador.html", {"request": request})
    return response

@router.get("/listar_chamados")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_listar_chamados(request: Request):
    # TODO: Implementar listagem de chamados
    # PASSOS:
    #   1. Importar: from repo import chamado_repo
    #   2. Buscar chamados: chamados = chamado_repo.obter_pagina(limite=20, offset=0)
    #   3. Contar total: total = chamado_repo.contar_total() (criar esta função em repo/chamado_repo.py)
    #   4. Passar para template: {"request": request, "chamados": chamados, "total": total}
    # OPCIONAL: Implementar filtro por status com query param ?status=...
    # Ver PENDENCIAS.md seção 4.2 para código completo
    return templates.TemplateResponse("administrador/listar_chamados.html", {"request": request})

@router.get("/responder_chamado/{id_chamado}")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_responder_chamado(request: Request, id_chamado: int):
    # TODO: Implementar GET para responder chamado
    # PASSOS:
    #   1. Importar: from repo import chamado_repo, resposta_chamado_repo
    #   2. Buscar chamado: chamado = chamado_repo.obter_por_id(id_chamado)
    #   3. Se não existe: adicionar_mensagem_erro e redirecionar para lista
    #   4. Buscar respostas anteriores: respostas = resposta_chamado_repo.obter_por_chamado(id_chamado)
    #      ATENÇÃO: Criar função obter_por_chamado() em repo/resposta_chamado_repo.py
    #   5. Retornar template com: chamado e respostas
    # Ver PENDENCIAS.md seção 4.2 para código completo
    return templates.TemplateResponse("administrador/responder_chamado.html", {"request": request})

@router.get("/excluir_chamado/{id_chamado}")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_excluir_chamado(request: Request, id_chamado: int):
    return templates.TemplateResponse("administrador/excluir_chamado.html", {"request": request})






```

# routes/admin/comentario_admin_routes.py

```py
from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates
from fastapi.responses import RedirectResponse

from repo import comentario_artigo_repo
from util.auth_decorator import requer_autenticacao, obter_usuario_logado

router = APIRouter()
templates = Jinja2Templates(directory="templates")

@router.get("/")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_root(request: Request):
    response = templates.TemplateResponse("administrador/home_administrador.html", {"request": request})
    return response


@router.get("/moderar_comentarios/{id_comentario}")
@requer_autenticacao(perfis_autorizados=["admin"])
async def pagina_comentario(request: Request, id_comentario: int):
    return templates.TemplateResponse("administrador/moderar_comentarios.html", {"request": request})
```

# routes/admin/denuncia_admin_routes.py

```py
from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates
from fastapi.responses import RedirectResponse

from model.denuncia_model import Denuncia
from repo import denuncia_repo
from util.auth_decorator import requer_autenticacao, obter_usuario_logado

router = APIRouter()
templates = Jinja2Templates(directory="templates")


@router.get("/")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_root(request: Request):
    response = templates.TemplateResponse("administrador/home_administrador.html", {"request": request})
    return response

@router.get("/listar_denuncias")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_listar_denuncias(request: Request):
    return templates.TemplateResponse("administrador/listar_denuncias.html", {"request": request})

@router.get("/excluir_denuncia/{id_denuncia}")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_excluir_denuncia(request: Request, id_denuncia: int):
    return templates.TemplateResponse("administrador/excluir_denuncia.html", {"request": request})
```

# routes/admin/verificacao_crmv_routes.py

```py
from fastapi import APIRouter, Request, HTTPException, status, Form
from fastapi.templating import Jinja2Templates
from fastapi.responses import RedirectResponse

from model.verificacao_crmv_model import VerificacaoCRMV
from repo import verificacao_crmv_repo
from util.auth_decorator import requer_autenticacao, obter_usuario_logado

router = APIRouter()
templates = Jinja2Templates(directory="templates")


@router.get("/")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_root(request: Request):
    response = templates.TemplateResponse("administrador/home_administrador.html", {"request": request})
    return response

@router.get("/listar_verificacao_crmv")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_listar_verificacao_crmv(request: Request):
    return templates.TemplateResponse("administrador/listar_verificacao_crmv.html", {"request": request})

@router.get("/responder_verificacao_crmv/{id_verificacao_crmv}")
@requer_autenticacao(perfis_autorizados=["admin"])
async def get_responder_verificacao_crmv(request: Request, id_verificacao_crmv: int):
    return templates.TemplateResponse("administrador/responder_verificacao_crmv.html", {"request": request})
```

# routes/publico/auth_routes.py

```py
from fastapi import APIRouter, Form, Request, status
from fastapi.responses import RedirectResponse
from pydantic_core import ValidationError
from typing import Optional
import os
import logging
from slowapi import Limiter
from slowapi.util import get_remote_address

from dtos.auth_dto import (
    EsqueciSenhaDTO,
    LoginDTO,
    CadastroTutorDTO,
    CadastroVeterinarioDTO,
    RedefinirSenhaDTO,
)
from model.enums import PerfilUsuario
from model.tutor_model import Tutor
from model.veterinario_model import Veterinario
from repo import usuario_repo, tutor_repo, veterinario_repo
from util.security import (
    criar_hash_senha,
    verificar_senha,
    gerar_token_redefinicao,
    obter_data_expiracao_token,
)
from util.auth_decorator import criar_sessao, destruir_sessao, esta_logado
from util.template_util import criar_templates
from util.validacoes_dto import processar_erros_validacao

logger = logging.getLogger(__name__)
router = APIRouter()
templates = criar_templates("templates/publico")
limiter = Limiter(key_func=get_remote_address)


@router.get("/login")
async def get_login(request: Request, redirect: Optional[str] = None):
    # Se já está logado, redirecionar
    if esta_logado(request):
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    # Retornar o template de login
    return templates.TemplateResponse(
        "login.html", {"request": request, "redirect": redirect}
    )


@router.post("/login")
@limiter.limit("5/minute")  # limite de 5 tentativas por minuto
async def post_login(
    request: Request,
    email: str = Form(),
    senha: str = Form(),
    redirect: str = Form(None),
):
    # Se já está logado, redirecionar
    if esta_logado(request):
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    # Armazenar dados do formulário para reexibir em caso de erro
    dados_formulario = {"email": email}

    try:
        # Validar usando DTO apropriado
        login_dto = LoginDTO(email=email, senha=senha)

        # Buscar usuário pelo email
        usuario = usuario_repo.obter_por_email(login_dto.email)

        # Verificar credenciais
        if not usuario or not verificar_senha(login_dto.senha, usuario.senha):
            return templates.TemplateResponse(
                "publico/login.html",
                {
                    "request": request,
                    "erros": {"geral": "Credenciais inválidas."},
                    "email": email,
                    "redirect": redirect,
                },
            )

        # Criar sessão
        usuario_dict = {
            "id": usuario.id_usuario,
            "nome": usuario.nome,
            "email": usuario.email,
            "telefone": usuario.telefone,
            "perfil": usuario.perfil,
            "foto": f"/static/img/usuarios/{usuario.id_usuario:08d}.jpg",
        }
        criar_sessao(request, usuario_dict)

        # Redirecionar após login de acordo com perfil
        url_redirect = "/"
        if redirect:
            url_redirect = redirect
        elif usuario.perfil == PerfilUsuario.VETERINARIO.value:
            url_redirect = f"/veterinario/dashboard"
        elif usuario.perfil == PerfilUsuario.TUTOR.value:
            url_redirect = f"/tutor/dashboard"
        elif usuario.perfil == PerfilUsuario.ADMIN.value:
            url_redirect = f"/admin/dashboard"
        return RedirectResponse(url_redirect, status.HTTP_303_SEE_OTHER)

    # Processar erros de validação do DTO
    except ValidationError as e:
        # Obter dicionário com erros de validação
        erros = processar_erros_validacao(e)

        # Logar os erros de validação para auditoria
        logger.warning(
            f"Erros de validação no login: {' | '.join([f'{erro.key}: {erro.value}' for erro in erros])}"
        )

        # Retornar template com erros
        return templates.TemplateResponse(
            "publico/login.html",
            {
                "request": request,
                "erros": erros,
                "dados": dados_formulario,
                "redirect": redirect,
            },
        )


@router.get("/logout")
async def logout(request: Request):
    # Remover sessão e redirecionar para a página inicial
    destruir_sessao(request)
    return RedirectResponse("/", status.HTTP_303_SEE_OTHER)


@router.get("/cadastro")
async def get_cadastro(request: Request):
    # Se já está logado, redirecionar
    if esta_logado(request):
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    # Retornar o template de cadastro
    return templates.TemplateResponse("publico/cadastro.html", {"request": request})


@router.post("/cadastro")
@limiter.limit("3/hour")  # limite de 3 cadastros por hora
async def post_cadastro(
    request: Request,
    nome: str = Form(),
    email: str = Form(),
    telefone: str = Form(),
    senha: str = Form(),
    confirmar_senha: str = Form(),
    perfil: str = Form(),
    crmv: str = Form(None),
):
    # Se já está logado, redirecionar
    if esta_logado(request):
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    # Armazenar dados do formulário para reexibir em caso de erro
    dados_formulario = {
        "nome": nome,
        "email": email,
        "telefone": telefone,
        "perfil": perfil,
        "crmv": crmv,
    }

    try:
        # Verificar se email já existe (mensagem genérica por segurança)
        if usuario_repo.obter_por_email(email.strip().lower()):
            logger.warning(f"Tentativa de cadastro com email existente: {email}")
            return templates.TemplateResponse(
                "publico/cadastro.html",
                {
                    "request": request,
                    "erros": {
                        "geral": "Não foi possível completar o cadastro. Verifique os dados."
                    },
                    "dados": dados_formulario,
                },
                status_code=status.HTTP_409_CONFLICT,
            )

        # O id do usuário a ser criado
        id_usuario: int | None = None

        # O cadastro público pode ser de tutor ou veterinário
        cadastro_dto: CadastroTutorDTO | CadastroVeterinarioDTO

        # Se o perfil escolhido for tutor
        if perfil == PerfilUsuario.TUTOR.value:
            # Validar usando DTO apropriado
            cadastro_dto = CadastroTutorDTO(
                nome=nome,
                email=email,
                telefone=telefone,
                senha=senha,
                confirmar_senha=confirmar_senha,
                perfil=perfil,
            )

            # Criar objeto Tutor para inserção no banco
            tutor = Tutor(
                id_usuario=0,
                nome=cadastro_dto.nome,
                email=cadastro_dto.email,
                senha=criar_hash_senha(cadastro_dto.senha),
                telefone=cadastro_dto.telefone,
                perfil=perfil,
                token_redefinicao=None,
                data_token=None,
                data_cadastro=None,
                quantidade_pets=0,
                descricao_pets=None,
            )

            # Inserir tutor no banco de dados e obter o id gerado
            id_usuario = tutor_repo.inserir(tutor)
            assert id_usuario is not None

        # Se o perfil escolhido for veterinário
        elif perfil == PerfilUsuario.VETERINARIO.value:
            # Validar usando DTO apropriado
            cadastro_dto = CadastroVeterinarioDTO(
                nome=nome,
                email=email,
                telefone=telefone,
                senha=senha,
                confirmar_senha=confirmar_senha,
                perfil=perfil,
                crmv=crmv,
            )

            # Criar objeto Veterinario para inserção no banco
            veterinario = Veterinario(
                id_usuario=0,
                nome=cadastro_dto.nome,
                email=cadastro_dto.email,
                senha=criar_hash_senha(cadastro_dto.senha),
                telefone=cadastro_dto.telefone,
                perfil=perfil,
                token_redefinicao=None,
                data_token=None,
                data_cadastro=None,
                crmv=cadastro_dto.crmv,
                verificado=False,
                bio=None,
            )
            id_usuario = veterinario_repo.inserir(veterinario)

        # Verificar se o usuário foi inserido corretamente
        if not id_usuario:
            raise Exception("Ocorreu um erro desconhecido ao processar o cadastro.")

        logger.info(f"Novo usuário cadastrado com sucesso. ID: {id_usuario}")
        return RedirectResponse("/login?cadastro=sucesso", status.HTTP_303_SEE_OTHER)

    # Processar erros de validação do DTO
    except ValidationError as e:
        # Obter dicionário com erros de validação
        erros = processar_erros_validacao(e)

        # Logar os erros de validação para auditoria
        logger.warning(
            f"Erro de validação no cadastro - Email: {email} - Erros: {e.errors()}"
        )

        # Retornar template com erros
        return templates.TemplateResponse(
            "publico/cadastro.html",
            {"request": request, "erros": erros, "dados": dados_formulario},
            status_code=status.HTTP_400_BAD_REQUEST,
        )


@router.get("/esqueci-senha")
async def get_esqueci_senha(request: Request):
    # Retornar o template de esquecimento de senha
    return templates.TemplateResponse(
        "publico/esqueci_senha.html",
        {"request": request},
    )


@router.post("/esqueci-senha")
@limiter.limit("3/hour")  # limite de 3 tentativas por hora
async def post_esqueci_senha(
    request: Request,
    email: str = Form(),
):
    # Armazenar dados do formulário para reexibir em caso de erro
    dados_formulario = {
        "email": email,
    }

    try:
        # Validar usando DTO apropriado
        esqueci_senha_dto = EsqueciSenhaDTO(email=email)

        # Buscar usuário pelo email
        usuario = usuario_repo.obter_por_email(esqueci_senha_dto.email)

        # Sempre mostrar mensagem de sucesso por segurança (não revelar emails válidos)
        mensagem = "Se o e-mail estiver cadastrado, você receberá uma mensagem contendo instruções para redefinir sua senha. Cheque sua caixa de entrada e a pasta de spam e siga as instruções para redefinir sua senha."

        # Se não encontrar usuário, não informar ao usuário por segurança
        if not usuario:
            # Logar a tentativa para auditoria
            logger.warning(
                f"Solicitação de redefinição de senha para e-mail não cadastrado: {esqueci_senha_dto.email}"
            )

            # Retornar template com mensagem de sucesso fictícia
            return templates.TemplateResponse(
                "publico/esqueci_senha.html", {"request": request, "mensagem": mensagem}
            )

        # Se encontrar o usuário, gerar token e enviar email
        else:
            # Logar a solicitação para auditoria
            logger.info(
                f"Solicitação de redefinição de senha para email: {esqueci_senha_dto.email}"
            )
            # Gerar token de redefinição de senha
            token = gerar_token_redefinicao()
            # Obter data de expiração (24 horas)
            data_expiracao = obter_data_expiracao_token(24)
            # Atualizar usuário com token e data de expiração
            usuario_repo.atualizar_token(email, token, data_expiracao)

            # TODO: Enviar email com o link de redefinição

            # Dados para retornar template com mensagem de sucesso
            response_data = {
                "request": request,
                "sucesso": mensagem,
            }

            # Se o site não estiver publicado, mostrar o link de redefinição para facilitar testes
            if os.getenv("ENVIRONMENT", "development") == "development":
                link_redefinicao = f"http://localhost:8000/redefinir-senha/{token}"
                response_data["debug_link"] = link_redefinicao

            # Retornar template com mensagem de sucesso
            return templates.TemplateResponse(
                "publico/esqueci_senha.html", response_data
            )

    # Processar erros de validação do DTO
    except ValidationError as e:
        # Obter dicionário com erros de validação
        erros = processar_erros_validacao(e)

        # Logar os erros de validação para auditoria
        logger.warning(
            f"Erros de validação na solicitação de redefinição de senha: {' | '.join([f'{erro.key}: {erro.value}' for erro in erros])}"
        )

        # Retornar template com erros
        return templates.TemplateResponse(
            "publico/esqueci_senha.html",
            {"request": request, "erros": erros, "dados": dados_formulario},
            status_code=status.HTTP_400_BAD_REQUEST,
        )


@router.get("/redefinir-senha/{token}")
async def get_redefinir_senha(request: Request, token: str):
    # Verificar se existe um usuário com o token fornecido
    usuario = usuario_repo.obter_por_token(token)

    # Se não encontrar, informar erro
    if not usuario:
        return templates.TemplateResponse(
            "redefinir_senha.html",
            {
                "request": request,
                "erros": {"geral": "Link de redefinição de senha inválido ou expirado"},
            },
        )

    # Se encontrar, mostrar formulário de redefinição de senha
    else:
        return templates.TemplateResponse(
            "redefinir_senha.html", {"request": request, "token": token}
        )


@router.post("/redefinir-senha/{token}")
@limiter.limit("5/hour")  # limite de 5 tentativas por hora
async def post_redefinir_senha(
    request: Request,
    token: str,
    senha: str = Form(...),
    confirmar_senha: str = Form(...),
):
    try:
        # Validar usando DTO apropriado
        redefinir_senha_dto = RedefinirSenhaDTO(
            senha=senha, confirmar_senha=confirmar_senha
        )

        # Verificar se existe um usuário com o token fornecido
        usuario = usuario_repo.obter_por_token(token)

        # Se não encontrar, informar erro
        if not usuario:
            return templates.TemplateResponse(
                "redefinir_senha.html",
                {
                    "request": request,
                    "erros": {
                        "geral": "Link de redefinição de senha inválido ou expirado"
                    },
                },
            )

        # Se encontrar, prosseguir com a redefinição de senha
        else:
            # Atualizar senha e limpar token
            senha_hash = criar_hash_senha(redefinir_senha_dto.senha)
            usuario_repo.atualizar_senha(usuario.id_usuario, senha_hash)
            usuario_repo.limpar_token(usuario.id_usuario)

            return templates.TemplateResponse(
                "redefinir_senha.html",
                {
                    "request": request,
                    "mensagem": "Senha redefinida com sucesso! Você já pode fazer login.",
                },
            )

    # Processar erros de validação do DTO
    except ValidationError as e:
        # Obter dicionário com erros de validação
        erros = processar_erros_validacao(e)

        # Logar os erros de validação para auditoria
        logger.warning(
            f"Erros de validação na redefinição de senha: {' | '.join([f'{erro.key}: {erro.value}' for erro in erros])}"
        )

        # Retornar template com erros
        return templates.TemplateResponse(
            "publico/redefinir_senha.html",
            {
                "request": request,
                "erros": erros,
                "token": token,
            },
        )

```

# routes/publico/perfil_routes.py

```py
import os
import logging
from fastapi import APIRouter, Form, Request, status, UploadFile, File
from fastapi.responses import RedirectResponse
from typing import Optional

from model.usuario_model import Usuario
from model.tutor_model import Tutor
from model.veterinario_model import Veterinario
from repo import usuario_repo, tutor_repo
from util.security import criar_hash_senha, verificar_senha
from util.auth_decorator import requer_autenticacao
from util.template_util import criar_templates
from repo import veterinario_repo
from util.file_validator import FileValidator, FileValidationError
from util.file_manager import FileManager
from config.upload_config import UploadConfig

logger = logging.getLogger(__name__)

router = APIRouter()
templates = criar_templates("templates/publico")


@router.get("/")
@requer_autenticacao()
async def perfil(request: Request, usuario_logado: Optional[dict] = None):
    from typing import Union

    usuario: Union[Tutor, Veterinario, None] = None
    if usuario_logado and usuario_logado["perfil"] == "tutor":
        usuario = tutor_repo.obter_por_id(usuario_logado["id"])
    elif usuario_logado and usuario_logado["perfil"] == "veterinario":
        usuario = veterinario_repo.obter_por_id(usuario_logado["id"])
    return templates.TemplateResponse(
        "perfil.html",
        {
            "request": request,
            "usuario": usuario,
        },
    )


@router.get("/alterar")
@requer_autenticacao()
async def get_perfil(request: Request, usuario_logado: Optional[dict] = None):
    if not usuario_logado:
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    usuario = usuario_repo.obter_por_id(usuario_logado["id"])
    if not usuario:
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    from typing import Union, Any

    dados_perfil: Union[Tutor, Veterinario, Any, None] = None
    perfil = usuario.perfil.lower()

    if perfil == "tutor":
        dados_perfil = tutor_repo.obter_por_id(usuario.id_usuario)
    elif perfil == "veterinario":
        dados_perfil = veterinario_repo.obter_por_id(usuario.id_usuario)
    elif perfil == "administrador":
        from repo import administrador_repo

        dados_perfil = administrador_repo.obter_por_id(usuario.id_usuario)

    return templates.TemplateResponse(
        "dados.html",
        {"request": request, "usuario": usuario, "dados_perfil": dados_perfil},
    )


@router.post("/alterar")
@requer_autenticacao()
async def post_perfil(
    request: Request,
    nome: str = Form(...),
    email: str = Form(...),
    telefone: str = Form(None),
    usuario_logado: Optional[dict] = None,
):
    if not usuario_logado:
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    usuario = usuario_repo.obter_por_id(usuario_logado["id"])
    if not usuario:
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    # Verificar se o email já está em uso por outro usuário
    usuario_existente = usuario_repo.obter_por_email(email)
    if usuario_existente and usuario_existente.id_usuario != usuario.id_usuario:
        tutor_dados = None
        if usuario.perfil == "tutor":
            try:
                from util.db_util import get_connection

                with get_connection() as conn:
                    cursor = conn.cursor()
                    cursor.execute(
                        "SELECT cpf, telefone FROM cliente WHERE id=?",
                        (usuario.id_usuario,),
                    )
                    row = cursor.fetchone()
                    if row:
                        tutor_dados = {"telefone": row["telefone"]}
            except:
                pass

        return templates.TemplateResponse(
            "dados.html",
            {
                "request": request,
                "usuario": usuario,
                "tutor_dados": tutor_dados,
                "erro": "Este email já está em uso",
            },
        )

    # Atualizar dados do usuário
    usuario.nome = nome
    usuario.email = email
    usuario_repo.atualizar(usuario)

    # Se for cliente, atualizar dados adicionais
    if usuario.perfil == "tutor" and telefone:
        try:
            from util.db_util import get_connection

            with get_connection() as conn:
                cursor = conn.cursor()
                cursor.execute(
                    "UPDATE cliente SET telefone=? WHERE id=?",
                    (telefone, usuario.id_usuario),
                )
                conn.commit()
        except Exception as e:
            print(f"Erro ao atualizar telefone do tutor: {e}")

    # Atualizar sessão
    from util.auth_decorator import criar_sessao

    usuario_dict = {
        "id": usuario.id_usuario,
        "nome": nome,
        "email": email,
        "perfil": usuario.perfil
    }
    criar_sessao(request, usuario_dict)

    return RedirectResponse("/perfil?sucesso=1", status.HTTP_303_SEE_OTHER)


@router.get("/alterar-senha")
@requer_autenticacao()
async def get_alterar_senha(request: Request, usuario_logado: Optional[dict] = None):
    return templates.TemplateResponse("alterar_senha.html", {"request": request})


@router.post("/alterar-senha")
@requer_autenticacao()
async def post_alterar_senha(
    request: Request,
    senha_atual: str = Form(...),
    senha_nova: str = Form(...),
    confirmar_senha: str = Form(...),
    usuario_logado: Optional[dict] = None,
):
    if not usuario_logado:
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    usuario = usuario_repo.obter_por_id(usuario_logado["id"])
    if not usuario:
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    # Verificar senha atual
    if not verificar_senha(senha_atual, usuario.senha):
        return templates.TemplateResponse(
            "alterar_senha.html", {"request": request, "erro": "Senha atual incorreta"}
        )

    # Verificar se as novas senhas coincidem
    if senha_nova != confirmar_senha:
        return templates.TemplateResponse(
            "alterar_senha.html",
            {"request": request, "erro": "As novas senhas não coincidem"},
        )

    # Atualizar senha
    senha_hash = criar_hash_senha(senha_nova)
    usuario_repo.atualizar_senha(usuario.id_usuario, senha_hash)

    return templates.TemplateResponse(
        "alterar_senha.html",
        {"request": request, "sucesso": "Senha alterada com sucesso!"},
    )


@router.post("/alterar-foto")
@requer_autenticacao()
async def alterar_foto(
    request: Request,
    foto: UploadFile = File(...),
    usuario_logado: Optional[dict] = None,
):
    """
    Endpoint para alteração de foto de perfil

    Validações realizadas:
    - Tipo de arquivo (magic bytes)
    - Tamanho do arquivo
    - Dimensões da imagem
    - Nome do arquivo (path traversal)
    - Permissões do sistema
    """
    if not usuario_logado:
        logger.warning("Tentativa de upload sem autenticação")
        return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

    usuario_id = usuario_logado["id"]
    logger.info(f"Iniciando upload de foto para usuário {usuario_id}")

    try:
        # 1. Validação completa do arquivo
        try:
            conteudo, extensao = await FileValidator.validar_imagem_completo(
                foto, max_size=UploadConfig.MAX_FILE_SIZE
            )
        except FileValidationError as e:
            logger.warning(f"Validação falhou para usuário {usuario_id}: {e}")
            return RedirectResponse(f"/perfil?erro={str(e)}", status.HTTP_303_SEE_OTHER)

        # 2. Verificar espaço em disco
        if not FileManager.verificar_espaco_disco(len(conteudo)):
            logger.error("Espaço em disco insuficiente")
            return RedirectResponse(
                "/perfil?erro=Espaço em disco insuficiente", status.HTTP_303_SEE_OTHER
            )

        # 3. Obter foto atual do usuário
        usuario = usuario_repo.obter_por_id(usuario_id)
        if not usuario:
            logger.error(f"Usuário {usuario_id} não encontrado")
            return RedirectResponse("/", status.HTTP_303_SEE_OTHER)

        # 4. Gerar nome de arquivo baseado no ID do usuário
        nome_arquivo = FileManager.gerar_nome_foto_usuario(usuario_id, extensao)

        # 5. Salvar novo arquivo
        try:
            caminho_relativo = FileManager.salvar_arquivo(
                conteudo, nome_arquivo, usuario_id
            )
        except (PermissionError, OSError) as e:
            logger.error(f"Erro ao salvar arquivo: {e}", exc_info=True)
            return RedirectResponse(
                "/perfil?erro=Erro ao salvar arquivo. Contate o administrador.",
                status.HTTP_303_SEE_OTHER,
            )

        # 6. Deletar todas as fotos antigas do usuário (LGPD compliance)
        FileManager.deletar_todas_fotos_usuario(usuario_id)
        
        logger.info(f"Upload concluído com sucesso para usuário {usuario_id}")
        return RedirectResponse("/perfil?foto_sucesso=1", status.HTTP_303_SEE_OTHER)

    except Exception as e:
        # Catch-all para erros inesperados
        logger.error(
            f"Erro inesperado no upload do usuário {usuario_id}: {e}", exc_info=True
        )
        return RedirectResponse(
            "/perfil?erro=Erro inesperado. Tente novamente.", status.HTTP_303_SEE_OTHER
        )

```

# routes/publico/public_routes.py

```py
import logging
from fastapi import APIRouter, Request, HTTPException
from fastapi.responses import HTMLResponse

from util.template_util import criar_templates
from util.auth_decorator import obter_usuario_logado
from repo import postagem_artigo_repo, veterinario_repo, categoria_artigo_repo, curtida_artigo_repo, postagem_feed_repo, curtida_feed_repo


logger = logging.getLogger(__name__)
router = APIRouter()
templates = criar_templates()


@router.get("/")
async def get_root(request: Request):
    # Buscar artigos recentes (6 primeiros)
    artigos_recentes = postagem_artigo_repo.obter_recentes_com_dados(6)

    # Adicionar contagem de curtidas para cada artigo
    for artigo in artigos_recentes:
        artigo['total_curtidas'] = curtida_artigo_repo.contar_curtidas_por_artigo(artigo['id_postagem_artigo'])

    # Buscar todas as categorias
    categorias = categoria_artigo_repo.obter_todos()

    # Buscar posts do Petgram recentes (6 primeiros)
    posts_recentes = postagem_feed_repo.obter_recentes_com_dados(6)

    # Adicionar contagem de curtidas para cada post
    for post in posts_recentes:
        post['total_curtidas'] = curtida_feed_repo.contar_curtidas_por_postagem(post['id_postagem_feed'])

    context = {
        "request": request,
        "artigos_recentes": artigos_recentes,
        "categorias": categorias,
        "posts_recentes": posts_recentes
    }

    response = templates.TemplateResponse("publico/index.html", context)
    return response


@router.get("/quemsomos")
async def get_sobre(request: Request):
    return templates.TemplateResponse("publico/quem_somos.html", {"request": request})


@router.get("/artigos", response_class=HTMLResponse)
async def get_artigos(request: Request, pagina: int = 1, categoria: int = None):
    """Lista todos os artigos com paginação e filtro por categoria."""
    tamanho_pagina = 12

    # Buscar artigos e contar total
    if categoria:
        artigos = postagem_artigo_repo.obter_por_categoria_com_dados(categoria, pagina, tamanho_pagina)
        categoria_selecionada = categoria_artigo_repo.obter_por_id(categoria)
        total_artigos = postagem_artigo_repo.contar_por_categoria(categoria)
    else:
        artigos = postagem_artigo_repo.obter_pagina_com_dados(pagina, tamanho_pagina)
        categoria_selecionada = None
        total_artigos = postagem_artigo_repo.contar_total()

    # Calcular total de páginas
    import math
    total_paginas = math.ceil(total_artigos / tamanho_pagina) if total_artigos > 0 else 1

    # Adicionar contagem de curtidas para cada artigo
    for artigo in artigos:
        artigo['total_curtidas'] = curtida_artigo_repo.contar_curtidas_por_artigo(artigo['id_postagem_artigo'])

    # Buscar todas as categorias
    categorias = categoria_artigo_repo.obter_todos()

    context = {
        "request": request,
        "artigos": artigos,
        "categorias": categorias,
        "categoria_selecionada": categoria_selecionada,
        "pagina": pagina,
        "total_paginas": total_paginas,
    }

    return templates.TemplateResponse("publico/artigos.html", context)


@router.get("/artigos/{id_postagem_artigo}", response_class=HTMLResponse)
async def get_detalhes_artigo(request: Request, id_postagem_artigo: int):
    # Buscar artigo
    artigo = postagem_artigo_repo.obter_por_id(id_postagem_artigo)
    if not artigo:
        raise HTTPException(status_code=404, detail="Artigo não encontrado")

    # Buscar informações do veterinário
    veterinario = veterinario_repo.obter_por_id(artigo.id_veterinario)
    if not veterinario:
        raise HTTPException(status_code=404, detail="Veterinário não encontrado")

    # Buscar informações da categoria
    categoria = categoria_artigo_repo.obter_por_id(artigo.id_categoria_artigo)
    if not categoria:
        raise HTTPException(status_code=404, detail="Categoria não encontrada")

    # Contar curtidas do artigo
    total_curtidas = curtida_artigo_repo.contar_curtidas_por_artigo(id_postagem_artigo)

    # Verificar se usuário logado curtiu o artigo
    usuario_curtiu = False
    usuario = obter_usuario_logado(request)
    if usuario:
        id_usuario = usuario.get('id_usuario')
        if id_usuario and isinstance(id_usuario, int):
            curtida = curtida_artigo_repo.obter_por_id(id_usuario, id_postagem_artigo)
            usuario_curtiu = curtida is not None

    # Incrementar visualizações
    postagem_artigo_repo.incrementar_visualizacoes(id_postagem_artigo)

    # Preparar dados para o template
    context = {
        "request": request,
        "artigo": artigo,
        "veterinario": veterinario,
        "categoria": categoria,
        "total_curtidas": total_curtidas,
        "usuario_curtiu": usuario_curtiu,
    }

    return templates.TemplateResponse("publico/detalhes_artigo.html", context)


@router.get("/petgram", response_class=HTMLResponse)
async def get_petgram(request: Request, pagina: int = 1):
    """Lista todos os posts do Petgram com paginação."""
    tamanho_pagina = 16

    # Buscar posts e contar total
    posts = postagem_feed_repo.obter_pagina_com_dados(pagina, tamanho_pagina)
    total_posts = postagem_feed_repo.contar_total()

    # Adicionar contagem de curtidas para cada post
    for post in posts:
        post['total_curtidas'] = curtida_feed_repo.contar_curtidas_por_postagem(post['id_postagem_feed'])

    # Calcular total de páginas
    import math
    total_paginas = math.ceil(total_posts / tamanho_pagina) if total_posts > 0 else 1

    context = {
        "request": request,
        "posts": posts,
        "pagina": pagina,
        "total_paginas": total_paginas,
    }

    return templates.TemplateResponse("publico/petgram.html", context)


@router.get("/petgram/{id_postagem_feed}", response_class=HTMLResponse)
async def get_detalhes_post(request: Request, id_postagem_feed: int):
    """Exibe detalhes de um post do Petgram."""
    # Buscar post com dados completos
    post = postagem_feed_repo.obter_por_id_com_dados(id_postagem_feed)
    if not post:
        raise HTTPException(status_code=404, detail="Post não encontrado")

    # Incrementar visualizações
    postagem_feed_repo.incrementar_visualizacoes(id_postagem_feed)

    # Contar curtidas do post
    total_curtidas = curtida_feed_repo.contar_curtidas_por_postagem(id_postagem_feed)

    # Verificar se usuário logado curtiu o post
    usuario_curtiu = False
    usuario = obter_usuario_logado(request)
    if usuario:
        id_usuario = usuario.get('id')
        if id_usuario and isinstance(id_usuario, int):
            curtida = curtida_feed_repo.obter_por_id(id_usuario, id_postagem_feed)
            usuario_curtiu = curtida is not None

    context = {
        "request": request,
        "post": post,
        "total_curtidas": total_curtidas,
        "usuario_curtiu": usuario_curtiu,
    }

    return templates.TemplateResponse("publico/detalhes_post.html", context)

```

# routes/publico/toast_demo_routes.py

```py
"""
Rota de demonstração do sistema de toasts
Exemplo prático de uso do sistema de mensagens
"""

from fastapi import APIRouter, Request
from fastapi.responses import RedirectResponse
from util.template_util import criar_templates
from util.mensagens import (
    adicionar_mensagem_sucesso,
    adicionar_mensagem_erro,
    adicionar_mensagem_aviso,
    adicionar_mensagem_info
)

router = APIRouter(prefix="/demo-toasts", tags=["Demo"])
templates = criar_templates()


@router.get("/")
async def pagina_demo(request: Request):
    """
    Página de demonstração do sistema de toasts
    """
    return templates.TemplateResponse("publico/demo_toasts.html", {
        "request": request
    })


@router.post("/sucesso")
async def demo_sucesso(request: Request):
    """
    Demonstra mensagem de sucesso
    """
    adicionar_mensagem_sucesso(request, "Operação realizada com sucesso!")
    return RedirectResponse(url="/demo-toasts/", status_code=302)


@router.post("/erro")
async def demo_erro(request: Request):
    """
    Demonstra mensagem de erro
    """
    adicionar_mensagem_erro(request, "Erro ao processar a requisição. Tente novamente.")
    return RedirectResponse(url="/demo-toasts/", status_code=302)


@router.post("/aviso")
async def demo_aviso(request: Request):
    """
    Demonstra mensagem de aviso
    """
    adicionar_mensagem_aviso(request, "Atenção: esta ação não pode ser desfeita!")
    return RedirectResponse(url="/demo-toasts/", status_code=302)


@router.post("/info")
async def demo_info(request: Request):
    """
    Demonstra mensagem informativa
    """
    adicionar_mensagem_info(request, "Informação: os dados foram atualizados recentemente")
    return RedirectResponse(url="/demo-toasts/", status_code=302)


@router.post("/multiplas")
async def demo_multiplas(request: Request):
    """
    Demonstra múltiplas mensagens
    """
    adicionar_mensagem_sucesso(request, "Arquivo enviado com sucesso")
    adicionar_mensagem_info(request, "Processamento iniciado")
    adicionar_mensagem_aviso(request, "Você receberá um e-mail ao concluir")
    return RedirectResponse(url="/demo-toasts/", status_code=302)

```

# routes/tutor/postagem_feed_routes.py

```py
from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates
from fastapi.responses import RedirectResponse

from model.comentario_model import ComentarioArtigo
from repo import comentario_artigo_repo
from util.auth_decorator import requer_autenticacao, obter_usuario_logado

router = APIRouter()
templates = Jinja2Templates(directory="templates")


@router.get("/")
@requer_autenticacao(perfis_autorizados=["tutor"])
async def get_root(request: Request):
    response = templates.TemplateResponse("tutor/home_tutor.html", {"request": request})
    return response


@router.get("/listar_postagem_feed")
@requer_autenticacao(perfis_autorizados=["tutor"])
async def pagina_listar_postagem_feed(request: Request):
    return templates.TemplateResponse(
        "tutor/listar_postagens_feed.html", {"request": request}
    )


@router.get("/fazer_postagem_feed")
@requer_autenticacao(perfis_autorizados=["tutor"])
async def pagina_fazer_postagem_feed(request: Request):
    return templates.TemplateResponse(
        "tutor/fazer_postagem_feed.html", {"request": request}
    )


@router.get("/excluir_postagem_feed")
@requer_autenticacao(perfis_autorizados=["tutor"])
async def pagina_excluir_postagem_feed(request: Request):
    return templates.TemplateResponse(
        "tutor/excluir_postagem_feed.html", {"request": request}
    )

```

# routes/usuario/usuario_routes.py

```py
from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates


router = APIRouter()
templates = Jinja2Templates(directory="templates")

@router.get("/alterar_dados")
async def get_alterar_dados(request: Request):
    response = templates.TemplateResponse("usuario/alterar_dados.html", {"request": request})
    return response

@router.get("/alterar_senha")
async def get_alterar_senha(request: Request):
    response = templates.TemplateResponse("usuario/alterar_senha.html", {"request": request})
    return response

@router.get("/solicitar_chamado")
async def get_solicitar_chamado(request: Request):
    response = templates.TemplateResponse("usuario/solicitar_chamado.html", {"request": request})
    return response

@router.get("/solicitacoes_chamado")
async def get_solicitacoes_chamado(request: Request):
    response = templates.TemplateResponse("usuario/solicitacoes_chamado.html", {"request": request})
    return response

@router.get("/denunciar")
async def get_denunciar(request: Request):
    response = templates.TemplateResponse("usuario/denunciar.html", {"request": request})
    return response

@router.get("/comentar")
async def get_comentar(request: Request):
    response = templates.TemplateResponse("usuario/comentar.html", {"request": request})
    return response

@router.get("/excluir_comentario/{id_comentario}")
async def get_excluir_comentario(request: Request, id_comentario: int):
    return templates.TemplateResponse("usuario/excluir_comentario.html", {"request": request})


@router.get("/comentarios")
async def get_comentarios(request: Request):
    response = templates.TemplateResponse("usuario/comentarios.html", {"request": request})
    return response

@router.get("/curtidas")
async def get_curtidas(request: Request):
    response = templates.TemplateResponse("usuario/curtidas.html", {"request": request})
    return response

```

# routes/veterinario/estatisticas_routes.py

```py
from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates

from util.auth_decorator import requer_autenticacao, obter_usuario_logado

router = APIRouter()
templates = Jinja2Templates(directory="templates")

@router.get("/")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_root(request: Request):
    response = templates.TemplateResponse("veterinario/veterinario_home.html", {"request": request})
    return response

@router.get("/listar_estatisticas")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def pagina_postagem_artigo(request: Request):
    return templates.TemplateResponse("veterinario/listar_estatisticas.html", {"request": request})

```

# routes/veterinario/postagem_artigo_routes.py

```py
from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates

from util.auth_decorator import requer_autenticacao, obter_usuario_logado

router = APIRouter()
templates = Jinja2Templates(directory="templates")

@router.get("/")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_root(request: Request):
    response = templates.TemplateResponse("veterinario/veterinario_home.html", {"request": request})
    return response

@router.get("/listar_postagem_artigo")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_listar_postagem_artigo(request: Request):
    return templates.TemplateResponse("veterinario/listar_postagem_artigo.html", {"request": request})

@router.get("/alterar_postagem_artigo/{id_postagem_artigo}")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_alterar_postagem_artigo(request: Request, id_postagem_artigo: int):
    return templates.TemplateResponse("veterinario/alterar_postagem_artigo.html", {"request": request})

@router.get("/cadastrar_postagem_artigo")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_cadastrar_postagem_artigo(request: Request):
    return templates.TemplateResponse("veterinario/cadastrar_postagem_artigo.html", {"request": request})

@router.get("/excluir_postagem_artigo/{id_postagem_artigo}")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_excluir_postagem_artigo(request: Request, id_postagem_artigo: int):
    return templates.TemplateResponse("veterinario/excluir_postagem_artigo.html", {"request": request})
```

# routes/veterinario/solicitacao_crmv_routes.py

```py
from fastapi import APIRouter, Request
from fastapi.templating import Jinja2Templates

from util.auth_decorator import requer_autenticacao, obter_usuario_logado

router = APIRouter()
templates = Jinja2Templates(directory="templates")

@router.get("/")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_root(request: Request):
    response = templates.TemplateResponse("veterinario/veterinario_home.html", {"request": request})
    return response

@router.get("/obter_solicitacao_crmv")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_obter_solicitacao_crmv(request: Request):
    return templates.TemplateResponse("veterinario/obter_solicitacao_crmv.html", {"request": request})

@router.get("/fazer_solicitacao_crmv")
@requer_autenticacao(perfis_autorizados=["veterinario"])
async def get_fazer_solicitacao_crmv(request: Request):
    return templates.TemplateResponse("veterinario/fazer_solicitacao_crmv.html", {"request": request})

```

# sql/__init__.py

```py

```

# sql/administrador_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS administrador (
    id_admin INTEGER PRIMARY KEY AUTOINCREMENT,
    nome TEXT NOT NULL,
    email TEXT NOT NULL UNIQUE,
    senha CHAR(8) NOT NULL
);
"""

INSERIR = """
INSERT INTO administrador (nome, email, senha )
VALUES (?, ?, ?);
"""

ATUALIZAR = """
UPDATE administrador
SET nome = ?, email = ?, senha = ?
WHERE id_admin = ?;
"""

ATUALIZAR_SENHA = """
UPDATE administrador
SET senha = ?
WHERE id_admin = ?;
"""

EXCLUIR = """
DELETE FROM administrador
WHERE id_admin = ?;
"""

OBTER_PAGINA = """
SELECT *
FROM administrador
ORDER BY id_admin
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT *
FROM administrador
WHERE id_admin = ?;
"""

IMPORTAR = """
INSERT INTO administrador (id_admin, nome, email, senha)
VALUES (?, ?, ?, ?);
"""

```

# sql/categoria_artigo_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS categoria_artigo (
    id_categoria_artigo INTEGER PRIMARY KEY AUTOINCREMENT,
    nome TEXT NOT NULL,
    cor TEXT NOT NULL
);
"""

INSERIR = """
INSERT INTO categoria_artigo (nome, cor)
VALUES (?, ?);
"""

ATUALIZAR = """
UPDATE categoria_artigo
SET nome = ?, cor = ?
WHERE id_categoria_artigo = ?;
"""

EXCLUIR = """
DELETE FROM categoria_artigo
WHERE id_categoria_artigo = ?;
"""

OBTER_PAGINA = """
SELECT
    id_categoria_artigo,
    nome,
    cor
FROM categoria_artigo
ORDER BY nome
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    id_categoria_artigo,
    nome,
    cor
FROM categoria_artigo
WHERE id_categoria_artigo = ?;
"""

OBTER_TODOS = """
SELECT
    id_categoria_artigo,
    nome,
    cor
FROM categoria_artigo
ORDER BY nome;
"""

IMPORTAR = """
INSERT INTO categoria_artigo (id_categoria_artigo, nome, cor)
VALUES (?, ?, ?);
"""
```

# sql/chamado_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS chamado (
    id_chamado INTEGER PRIMARY KEY AUTOINCREMENT,
    id_usuario INTEGER NOT NULL,
    id_admin INTEGER,
    titulo TEXT NOT NULL,
    descricao TEXT NOT NULL,
    status TEXT CHECK(status IN ('aberto', 'em_andamento', 'resolvido')) DEFAULT 'aberto',
    data DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario),
    FOREIGN KEY (id_admin) REFERENCES administrador(id_admin)
);
"""

INSERIR = """
INSERT INTO chamado (id_usuario, id_admin, titulo, descricao, status, data)
VALUES (?, ?, ?, ?, ?, ?);
"""

ATUALIZAR = """
UPDATE chamado
SET id_usuario = ?, id_admin = ?, titulo = ?, descricao = ?, status = ?, data = ?
WHERE id_chamado = ?
"""

ATUALIZAR_STATUS = """
UPDATE chamado
SET status = ?
WHERE id_chamado = ?;
"""

EXCLUIR = """
DELETE FROM chamado
WHERE id_chamado = ?;
"""

OBTER_PAGINA = """
SELECT id_chamado, id_usuario, id_admin, titulo, descricao, status, data
FROM chamado
ORDER BY id_chamado
LIMIT ? OFFSET ?;
"""


OBTER_POR_ID = """
SELECT *
FROM chamado
WHERE id_chamado = ?;

"""

```

# sql/comentario_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS comentario (
    id_comentario INTEGER PRIMARY KEY AUTOINCREMENT,
    id_usuario INTEGER NOT NULL,
    id_postagem_artigo INTEGER NOT NULL,
    texto TEXT NOT NULL,
    data_comentario DATETIME DEFAULT CURRENT_TIMESTAMP,
    data_moderacao DATETIME,
    FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario),
    FOREIGN KEY (id_postagem_artigo) REFERENCES postagem_artigo(id_postagem_artigo)
);
"""

INSERIR = """
INSERT INTO comentario (id_usuario, id_postagem_artigo, texto)
VALUES (?, ?, ?);
"""

ATUALIZAR = """
UPDATE comentario SET texto = ?, data_moderacao = ?
WHERE id_comentario = ?;
"""

EXCLUIR = """
DELETE FROM comentario
WHERE id_comentario = ?;
"""

OBTER_PAGINA = """
SELECT
    c.id_comentario,
    c.texto,
    c.data_comentario,
    c.data_moderacao,
    c.id_usuario,
    u.nome AS nome_usuario,
    c.id_postagem_artigo,
    a.titulo AS titulo_artigo
FROM comentario c
JOIN usuario u ON c.id_usuario = u.id_usuario
JOIN postagem_artigo a ON c.id_postagem_artigo = a.id_postagem_artigo
ORDER BY c.data_comentario DESC
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    c.id_comentario,
    c.texto,
    c.data_comentario,
    c.data_moderacao,
    c.id_usuario,
    u.nome AS nome_usuario,
    c.id_postagem_artigo,
    a.titulo AS titulo_artigo
FROM comentario c
JOIN usuario u ON c.id_usuario = u.id_usuario
JOIN postagem_artigo a ON c.id_postagem_artigo = a.id_postagem_artigo
WHERE c.id_comentario = ?;
"""

```

# sql/curtida_artigo_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS curtida_artigo (
    id_usuario INTEGER NOT NULL,
    id_postagem_artigo INTEGER NOT NULL,
    data_curtida DATETIME DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (id_usuario, id_postagem_artigo),
    FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario) ON DELETE CASCADE,
    FOREIGN KEY (id_postagem_artigo) REFERENCES postagem_artigo(id_postagem_artigo) ON DELETE CASCADE
);
"""

INSERIR = """
INSERT INTO curtida_artigo (id_usuario, id_postagem_artigo, data_curtida)
VALUES (?, ?, ?);
"""

ATUALIZAR = """
UPDATE curtida_artigo
SET data_curtida = ?
WHERE id_usuario = ? AND id_postagem_artigo = ?;
"""

EXCLUIR = """
DELETE FROM curtida_artigo
WHERE id_usuario = ? AND id_postagem_artigo = ?;
"""

OBTER_PAGINA = """
SELECT
    ca.id_usuario,
    u.nome AS nome_usuario,
    u.email AS email_usuario,
    ca.id_postagem_artigo,
    pa.titulo AS titulo_artigo,
    pa.conteudo AS conteudo_artigo,
    ca.data_curtida
FROM curtida_artigo ca
INNER JOIN usuario u ON ca.id_usuario = u.id_usuario
INNER JOIN postagem_artigo pa ON ca.id_postagem_artigo = pa.id_postagem_artigo
ORDER BY ca.data_curtida DESC
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    ca.id_usuario,
    u.nome AS nome_usuario,
    u.email AS email_usuario,
    ca.id_postagem_artigo,
    pa.titulo AS titulo_artigo,
    pa.conteudo AS conteudo_artigo,
    ca.data_curtida
FROM curtida_artigo ca
INNER JOIN usuario u ON ca.id_usuario = u.id_usuario
INNER JOIN postagem_artigo pa ON ca.id_postagem_artigo = pa.id_postagem_artigo
WHERE ca.id_usuario = ? AND ca.id_postagem_artigo = ?;
"""

CONTAR_CURTIDAS_POR_ARTIGO = """
SELECT COUNT(*) as total_curtidas
FROM curtida_artigo
WHERE id_postagem_artigo = ?;
"""

CONTAR_CURTIDAS_POR_USUARIO = """
SELECT COUNT(*) as total_curtidas
FROM curtida_artigo
WHERE id_usuario = ?;
"""

VERIFICAR_CURTIDA_EXISTE = """
SELECT 1
FROM curtida_artigo
WHERE id_usuario = ? AND id_postagem_artigo = ?
LIMIT 1;
"""

OBTER_ARTIGOS_CURTIDOS_POR_USUARIO = """
SELECT
    ca.id_usuario,
    u.nome AS nome_usuario,
    ca.id_postagem_artigo,
    pa.titulo AS titulo_artigo,
    pa.conteudo AS conteudo_artigo,
    ca.data_curtida
FROM curtida_artigo ca
INNER JOIN usuario u ON ca.id_usuario = u.id_usuario
INNER JOIN postagem_artigo pa ON ca.id_postagem_artigo = pa.id_postagem_artigo
WHERE ca.id_usuario = ?
ORDER BY ca.data_curtida DESC
LIMIT ? OFFSET ?;
"""

```

# sql/curtida_feed_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS curtida_feed (
    id_usuario INTEGER NOT NULL,
    id_postagem_feed INTEGER NOT NULL,
    data_curtida DATETIME DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (id_usuario, id_postagem_feed),
    FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario),
    FOREIGN KEY (id_postagem_feed) REFERENCES postagem_feed(id_postagem_feed)
);
"""

INSERIR = """
INSERT INTO curtida_feed (id_usuario, id_postagem_feed)
VALUES (?, ?);
"""

EXCLUIR = """
DELETE FROM curtida_feed
WHERE id_usuario = ? AND id_postagem_feed = ?;
"""


OBTER_PAGINA = """
SELECT
    cf.id_usuario,
    u.nome AS nome_usuario,
    cf.id_postagem_feed,
    pf.descricao AS descricao_postagem,
    cf.data_curtida
FROM curtida_feed cf
JOIN usuario u ON cf.id_usuario = u.id_usuario
JOIN postagem_feed pf ON cf.id_postagem_feed = pf.id_postagem_feed
ORDER BY cf.data_curtida DESC
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    u.nome AS nome_usuario,
    pf.descricao AS descricao_postagem,
    cf.data_curtida
FROM curtida_feed cf
JOIN usuario u ON cf.id_usuario = u.id_usuario
JOIN postagem_feed pf ON cf.id_postagem_feed = pf.id_postagem_feed
WHERE cf.id_usuario = ? AND cf.id_postagem_feed = ?;
"""

CONTAR_CURTIDAS_POR_POSTAGEM = """
SELECT COUNT(*) as total
FROM curtida_feed
WHERE id_postagem_feed = ?;
"""

```

# sql/denuncia_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS denuncia (
    id_denuncia INTEGER PRIMARY KEY AUTOINCREMENT,
    id_usuario INTEGER NOT NULL,
    id_admin INTEGER,
    motivo TEXT NOT NULL,
    data_denuncia DATETIME DEFAULT CURRENT_TIMESTAMP,
    status TEXT NOT NULL CHECK (status IN ('pendente', 'em_analise', 'resolvida', 'rejeitada')),
    FOREIGN KEY (id_usuario) REFERENCES usuario(id_usuario),
    FOREIGN KEY (id_admin) REFERENCES administrador(id_admin)
);
"""

INSERIR = """
INSERT INTO denuncia (id_usuario, id_admin, motivo, data_denuncia, status)
VALUES (?, ?, ?, ?, ?)
"""

ATUALIZAR = """
UPDATE denuncia
SET id_usuario = ?, id_admin = ?, motivo = ?, data_denuncia = ?,  status = ?
WHERE id_denuncia = ?;
"""

EXCLUIR = """
DELETE FROM denuncia
WHERE id_denuncia = ?;
"""

OBTER_PAGINA = """
SELECT
    d.id_denuncia,
    d.id_usuario,
    u.nome AS nome_usuario,
    d.id_admin,
    a.nome AS nome_admin,
    d.motivo,
    d.data_denuncia,
    d.status
FROM denuncia d
JOIN usuario u ON d.id_usuario = u.id_usuario
LEFT JOIN administrador a ON d.id_admin = a.id_admin
ORDER BY d.id_denuncia ASC
LIMIT ? OFFSET ?
"""

OBTER_POR_ID = """
SELECT
    d.id_denuncia,
    d.id_usuario,
    u.nome AS nome_usuario,
    d.id_admin,
    a.nome AS nome_admin,
    d.motivo,
    d.data_denuncia,
    d.status
FROM denuncia d
INNER JOIN usuario u ON d.id_usuario = u.id_usuario
LEFT JOIN administrador a ON d.id_admin = a.id_admin
WHERE d.id_denuncia = ?;
"""

```

# sql/indices.sql

```sql
-- Script de criação de índices para otimização de performance
-- Gerado em: 2025-10-15
-- VetConecta - Sistema de Conexão Veterinária

-- =====================================================================
-- ÍNDICES PARA TABELA USUARIO
-- =====================================================================

-- Índice para busca por email (usado em autenticação)
CREATE INDEX IF NOT EXISTS idx_usuario_email ON usuario(email);

-- Índice para busca por perfil (usado em listagens)
CREATE INDEX IF NOT EXISTS idx_usuario_perfil ON usuario(perfil);

-- Índice para busca por token de redefinição de senha
CREATE INDEX IF NOT EXISTS idx_usuario_token ON usuario(token_redefinicao);

-- Índice para ordenação por data de cadastro
CREATE INDEX IF NOT EXISTS idx_usuario_data_cadastro ON usuario(data_cadastro DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA VETERINARIO
-- =====================================================================

-- Índice para busca por CRMV
CREATE INDEX IF NOT EXISTS idx_veterinario_crmv ON veterinario(crmv);

-- Índice para filtro por veterinários verificados
CREATE INDEX IF NOT EXISTS idx_veterinario_verificado ON veterinario(verificado);

-- =====================================================================
-- ÍNDICES PARA TABELA TUTOR
-- =====================================================================

-- Índice para busca rápida de tutores
CREATE INDEX IF NOT EXISTS idx_tutor_id ON tutor(id_tutor);

-- =====================================================================
-- ÍNDICES PARA TABELA POSTAGEM_ARTIGO
-- =====================================================================

-- Índice para busca de postagens por veterinário
CREATE INDEX IF NOT EXISTS idx_postagem_veterinario ON postagem_artigo(id_veterinario);

-- Índice para busca de postagens por categoria
CREATE INDEX IF NOT EXISTS idx_postagem_categoria ON postagem_artigo(id_categoria_artigo);

-- Índice para ordenação por data de publicação
CREATE INDEX IF NOT EXISTS idx_postagem_data ON postagem_artigo(data_publicacao DESC);

-- Índice para ordenação por visualizações
CREATE INDEX IF NOT EXISTS idx_postagem_visualizacoes ON postagem_artigo(visualizacoes DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA POSTAGEM_FEED
-- =====================================================================

-- Índice para busca de postagens do feed por tutor
CREATE INDEX IF NOT EXISTS idx_postagem_feed_tutor ON postagem_feed(id_tutor);

-- Índice para ordenação por data de postagem
CREATE INDEX IF NOT EXISTS idx_postagem_feed_data ON postagem_feed(data_postagem DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA COMENTARIO
-- =====================================================================

-- Índice para busca de comentários por usuário
CREATE INDEX IF NOT EXISTS idx_comentario_usuario ON comentario(id_usuario);

-- Índice para busca de comentários por postagem de artigo
CREATE INDEX IF NOT EXISTS idx_comentario_postagem ON comentario(id_postagem_artigo);

-- Índice para ordenação por data de comentário
CREATE INDEX IF NOT EXISTS idx_comentario_data ON comentario(data_comentario DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA CURTIDA_ARTIGO
-- =====================================================================

-- Índice para contagem de curtidas por postagem
CREATE INDEX IF NOT EXISTS idx_curtida_artigo_postagem ON curtida_artigo(id_postagem_artigo);

-- Índice para busca de curtidas por usuário
CREATE INDEX IF NOT EXISTS idx_curtida_artigo_usuario ON curtida_artigo(id_usuario);

-- Índice para ordenação por data de curtida
CREATE INDEX IF NOT EXISTS idx_curtida_artigo_data ON curtida_artigo(data_curtida DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA CURTIDA_FEED
-- =====================================================================

-- Índice para contagem de curtidas por postagem do feed
CREATE INDEX IF NOT EXISTS idx_curtida_feed_postagem ON curtida_feed(id_postagem_feed);

-- Índice para busca de curtidas por usuário
CREATE INDEX IF NOT EXISTS idx_curtida_feed_usuario ON curtida_feed(id_usuario);

-- Índice para ordenação por data de curtida
CREATE INDEX IF NOT EXISTS idx_curtida_feed_data ON curtida_feed(data_curtida DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA SEGUIDA
-- =====================================================================

-- Índice para busca de seguidores de um veterinário
CREATE INDEX IF NOT EXISTS idx_seguida_veterinario ON seguida(id_veterinario);

-- Índice para busca de veterinários seguidos por um tutor
CREATE INDEX IF NOT EXISTS idx_seguida_tutor ON seguida(id_tutor);

-- Índice composto para verificar relacionamento seguida
CREATE INDEX IF NOT EXISTS idx_seguida_tutor_veterinario ON seguida(id_tutor, id_veterinario);

-- =====================================================================
-- ÍNDICES PARA TABELA CHAMADO
-- =====================================================================

-- Índice para busca de chamados por usuário
CREATE INDEX IF NOT EXISTS idx_chamado_usuario ON chamado(id_usuario);

-- Índice para busca de chamados por administrador
CREATE INDEX IF NOT EXISTS idx_chamado_admin ON chamado(id_admin);

-- Índice para filtro por status
CREATE INDEX IF NOT EXISTS idx_chamado_status ON chamado(status);

-- Índice para ordenação por data
CREATE INDEX IF NOT EXISTS idx_chamado_data ON chamado(data DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA RESPOSTA_CHAMADO
-- =====================================================================

-- Índice para busca de respostas por chamado
CREATE INDEX IF NOT EXISTS idx_resposta_chamado ON resposta_chamado(id_chamado);

-- Índice para ordenação por data
CREATE INDEX IF NOT EXISTS idx_resposta_data ON resposta_chamado(data DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA DENUNCIA
-- =====================================================================

-- Índice para busca de denúncias por usuário
CREATE INDEX IF NOT EXISTS idx_denuncia_usuario ON denuncia(id_usuario);

-- Índice para filtro por status
CREATE INDEX IF NOT EXISTS idx_denuncia_status ON denuncia(status);

-- Índice para ordenação por data de denúncia
CREATE INDEX IF NOT EXISTS idx_denuncia_data ON denuncia(data_denuncia DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA VERIFICACAO_CRMV
-- =====================================================================

-- Índice para busca de verificações por veterinário
CREATE INDEX IF NOT EXISTS idx_verificacao_crmv_veterinario ON verificacao_crmv(id_veterinario);

-- Índice para filtro por status de verificação
CREATE INDEX IF NOT EXISTS idx_verificacao_crmv_status ON verificacao_crmv(status_verificacao);

-- Índice para ordenação por data de verificação
CREATE INDEX IF NOT EXISTS idx_verificacao_crmv_data ON verificacao_crmv(data_verificacao DESC);

-- =====================================================================
-- ÍNDICES PARA TABELA CATEGORIA_ARTIGO
-- =====================================================================

-- Índice para ordenação por nome
CREATE INDEX IF NOT EXISTS idx_categoria_artigo_nome ON categoria_artigo(nome);

-- =====================================================================
-- FIM DO SCRIPT
-- =====================================================================

```

# sql/postagem_artigo_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS postagem_artigo (
    id_postagem_artigo INTEGER PRIMARY KEY AUTOINCREMENT,
    id_veterinario INTEGER NOT NULL,
    titulo TEXT NOT NULL,
    conteudo TEXT NOT NULL,
    id_categoria_artigo INTEGER NOT NULL,
    data_publicacao DATETIME DEFAULT CURRENT_TIMESTAMP,
    visualizacoes INTEGER DEFAULT 0,
    FOREIGN KEY (id_veterinario) REFERENCES veterinario(id_veterinario),
    FOREIGN KEY (id_categoria_artigo) REFERENCES categoria_artigo(id_categoria_artigo)
);
"""

INSERIR = """
INSERT INTO postagem_artigo (id_veterinario, titulo, conteudo, id_categoria_artigo)
VALUES (?, ?, ?, ?);
"""

ATUALIZAR = """
UPDATE postagem_artigo
SET titulo = ?, conteudo = ?, id_categoria_artigo = ?
WHERE id_postagem_artigo = ?;
"""

INCREMENTAR_VISUALIZACOES = """
UPDATE postagem_artigo
SET visualizacoes = visualizacoes + 1
WHERE id_postagem_artigo = ?;
"""

EXCLUIR = """
DELETE FROM postagem_artigo
WHERE id_postagem_artigo = ?;
"""

OBTER_PAGINA = """
SELECT
    id_postagem_artigo,
    id_veterinario,
    titulo,
    conteudo,
    id_categoria_artigo,
    data_publicacao,
    visualizacoes
FROM postagem_artigo
ORDER BY data_publicacao DESC
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    id_postagem_artigo,
    id_veterinario,
    titulo,
    conteudo,
    id_categoria_artigo,
    data_publicacao,
    visualizacoes
FROM postagem_artigo
WHERE id_postagem_artigo = ?;
"""

OBTER_RECENTES_COM_DADOS = """
SELECT
    pa.id_postagem_artigo,
    pa.id_veterinario,
    pa.titulo,
    pa.conteudo,
    pa.id_categoria_artigo,
    pa.data_publicacao,
    pa.visualizacoes,
    u.nome as nome_veterinario,
    ca.nome as nome_categoria,
    ca.cor as cor_categoria
FROM postagem_artigo pa
JOIN veterinario v ON pa.id_veterinario = v.id_veterinario
JOIN usuario u ON v.id_veterinario = u.id_usuario
JOIN categoria_artigo ca ON pa.id_categoria_artigo = ca.id_categoria_artigo
ORDER BY pa.data_publicacao DESC
LIMIT ?;
"""

OBTER_PAGINA_COM_DADOS = """
SELECT
    pa.id_postagem_artigo,
    pa.id_veterinario,
    pa.titulo,
    pa.conteudo,
    pa.id_categoria_artigo,
    pa.data_publicacao,
    pa.visualizacoes,
    u.nome as nome_veterinario,
    ca.nome as nome_categoria,
    ca.cor as cor_categoria
FROM postagem_artigo pa
JOIN veterinario v ON pa.id_veterinario = v.id_veterinario
JOIN usuario u ON v.id_veterinario = u.id_usuario
JOIN categoria_artigo ca ON pa.id_categoria_artigo = ca.id_categoria_artigo
ORDER BY pa.data_publicacao DESC
LIMIT ? OFFSET ?;
"""

OBTER_POR_CATEGORIA_COM_DADOS = """
SELECT
    pa.id_postagem_artigo,
    pa.id_veterinario,
    pa.titulo,
    pa.conteudo,
    pa.id_categoria_artigo,
    pa.data_publicacao,
    pa.visualizacoes,
    u.nome as nome_veterinario,
    ca.nome as nome_categoria,
    ca.cor as cor_categoria
FROM postagem_artigo pa
JOIN veterinario v ON pa.id_veterinario = v.id_veterinario
JOIN usuario u ON v.id_veterinario = u.id_usuario
JOIN categoria_artigo ca ON pa.id_categoria_artigo = ca.id_categoria_artigo
WHERE pa.id_categoria_artigo = ?
ORDER BY pa.data_publicacao DESC
LIMIT ? OFFSET ?;
"""

IMPORTAR = """
INSERT INTO postagem_artigo (id_postagem_artigo, id_veterinario, titulo, conteudo, id_categoria_artigo, visualizacoes)
VALUES (?, ?, ?, ?, ?, ?);
"""

CONTAR_TOTAL = """
SELECT COUNT(*) as total
FROM postagem_artigo;
"""

CONTAR_POR_CATEGORIA = """
SELECT COUNT(*) as total
FROM postagem_artigo
WHERE id_categoria_artigo = ?;
"""

```

# sql/postagem_feed_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS postagem_feed (
    id_postagem_feed INTEGER PRIMARY KEY AUTOINCREMENT,
    id_tutor INTEGER NOT NULL,
    descricao TEXT,
    data_postagem DATETIME DEFAULT CURRENT_TIMESTAMP,
    visualizacoes INTEGER DEFAULT 0,
    FOREIGN KEY (id_tutor) REFERENCES tutor(id_tutor)

);
"""

INSERIR = """
INSERT INTO postagem_feed (id_tutor, descricao)
VALUES (?, ?);
"""

ATUALIZAR = """
UPDATE postagem_feed
SET descricao = ?
WHERE id_postagem_feed = ?;
"""

EXCLUIR = """
DELETE FROM postagem_feed
WHERE id_postagem_feed = ?;
"""

OBTER_PAGINA = """
SELECT
    id_postagem_feed,
    id_tutor,
    descricao,
    data_postagem,
    visualizacoes
FROM postagem_feed
ORDER BY data_postagem DESC
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    id_postagem_feed,
    id_tutor,
    descricao,
    data_postagem,
    visualizacoes
FROM postagem_feed
WHERE id_postagem_feed = ?;
"""

INCREMENTAR_VISUALIZACOES = """
UPDATE postagem_feed
SET visualizacoes = visualizacoes + 1
WHERE id_postagem_feed = ?;
"""

IMPORTAR = """
INSERT INTO postagem_feed (id_postagem_feed, id_tutor, descricao, data_postagem, visualizacoes)
VALUES (?, ?, ?, ?, ?);
"""

OBTER_RECENTES_COM_DADOS = """
SELECT
    pf.id_postagem_feed,
    pf.id_tutor,
    pf.descricao,
    pf.data_postagem,
    pf.visualizacoes,
    u.nome as nome_tutor,
    t.quantidade_pets
FROM postagem_feed pf
JOIN tutor t ON pf.id_tutor = t.id_tutor
JOIN usuario u ON t.id_tutor = u.id_usuario
ORDER BY pf.data_postagem DESC
LIMIT ?;
"""

OBTER_PAGINA_COM_DADOS = """
SELECT
    pf.id_postagem_feed,
    pf.id_tutor,
    pf.descricao,
    pf.data_postagem,
    pf.visualizacoes,
    u.nome as nome_tutor,
    t.quantidade_pets
FROM postagem_feed pf
JOIN tutor t ON pf.id_tutor = t.id_tutor
JOIN usuario u ON t.id_tutor = u.id_usuario
ORDER BY pf.data_postagem DESC
LIMIT ? OFFSET ?;
"""

CONTAR_TOTAL = """
SELECT COUNT(*) as total
FROM postagem_feed;
"""

OBTER_POR_ID_COM_DADOS = """
SELECT
    pf.id_postagem_feed,
    pf.id_tutor,
    pf.descricao,
    pf.data_postagem,
    pf.visualizacoes,
    u.id_usuario,
    u.nome as nome_tutor,
    u.email as email_tutor,
    u.telefone as telefone_tutor,
    t.quantidade_pets
FROM postagem_feed pf
JOIN tutor t ON pf.id_tutor = t.id_tutor
JOIN usuario u ON t.id_tutor = u.id_usuario
WHERE pf.id_postagem_feed = ?;
"""

```

# sql/resposta_chamado_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS resposta_chamado (
    id_resposta_chamado INTEGER PRIMARY KEY AUTOINCREMENT,
    id_chamado INTEGER NOT NULL,
    titulo TEXT NOT NULL,
    descricao TEXT NOT NULL,
    data DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (id_chamado) REFERENCES chamado(id_chamado)
);
"""

INSERIR = """
INSERT INTO resposta_chamado (id_chamado, titulo, descricao, data)
VALUES (?, ?, ?, ?);
"""

ATUALIZAR = """
UPDATE resposta_chamado
SET id_chamado = ?, titulo = ?, descricao = ?, data = ?
WHERE id_resposta_chamado = ?;
"""


EXCLUIR = """
DELETE FROM resposta_chamado
WHERE id_resposta_chamado = ?;
"""

OBTER_PAGINA = """
SELECT *
FROM resposta_chamado
ORDER BY data DESC
LIMIT ? OFFSET ?;
"""


OBTER_POR_ID = """
SELECT *
FROM resposta_chamado
WHERE id_resposta_chamado = ?;

"""

```

# sql/seguida_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS seguida (
  id_veterinario INTEGER NOT NULL,
  id_tutor INTEGER NOT NULL,
  data_inicio DATETIME DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (id_veterinario, id_tutor),
  FOREIGN KEY (id_veterinario) REFERENCES veterinario(id_veterinario),
  FOREIGN KEY (id_tutor) REFERENCES tutor(id_tutor)
);
"""

INSERIR = """
INSERT INTO seguida (id_veterinario, id_tutor)
VALUES (?, ?);
"""

EXCLUIR = """
DELETE FROM seguida
WHERE id_veterinario = ? AND id_tutor = ?;
"""

OBTER_PAGINA = """
SELECT
  id_veterinario,
  id_tutor,
  data_inicio
FROM seguida
ORDER BY data_inicio DESC
LIMIT ? OFFSET ?;
"""


OBTER_POR_ID = """
SELECT
  id_veterinario,
  id_tutor,
  data_inicio
FROM seguida
WHERE id_veterinario = ? AND id_tutor = ?;
"""

```

# sql/tutor_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS tutor (
    id_tutor INTEGER PRIMARY KEY,
    quantidade_pets INTEGER DEFAULT 0,
    descricao_pets TEXT,
    FOREIGN KEY (id_tutor) REFERENCES usuario(id_usuario)
);
"""

INSERIR = """
INSERT INTO tutor (id_tutor, quantidade_pets, descricao_pets)
VALUES (?, ?, ?);
"""

ATUALIZAR = """
UPDATE tutor
SET quantidade_pets = ?, descricao_pets = ?
WHERE id_tutor = ?;
"""

EXCLUIR = """
DELETE FROM tutor
WHERE id_tutor = ?;
"""

OBTER_PAGINA = """
SELECT
    t.id_tutor,
    u.nome,
    u.email,
    u.telefone,
    t.quantidade_pets,
    t.descricao_pets
FROM tutor t
INNER JOIN usuario u ON t.id_tutor = u.id_usuario
ORDER BY u.nome
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    t.id_tutor,
    u.nome,
    u.email,
    u.telefone,
    u.perfil,
    u.token_redefinicao,
    u.data_token,
    u.data_cadastro,
    t.quantidade_pets,
    t.descricao_pets
FROM tutor t
INNER JOIN usuario u ON t.id_tutor = u.id_usuario
WHERE t.id_tutor = ?;
"""

```

# sql/usuario_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS usuario (
    id_usuario INTEGER PRIMARY KEY AUTOINCREMENT,
    nome TEXT NOT NULL,
    email TEXT NOT NULL UNIQUE,
    senha TEXT NOT NULL,
    telefone TEXT NOT NULL,
    perfil TEXT NOT NULL DEFAULT 'tutor',
    token_redefinicao TEXT,
    data_token TIMESTAMP,
    data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
"""

INSERIR = """
INSERT INTO usuario (nome, email, senha, telefone, perfil)
VALUES (?, ?, ?, ?, ?);
"""

ATUALIZAR = """
UPDATE usuario
SET nome = ?, email = ?, telefone = ?
WHERE id_usuario = ?;
"""

ATUALIZAR_SENHA = """
UPDATE usuario
SET senha = ?
WHERE id_usuario = ?;
"""

EXCLUIR = """
DELETE FROM usuario
WHERE id_usuario = ?;
"""

OBTER_PAGINA = """
SELECT
    id_usuario,
    nome,
    email,
    senha,
    telefone,
    perfil,
    token_redefinicao,
    data_token,
    data_cadastro
FROM usuario
ORDER BY nome
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    id_usuario,
    nome,
    email,
    senha,
    telefone,
    perfil,
    token_redefinicao,
    data_token,
    data_cadastro
FROM usuario
WHERE id_usuario = ?;
"""

OBTER_POR_EMAIL = """
SELECT
    id_usuario, 
    nome, 
    email, 
    senha, 
    telefone, 
    perfil, 
    token_redefinicao, 
    data_token, 
    data_cadastro
FROM usuario
WHERE email=?
"""

ATUALIZAR_TOKEN = """
UPDATE usuario
SET token_redefinicao=?, data_token=?
WHERE email=?
"""

OBTER_POR_TOKEN = """
SELECT
    id_usuario, 
    nome, 
    email, 
    senha, 
    telefone, 
    perfil, 
    token_redefinicao, 
    data_token
FROM usuario
WHERE token_redefinicao=? AND data_token > datetime('now')
"""

LIMPAR_TOKEN = """
UPDATE usuario
SET token_redefinicao = NULL, data_token = NULL
WHERE id_usuario = ?;
"""

OBTER_POR_PERFIL = """
SELECT
    id_usuario, 
    nome, email, senha, telefone, perfil,
    token_redefinicao, data_token, data_cadastro
FROM usuario
WHERE perfil = ?
ORDER BY nome;
"""

IMPORTAR = """
INSERT INTO usuario (id_usuario, nome, email, senha, telefone, perfil)
VALUES (?, ?, ?, ?, ?, ?);
"""

```

# sql/verificacao_crmv_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS verificacao_crmv (
    id_verificacao_crmv INTEGER PRIMARY KEY AUTOINCREMENT,
    id_veterinario INTEGER NOT NULL,
    id_administrador INTEGER,
    data_verificacao DATETIME DEFAULT CURRENT_TIMESTAMP,
    status_verificacao TEXT CHECK(status_verificacao IN ('pendente', 'aprovado', 'rejeitado', 'em_analise')) DEFAULT 'pendente'
);
"""

INSERIR = """
INSERT INTO verificacao_crmv (id_veterinario, id_administrador, status_verificacao)
VALUES (?, ?, ?);
"""

ATUALIZAR = """
UPDATE verificacao_crmv
SET status_verificacao = ?, id_administrador = ?
WHERE id_veterinario = ?;
"""

EXCLUIR = """
DELETE FROM verificacao_crmv
WHERE id_veterinario = ?;
"""

OBTER_PAGINA = """
SELECT
    v.id_verificacao_crmv,
    v.data_verificacao,
    v.status_verificacao,
    u.id_usuario AS id_veterinario,
    u.nome AS nome_veterinario,
    u.email AS email_veterinario,
    u.telefone AS telefone_veterinario,
    vet.crmv,
    vet.verificado AS veterinario_verificado,
    vet.bio AS bio_veterinario,
    a.id_admin,
    a.nome AS nome_admin,
    a.email AS email_admin
FROM verificacao_crmv v
JOIN usuario u ON v.id_veterinario = u.id_usuario
JOIN veterinario vet ON v.id_veterinario = vet.id_veterinario
LEFT JOIN administrador a ON v.id_administrador = a.id_admin
ORDER BY v.data_verificacao DESC
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    v.id_verificacao_crmv,
    v.data_verificacao,
    v.status_verificacao,
    u.id_usuario AS id_veterinario,
    u.nome AS nome_veterinario,
    u.email AS email_veterinario,
    u.telefone AS telefone_veterinario,
    vet.crmv,
    vet.verificado AS veterinario_verificado,
    vet.bio AS bio_veterinario,
    a.id_admin,
    a.nome AS nome_admin,
    a.email AS email_admin,
    a.senha AS senha_admin

FROM verificacao_crmv v
JOIN usuario u ON v.id_veterinario = u.id_usuario
JOIN veterinario vet ON v.id_veterinario = vet.id_veterinario
LEFT JOIN administrador a ON v.id_administrador = a.id_admin
WHERE v.id_verificacao_crmv = ?;
"""

```

# sql/veterinario_sql.py

```py
CRIAR_TABELA = """
CREATE TABLE IF NOT EXISTS veterinario (
    id_veterinario INTEGER PRIMARY KEY,
    crmv TEXT NOT NULL,
    verificado BOOLEAN DEFAULT 0,
    bio TEXT,
    FOREIGN KEY (id_veterinario) REFERENCES usuario(id_usuario)
);
"""

INSERIR = """
INSERT INTO veterinario (id_veterinario, crmv, bio)
VALUES (?, ?, ?);
"""

ATUALIZAR = """
UPDATE veterinario SET crmv = ?, verificado = ?, bio = ?
WHERE id_veterinario = ?;
"""

ATUALIZAR_VERIFICADO = """
UPDATE veterinario SET verificado = ?
WHERE id_veterinario = ?;
"""

EXCLUIR = """
DELETE FROM veterinario
WHERE id_veterinario = ?;
"""

OBTER_PAGINA = """
SELECT
    v.id_veterinario,
    u.nome,
    u.email,
    u.telefone,
    v.crmv,
    v.verificado,
    v.bio
FROM veterinario v
INNER JOIN usuario u ON v.id_veterinario = u.id_usuario
ORDER BY v.id_veterinario
LIMIT ? OFFSET ?;
"""

OBTER_POR_ID = """
SELECT
    v.id_veterinario,
    u.nome,
    u.email,
    u.senha,
    u.telefone,
    u.perfil,
    u.token_redefinicao,
    u.data_token,
    u.data_cadastro,
    v.crmv,
    v.verificado,
    v.bio
FROM veterinario v
JOIN usuario u ON v.id_veterinario = u.id_usuario
WHERE v.id_veterinario = ?;
"""

IMPORTAR = """
INSERT INTO veterinario (id_veterinario, crmv, verificado, bio)
VALUES (?, ?, ?, ?);
"""
```

# static/css/artigos.css

```css
/* Importa a fonte Montserrat do Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap');

.articles-container {
    display: flex;
    flex-direction: column;
    gap: 24px;
    align-items: center;
}

.article {
    display: flex;
    flex-direction: row;
    border-radius: 10px;
    overflow: hidden;
    width: 700px;
    min-height: 180px;
    box-shadow: none;
}

.article img {
    width: 200px;
    height: 300px;
    object-fit: cover;
}

.article-content {
    padding: 18px 20px 10px 20px;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    color: #fff;
    width: 100%;
}

.article.orange {
    background: #f58220;
}

.article.blue {
    background: #3b5b89;
}

.article.teal {
    background: #2d6d6d;
}

.article.pink {
    background: #f05d8c;
}

.article-content h2 {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 6px;
    margin-top: 0;
}

.article-content p {
    margin-bottom: 6px;
    margin-top: 0;
    font-size: 1rem;
}

.article .btn {
    background: #fff;
    color: #222;
    border: none;
    border-radius: 6px;
    padding: 6px 16px;
    font-weight: bold;
    font-size: 0.95rem;
    margin-top: 8px;
    text-decoration: none;
    display: inline-block;
    transition: background 0.2s;
}

.article .btn:hover {
    background: #eee;
}

.articles-container,
.article,
.article-content,
.article-content h3,
.article-content p,
.article .btn {
    font-family: 'Montserrat', Arial, Helvetica, sans-serif;
}
```

# static/css/base.css

```css
/* Importa fonte Montserrat do Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap');

/* Variáveis de Cores do Design */
:root {
    --cor-roxo: #44345A;
    --cor-laranja: #FA811D;
    --cor-verde: #2D5D5C;
    --cor-bege: #ffe6ba;
    --cor-bege-claro: #fff9ef;
    --cor-rosa: #CA567C;
}

body {
    font-family: 'Montserrat', sans-serif !important;
}

/* Cores e Imagens de Fundo */

.bg-roxo {
    background-color: var(--cor-roxo) !important;
}

.bg-laranja {
    background-color: var(--cor-laranja) !important;
}

.bg-verde {
    background-color: var(--cor-verde) !important;
}

.bg-bege {
    background-color: var(--cor-bege) !important;
}

.bg-bege-claro {
    background-color: var(--cor-bege-claro) !important;
}

.bg-rosa {
    background-color: var(--cor-rosa) !important;
}

.bg-degrade-home {
    background: linear-gradient(180deg,
            var(--cor-bege-claro) 0%,
            var(--cor-bege) 70%,
            color-mix(in srgb, var(--cor-rosa) 50%, transparent) 100%);
}

.bg-img-none {
    background-image: none !important;
}

/* Fundo Animais que caiba na altura do conteiner */
.bg-img-animais {
    background-image: url('/static/img/animais.webp') !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-size: contain !important;
}

/* Cores de Textos */

.text-branco {
    color: #fff !important;
}

.text-roxo {
    color: var(--cor-roxo) !important;
}

.text-laranja {
    color: var(--cor-laranja) !important;
}

.text-verde {
    color: var(--cor-verde) !important;
}

.text-bege {
    color: var(--cor-bege) !important;
}

.text-rosa {
    color: var(--cor-rosa) !important;
}

/* Bordas */

.border-laranja {
    border-color: var(--cor-laranja) !important;
}

.border-roxo {
    border-color: var(--cor-roxo) !important;
}

.border-bege-claro {
    border-color: var(--cor-bege-claro) !important;
}

/* Botões */

.btn-outline-laranja {
    border-color: var(--cor-laranja) !important;
    color: var(--cor-laranja) !important;
}

.btn-outline-laranja:hover {
    background-color: var(--cor-laranja) !important;
    color: #fff !important;
}

.btn-roxo {
    background-color: var(--cor-roxo);
    border-color: var(--cor-roxo);
}

.btn-roxo:hover {
    background-color: #362947;
    border-color: #362947;
}

.btn-outline-roxo {
    border-color: var(--cor-roxo);
    color: var(--cor-roxo);
}

.btn-outline-roxo:hover {
    background-color: var(--cor-roxo);
    border-color: var(--cor-roxo);
    color: #fff;
}

/* Toast Customization */
.toast-container {
    z-index: 9999;
}

.toast {
    min-width: 250px;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
}

.toast-offset {
    margin-bottom: 60px;
}

/* Cores personalizadas para toasts */
.toast.text-bg-success {
    background-color: var(--cor-verde) !important;
}

.toast.text-bg-warning {
    background-color: var(--cor-laranja) !important;
}

.toast.text-bg-danger {
    background-color: var(--cor-rosa) !important;
}

/* Estilos de Cards de Categorias */

#categoriasTrack .card {
    transition: transform 0.3s ease;
}

#categoriasTrack .card:hover {
    transform: scale(1.05);
}

#categoriasTrack .card:hover .bg-bege {
    background-color: var(--cor-roxo) !important;
    color: white !important;
}

/* Efeitos de Hover em Cards */

.card-hover-effect,
.artigos-card .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card-hover-effect:hover,
.artigos-card .card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
}

@media (max-width: 768px) {
    .artigos-card h2 {
        font-size: 2rem !important;
    }
}

/* Responsividade para sidebars sticky */
@media (max-width: 991px) {
    .sticky-top {
        position: relative !important;
        top: auto !important;
    }
}

/* Avatares em Cards */
.card .rounded-circle {
    border: 2px solid rgba(255, 255, 255, 0.5);
    transition: transform 0.2s ease;
}

.card:hover .rounded-circle {
    transform: scale(1.05);
}

/* Classes Utilitárias de Avatar */

.avatar-sm {
    width: 40px;
    height: 40px;
    object-fit: cover;
    border-radius: 50%;
}

.avatar-md {
    width: 50px;
    height: 50px;
    object-fit: cover;
    border-radius: 50%;
}

.avatar-lg {
    width: 150px;
    height: 150px;
    object-fit: cover;
    border-radius: 50%;
}

.avatar-xl {
    width: 120px;
    height: 120px;
    object-fit: cover;
    border-radius: 50%;
}

/* Classes Utilitárias de Imagem */

.img-cover {
    object-fit: cover;
    width: 100%;
}

.img-card-top {
    height: 200px;
    object-fit: cover;
    width: 100%;
}

.img-post-featured {
    max-height: 500px;
    object-fit: cover;
    width: 100%;
}

.img-post-detail {
    max-height: 600px;
    object-fit: cover;
    width: 100%;
}

.img-square {
    aspect-ratio: 1/1;
    object-fit: cover;
    width: 100%;
}

@media (max-width: 768px) {
    .img-post-featured,
    .img-post-detail {
        max-height: 300px;
    }
}

/* Classes de Container */

.content-container {
    max-width: 600px;
}

@media (max-width: 768px) {
    .content-container {
        max-width: 100%;
    }
}

/* Sidebar Sticky */

.sidebar-sticky {
    position: sticky;
    top: 20px;
}

@media (max-width: 991px) {
    .sidebar-sticky {
        position: static;
        top: auto;
    }
}

/* Ícones Placeholder */

.icon-placeholder-lg {
    font-size: 4rem;
    color: var(--cor-roxo);
    opacity: 0.3;
}

.icon-placeholder-md {
    font-size: 3rem;
    color: var(--cor-roxo);
    opacity: 0.3;
}

.icon-placeholder-sm {
    font-size: 2rem;
    color: var(--cor-roxo);
    opacity: 0.3;
}

.icon-lg {
    font-size: 4rem;
}

.icon-md {
    font-size: 3rem;
}

.icon-sm {
    font-size: 2rem;
}

/* Classes de Conteúdo */

.article-content {
    text-align: justify;
    white-space: pre-wrap;
    line-height: 1.8;
}

.post-content {
    white-space: pre-wrap;
    line-height: 1.6;
}

/* Efeito Hover Padronizado para Cards */

.card-hover-lift {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card-hover-lift:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15) !important;
}

/* Componente de Paginação VetConecta */

.pagination-vetconecta {
    --bs-pagination-margin: 0;
}

.pagination-vetconecta .bg-roxo {
    background-color: var(--cor-roxo) !important;
    color: white !important;
}

.pagination-vetconecta .border-roxo {
    border-color: var(--cor-roxo) !important;
}

.pagination-vetconecta .page-link {
    color: var(--cor-roxo);
    border: 1px solid #dee2e6;
    padding: 0.5rem 0.75rem;
    border-radius: 0.375rem;
    transition: all 0.2s ease;
}

.pagination-vetconecta .page-link:hover {
    background-color: var(--cor-roxo);
    border-color: var(--cor-roxo);
    color: white;
}

.pagination-vetconecta .page-item.disabled .page-link {
    color: #6c757d;
    background-color: #f8f9fa;
    border-color: #dee2e6;
    cursor: not-allowed;
}

.pagination-vetconecta .page-item.active .page-link {
    background-color: var(--cor-roxo);
    border-color: var(--cor-roxo);
    color: white;
    font-weight: 600;
    z-index: 3;
}

/* Estilos Específicos de Componentes */

.petgram-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.petgram-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2) !important;
}

.border-primary-custom {
    border-color: var(--cor-roxo) !important;
    border-width: 2px !important;
}

/* Utilitários de Título */

.title-article {
    min-height: 2.8rem;
    line-height: 1.4rem;
    font-size: 1rem;
}

.badge-transparent {
    background-color: rgba(255, 255, 255, 0.34);
}

.footer-text {
    font-size: 1rem;
}
```

# static/css/cadastrar_postagem.css

```css
/* Botão principal */
.custom-btn {
  background-color: #8c6bb1;
  color: white;
  padding: 10px 30px;
  border-radius: 25px;
  transition: 0.3s;
  font-weight: 500;
}

.custom-btn:hover {
  background-color: #6f5495;
}

/* Área de upload customizada */
.upload-area {
  border: 2px dashed #b89dd6;
  border-radius: 10px;
  background-color: #f6f1fa;
  padding: 30px;
  text-align: center;
  cursor: pointer;
  transition: background 0.3s, border-color 0.3s;
}

.upload-area:hover {
  background-color: #ede3f7;
  border-color: #8c6bb1;
}

.upload-area p {
  margin: 0;
  color: #555;
  font-size: 14px;
}

.upload-icon {
  font-size: 2rem;
  color: #8c6bb1;
  margin-bottom: 10px;
}

.form-spacing {
  margin-bottom: 30px;
}



```

# static/css/login.css

```css
body, html {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
}

.bg-full {
  background: url('/static/img/plano_de_fundo.png') no-repeat center center;
  background-size: cover;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
}

.login-box {
  background-color: rgba(255, 255, 255, 0.8);
  padding: 30px 40px;
  border-radius: 20px;
  text-align: center;
  width: 100%;
  max-width: 500px;
  box-shadow: 0 0 15px rgba(0,0,0,0.3);
  margin: 15px;
}

.login-title {
  font-size: 30px;
}

.logo-img {
  width: 100px;
  height: auto;
  margin-bottom: 10px;
}

.brand-title {
  font-size: 36px;
  font-weight: bold;
  margin-bottom: 5px;
}

.brand-title span:first-child {
  color: #f26d21;
  font-size: 40px;
}

.brand-subtitle {
  color: #295A5D;
  font-size: 40px;
}



.btn-login {
  background-color: #f26d21;
  border: none;
  color: white;
  border-radius: 10px;
  font-weight: 600;
}

.btn-login:hover {
  background-color: #d45c1a;
}


#-------------------------------------------------------------CadastreSe-------------------------------------------------------------


.link-padrao {
  color: #007bff !important;
  text-decoration: none !important;
  font-size: small !important;
}

.link-padrao:hover {
  text-decoration: underline !important;
}


#---------------------------------------------------------AceitoTermos-----------------------------------------------------------------
.text-primary {
  color: #007bff;
  text-decoration: none;
}

.text-primary:hover {
  text-decoration: underline;
}

#-----------------------------------------------------LoginOpcoes ---------------------------------------------------------------------

.btn-loginopcoes {
  background-color: #3569A6;
  border: none;
  color: white;
  border-radius: 20px;
  font-weight: 600;
  padding: 10px 0;
  margin-bottom: 15px;
  transition: background-color 0.3s ease;
}

.btn-loginopcoes:hover {
  background-color: #2e5c90;
}

.form-label {
    font-size: 20px;
  font-weight: bold;
}
```

# static/css/petgram.css

```css
/* Modal mais "janela" */
.window-card {
  border-radius: 15px;
  max-width: 750px;   /* limite da largura */
  margin: auto;
}

/* Foto do pet mais quadrada e com margem */
.modal-pet-img {
  max-width: 100%;
  max-height: 350px;  /* deixa mais quadrada */
  border-radius: 12px;
  margin-left: 10px;  /* margem da esquerda */
  object-fit: cover;  /* mantém proporção sem distorcer */
}


/* Garante que todos os cards tenham mesma altura */
.card {
    display: flex;
    flex-direction: column;
}

.card-body {
    flex: 1 1 auto; /* força o body a crescer igualmente */
}

```

# static/css/styles-quemsomos.css

```css

.team {
    display: flex !important;
    flex-wrap: wrap !important;
    gap: 20px !important;
    justify-content: space-around !important;
    background: #3569A6 !important;
    margin:0 unset !important;
}

.team-member {
    text-align: center !important;
    width: 200px !important;
}

.team-member img {
    width: 200px !important;
    height: 200px !important;
    object-fit: cover !important;
    border-radius: 50% !important;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1) !important;
    margin-bottom: 10px !important;
}

/* .quemsomos-bg {
    background: linear-gradient(to bottom, #ffffff, #FFF0D1, #ED6291) !important;
} */

.wave-container {
    margin-top: -30px;
    line-height: 0;
}

.nossa-equipe{
    color: white !important;
}
```

# static/css/styles.css

```css
/* ------------------------------ PáginaBase ------------------------------ */
header {
  background-color: #ffeed1 !important;
  /* Laranja principal */
  color: white !important;
  text-align: center !important;
  padding: 20px 10px !important;
}
.fundo_navbar {
  background-color: #5D3A79;
}

.logo-pata {
  height: 40px; /* antes era 60px */
}

.logo-nome {
  height: 20px; /* antes era 30px */
  margin-left: 8px;
  margin-top: 5px;
}

.footer-pata {
  height: 40px;
}

.footer-nome {
  height: 25px;
  margin-left: 8px;
}

.footer-fixado {
  position: fixed;
  bottom: 0;
  width: 100%;
  z-index: 1000;
}

footer {
  text-align: center !important;
  background-color: #ffeed1 !important;
  padding: 10px !important;
  font-size: 0.9rem !important;
  /* margin-top: 40px !important; */
  color: #000000 !important;
}

.fonte-titulo {
  font-family: 'Montserrat' !important;
  font-weight: bold !important;
}

/* ----------------------------------------------------- PAGINA INDEX --------------------------------------------------------- */


/* Ícone de coração */
input[type="checkbox"]:checked+label i {
  color: #e63946;
}

input[type="checkbox"]:checked+label i::before {
  content: "\f415";
}

/* Categorias */
.titulo_categorias {
  background-color: #FFE5B3 !important;
  border-radius: 30px !important;
}

.categoria-img {
  width: 200px;
  height: 200px;
  object-fit: cover;
  border-radius: 50%;
  border: 3px solid white;
}


.categoria-btn {
  background-color: #FFE5B3;
  border-radius: 30px;
  padding: 10px 20px;
  margin: 15px 0;
  text-decoration: none;
  display: inline-block;
}

/* Botão Ver mais */
.ver-mais-btn {
  background-color: #FFE5B3 !important;
  text-decoration: none !important;
  display: inline-block !important;
}

/* Carrossel */
.custom-carousel {
  height: 400px;
}

.custom-carousel-img {
  height: 400px;
  object-fit: cover;
}

/* ---------------------------------------------------------- CARDS-------------------------------------------------------------- */

.card-perfil {
  border: 02px solid #adadad;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 10px 12px rgba(0,0,0,0.1);
}

.artigo-card,
.petgram-card {
  transition: transform 0.3s cubic-bezier(.4,2,.3,1), box-shadow 0.3s;
  box-shadow: 0 16px 18px -8px rgba(0,0,0,0.55); /* sombra só embaixo, bem evidente */
}
.artigo-card:hover,
.petgram-card:hover {
  transform: scale(1.05) translateY(-8px);
  box-shadow: 0 28px 32px -8px rgba(0,0,0,0.65); /* sombra inferior ainda mais forte no hover */
  z-index: 2;
}

.artigo-card img {
  object-fit: cover;
}

/* ---------------------------------------------------------- PALETA DE CORES -------------------------------------------------------------- */


.bg-cachorros {
  background-color: #44345A !important;
}

.bg-gatos {
  background-color: #FA811D !important;
}

.bg-aves {
  background-color: #3569A6 !important;
}

.bg-repteis {
  background-color: #295A5D !important;
}

.bg-roedores {
  background-color: #ED6291 !important;
}

/* ---------------------------------------------------------- PETGRAM -------------------------------------------------------------- */


/* PetGram */
.petgram-bg {
  background: linear-gradient(to bottom, #f9f5f0, #FFF0D1, #ED6291);
}

.petgram-title {
  color: #F25CA2;
}

.petgram-subtitle {
  color: #2C4C84;
}

.petgram-borda {
  border: 2px solid #F25CA2 !important;
}

.petgram-img {
  height: 450px;
  object-fit: cover;
}

.petgram-btn {
  background-color: #FFF0D1;
  width: 300px;
  font-size: 20px;
  border-color: #F25CA2;
}

.like-icon {
  cursor: pointer;
}




body {
  font-family: 'Montserrat', sans-serif !important;
  background-color: #f9f5f0 !important;
  /* Bege */
  color: #333 !important;
  line-height: 1.6 !important;
  margin: 0 !important;
  padding: 0 !important;
}


header h1 {
  margin: 0 !important;
  font-size: 2rem !important;
}

main {
  /* max-width: 1000px !important; */
  margin: auto !important;
  /* padding: 40px 20px !important; */
}

h1 {
  color: #000000 !important;
  font-size: 1.6rem !important;
  margin-bottom: 20px !important;
}

h2 {
  color: #d35400 !important;
  font-size: 1.8rem !important;
  margin-bottom: 20px !important;
}

h3 {
  color: #ffffff !important;
  font-size: 1.6rem !important;
  margin-bottom: 20px !important;
}

p {
  margin-bottom: 15px !important;
  font-size: 1.05rem !important;
}


.link{
  color: #000000 !important;
  text-decoration: none !important;
}




/* ADMINISTRADOR */

.layout {
  display: flex;
}

/* ================== SIDEBAR ================== */
.sidebar {
  background-color: #5D3A79;
  width: 200px;
  min-height: 100vh;
  padding-top: 20px;
}

.menu {
  list-style: none;
  padding: 0;
  margin: 0;
  color: white;
  font-size: 1rem;
}

.menu-item {
  padding: 12px 20px;
  border-radius: 8px;
  margin: 5px 10px;
  cursor: pointer;
  transition: background 0.3s;
}

.menu-item:hover {
  background-color: #4A2760;
}


/* ================== CONTEÚDO ================== */
.conteudo {
  flex: 1;
  padding: 1px 0 0 0;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  margin-top: 24px !important ;
}

.cards-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  max-width: 700px;
}

.card {
  background: white;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.1);
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}


/* ================== cadastrar categoria ================== */

#preview img {
    width: 70px;
    height: 70px;
    object-fit: cover;
    border-radius: 8px;
    border: 1px solid #ddd;
}
.swatch:focus { outline: 2px solid #333; }
#colorPickerContainer { max-width: 260px; }
```

# static/uploads/temp/.gitkeep

```

```

# static/uploads/usuarios/.gitkeep

```

```

# templates/admin/alterar_categoria.html

```html
{# TODO: Formulário de Edição de Categoria

   DESCRIÇÃO:
   Formulário para editar uma categoria existente.
   Estrutura MUITO similar a cadastrar_categoria.html, mas com campos preenchidos.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Copiar estrutura de cadastrar_categoria.html
      - Mudar título para "Editar Categoria"

   2. DIFERENÇAS EM RELAÇÃO AO CADASTRO:

      a) Adicionar campo hidden com ID:
         <input type="hidden" name="id_categoria" value="{{ categoria_artigo.id_categoria_artigo }}">

      b) Preencher valores dos campos:
         - Nome: value="{{ categoria_artigo.nome }}"
         - Cor: value="{{ categoria_artigo.cor }}"
         - Imagem: value="{{ categoria_artigo.imagem }}"

      c) Mudar action do form:
         action="/administrador/alterar_categoria"

      d) Mudar texto do botão:
         "Salvar Alterações" em vez de "Cadastrar"

   3. ESTRUTURA COMPLETA DO FORMULÁRIO:
      <form method="post" action="/administrador/alterar_categoria">
        <input type="hidden" name="id_categoria" value="{{ categoria_artigo.id_categoria_artigo }}">

        <div class="mb-3">
          <label class="form-label">Nome</label>
          <input type="text" name="nome" class="form-control"
                 value="{{ categoria_artigo.nome }}" required>
        </div>

        <!-- Repetir para cor e imagem -->

        <button type="submit" class="btn btn-roxo">Salvar Alterações</button>
        <a href="/administrador/listar_categorias" class="btn btn-outline-secondary">Cancelar</a>
      </form>

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - categoria_artigo: Objeto CategoriaArtigo com dados atuais
   - mensagem: String com mensagem de erro (opcional)

   EXEMPLO DE REFERÊNCIA:
   Ver cadastrar_categoria.html (criado anteriormente)

   ATENÇÃO:
   - OBRIGATÓRIO: Campo hidden com id_categoria para o backend saber qual atualizar
   - Usar value="{{ categoria_artigo.nome }}" para preencher campos
   - Action do form é diferente: /alterar_categoria em vez de /cadastrar_categoria
#}

{# Seu código HTML aqui #}

```

# templates/admin/cadastrar_categoria.html

```html
{# TODO: Formulário de Cadastro de Categoria

   DESCRIÇÃO:
   Formulário para criar uma nova categoria de artigos.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Container centralizado (col-md-6 ou col-md-8)

   2. TÍTULO:
      - <h2 class="mb-4">Nova Categoria</h2>

   3. EXIBIR MENSAGEM DE ERRO (se houver):
      {% if mensagem %}
      <div class="alert alert-danger">{{ mensagem }}</div>
      {% endif %}

   4. FORMULÁRIO:
      - method="post" action="/administrador/cadastrar_categoria"

   5. CAMPOS DO FORMULÁRIO:

      a) Nome:
         - Label: "Nome"
         - Input: type="text" name="nome" class="form-control" required
         - Placeholder: Ex: "Saúde Animal"

      b) Cor (hexadecimal):
         - Label: "Cor (hexadecimal)"
         - Input: type="color" name="cor" class="form-control" required
         - Usar type="color" para seletor de cor visual

      c) Imagem:
         - Label: "Imagem (nome do arquivo)"
         - Input: type="text" name="imagem" class="form-control" required
         - Placeholder: Ex: "01.jpg"
         - Small text: "Arquivo deve estar em static/img/categorias/"

   6. BOTÕES DE AÇÃO:
      - Cadastrar: <button type="submit" class="btn btn-roxo">Cadastrar</button>
      - Cancelar: <a href="/administrador/listar_categorias" class="btn btn-outline-secondary">Cancelar</a>

   7. ESTRUTURA RECOMENDADA PARA CAMPO:
      <div class="mb-3">
        <label class="form-label">Nome do Campo</label>
        <input type="..." name="..." class="form-control" required>
        <small class="form-text text-muted">Dica opcional</small>
      </div>

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - mensagem: String com mensagem de erro (opcional)

   VALIDAÇÃO:
   - Todos os campos são obrigatórios (required)
   - Validação adicional é feita no backend

   EXEMPLO DE REFERÊNCIA:
   Ver templates/publico/cadastro.html para estrutura de formulário

   INFORMAÇÃO IMPORTANTE SOBRE IMAGENS:
   As imagens de categoria devem ser colocadas manualmente em:
   /static/img/categorias/

   Exemplos existentes:
   - 01.jpg (Comportamento)
   - 02.jpg (Nutrição)
   - 03.jpg (Saúde)
   - etc.

   ATENÇÃO:
   - Input type="color" cria um seletor de cor visual (HTML5)
   - O valor será enviado como hexadecimal (ex: #FF5733)
   - Campo imagem aceita apenas o nome do arquivo, não upload
#}

{# Seu código HTML aqui #}

```

# templates/admin/excluir_categoria.html

```html
{# TODO: Confirmação de Exclusão de Categoria

   DESCRIÇÃO:
   Página de confirmação antes de excluir uma categoria.
   Exibe dados da categoria e botão de confirmação.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Container centralizado

   2. TÍTULO COM ESTILO DE ALERTA:
      - <h2 class="mb-4 text-danger">Excluir Categoria</h2>

   3. AVISO DE ATENÇÃO:
      <div class="alert alert-warning">
        <strong>Atenção!</strong> Esta ação não pode ser desfeita.
        Artigos vinculados a esta categoria podem ser afetados.
      </div>

   4. CARD COM DADOS DA CATEGORIA:
      <div class="card">
        <div class="card-body">
          <h5>Categoria a ser excluída:</h5>
          <p><strong>Nome:</strong> {{ categoria_artigo.nome }}</p>
          <p><strong>Cor:</strong>
            <span class="badge" style="background-color: {{ categoria_artigo.cor }}">
              {{ categoria_artigo.cor }}
            </span>
          </p>
          <p><strong>ID:</strong> {{ categoria_artigo.id_categoria_artigo }}</p>
        </div>
      </div>

   5. FORMULÁRIO DE CONFIRMAÇÃO:
      <form method="post" action="/administrador/excluir_categoria" class="mt-3">
        <input type="hidden" name="id_categoria" value="{{ categoria_artigo.id_categoria_artigo }}">

        <button type="submit" class="btn btn-danger">
          <i class="bi bi-trash"></i> Confirmar Exclusão
        </button>

        <a href="/administrador/listar_categorias" class="btn btn-outline-secondary">
          Cancelar
        </a>
      </form>

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - categoria_artigo: Objeto CategoriaArtigo a ser excluído

   CORES E CLASSES:
   - text-danger: Vermelho para título de exclusão
   - btn-danger: Botão vermelho para ação destrutiva
   - alert-warning: Alerta amarelo de atenção
   - bi bi-trash: Ícone de lixeira (Bootstrap Icons)

   EXEMPLO DE REFERÊNCIA:
   Não há exemplo similar no projeto, mas é padrão de confirmação

   FLUXO:
   1. Usuário clica "Excluir" na lista de categorias
   2. Vem para esta página (GET /excluir_categoria/{id})
   3. Vê dados da categoria e botão de confirmação
   4. Se confirmar: POST /excluir_categoria com id_categoria no form
   5. Backend exclui e redireciona para lista

   ATENÇÃO:
   - Usar class="text-danger" no título para indicar ação destrutiva
   - Botão de confirmação deve ser btn-danger (vermelho)
   - Campo hidden com ID é obrigatório
#}

{# Seu código HTML aqui #}

```

# templates/admin/home_administrador.html

```html
{# TODO: Dashboard do Administrador

   DESCRIÇÃO:
   Página inicial do administrador com resumo de atividades e links rápidos.
   Exibe cards com métricas principais.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Título: "Painel Administrativo"

   2. GRID DE CARDS (row com col-md-3):
      Criar 4 cards com as seguintes informações:

      Card 1 - Categorias:
      - Ícone: <i class="bi bi-folder icon-lg text-roxo"></i>
      - Título: "Categorias"
      - Número: {{ categoria_artigo|length }} (ou contar)
      - Link: href="/administrador/listar_categorias" class="btn btn-sm btn-outline-roxo"

      Card 2 - Chamados:
      - Ícone: <i class="bi bi-chat-dots icon-lg text-laranja"></i>
      - Título: "Chamados"
      - Número: {{ total_chamados }} (se disponível)
      - Link: href="/administrador/listar_chamados"

      Card 3 - Denúncias:
      - Ícone: <i class="bi bi-exclamation-triangle icon-lg text-rosa"></i>
      - Título: "Denúncias"
      - Número: {{ total_denuncias }}
      - Link: href="/administrador/listar_denuncias"

      Card 4 - Verificações CRMV:
      - Ícone: <i class="bi bi-shield-check icon-lg text-verde"></i>
      - Título: "Verificações CRMV"
      - Número: {{ total_verificacoes }}
      - Link: href="/administrador/listar_verificacao_crmv"

   3. ESTRUTURA DO CARD:
      <div class="card">
        <div class="card-body text-center">
          <!-- Ícone -->
          <h5 class="mt-3">Título</h5>
          <p class="display-6">Número</p>
          <!-- Botão -->
        </div>
      </div>

   4. SEÇÃO ADICIONAL (OPCIONAL):
      - Lista de últimas ações
      - Gráfico de atividades
      - Avisos importantes

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - categoria_artigo: Lista de categorias
   - total_chamados: Inteiro (opcional)
   - total_denuncias: Inteiro (opcional)
   - total_verificacoes: Inteiro (opcional)

   CLASSES CSS ÚTEIS:
   - icon-lg: Ícone grande (4rem) - definida em base.css
   - text-roxo, text-laranja, text-rosa, text-verde: Cores do projeto
   - display-6: Tamanho grande para números (Bootstrap)

   EXEMPLO DE REFERÊNCIA:
   Ver estrutura de cards em templates/publico/index.html

   ATENÇÃO:
   - Usar Bootstrap Icons para ícones (já incluído no base_publica.html)
   - Cards devem ser responsivos (col-md-3 vira col-12 em mobile)
   - Links devem ter class="btn" para aparência consistente
#}

{# Seu código HTML aqui #}

```

# templates/admin/listar_categorias.html

```html
{# TODO: Listagem de Categorias de Artigos

   DESCRIÇÃO:
   Tabela com todas as categorias, permitindo editar e excluir.
   Inclui botão para criar nova categoria.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Container com my-5

   2. CABEÇALHO COM BOTÃO:
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2>Categorias de Artigos</h2>
        <a href="/administrador/cadastrar_categoria" class="btn btn-roxo">
          <i class="bi bi-plus-circle"></i> Nova Categoria
        </a>
      </div>

   3. TABELA RESPONSIVA:
      <div class="table-responsive">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nome</th>
              <th>Cor</th>
              <th>Ações</th>
            </tr>
          </thead>
          <tbody>
            <!-- Loop aqui -->
          </tbody>
        </table>
      </div>

   4. LOOP PELAS CATEGORIAS:
      {% for categoria in categorias %}
      <tr>
        <td>{{ categoria.id_categoria_artigo }}</td>
        <td>
          <span class="badge" style="background-color: {{ categoria.cor }}">
            {{ categoria.nome }}
          </span>
        </td>
        <td>{{ categoria.cor }}</td>
        <td>
          <a href="/administrador/alterar_categoria/{{ categoria.id_categoria_artigo }}"
             class="btn btn-sm btn-outline-roxo">
            Editar
          </a>
          <a href="/administrador/excluir_categoria/{{ categoria.id_categoria_artigo }}"
             class="btn btn-sm btn-outline-danger">
            Excluir
          </a>
        </td>
      </tr>
      {% endfor %}

   5. MENSAGEM SE VAZIO (opcional):
      {% if categorias|length == 0 %}
      <tr>
        <td colspan="4" class="text-center">Nenhuma categoria cadastrada.</td>
      </tr>
      {% endif %}

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - categorias: Lista de objetos CategoriaArtigo

   ATRIBUTOS DO OBJETO CategoriaArtigo:
   - id_categoria_artigo: int
   - nome: str
   - cor: str (hexadecimal, ex: "#44345A")
   - imagem: str (nome do arquivo)

   EXEMPLO DE REFERÊNCIA:
   Ver estrutura de tabela (não existe exemplo no projeto, mas é HTML padrão)

   CLASSES BOOTSTRAP:
   - table: Tabela básica
   - table-hover: Efeito hover nas linhas
   - table-responsive: Scroll horizontal em mobile
   - btn-sm: Botões pequenos
   - btn-outline-roxo: Botão roxo outline (definido em base.css)
   - btn-outline-danger: Botão vermelho outline (Bootstrap)

   ATENÇÃO:
   - Usar inline style para background-color do badge com a cor da categoria
   - Links de ação devem incluir o ID da categoria na URL
   - Botão "Nova Categoria" deve ter ícone Bootstrap Icons
#}

{# Seu código HTML aqui #}

```

# templates/admin/listar_chamados.html

```html
{# TODO: Listagem de Chamados de Suporte

   DESCRIÇÃO:
   Tabela com todos os chamados de suporte, com filtros por status.
   Permite ao admin visualizar e responder chamados.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Título: "Chamados de Suporte"

   2. BOTÕES DE FILTRO POR STATUS:
      <div class="btn-group mb-3" role="group">
        <a href="?status=todos" class="btn btn-outline-roxo">
          Todos ({{ total }})
        </a>
        <a href="?status=aberto" class="btn btn-outline-warning">
          Abertos
        </a>
        <a href="?status=em_andamento" class="btn btn-outline-info">
          Em Andamento
        </a>
        <a href="?status=resolvido" class="btn btn-outline-success">
          Resolvidos
        </a>
      </div>

   3. TABELA RESPONSIVA:
      Colunas: ID | Usuário | Título | Status | Data | Ações

   4. LOOP PELOS CHAMADOS:
      {% for chamado in chamados %}
      <tr>
        <td>{{ chamado.id_chamado }}</td>
        <td>{{ chamado.nome_usuario }}</td>
        <td>{{ chamado.titulo }}</td>
        <td>
          {% if chamado.status == 'aberto' %}
            <span class="badge bg-warning">Aberto</span>
          {% elif chamado.status == 'em_andamento' %}
            <span class="badge bg-info">Em Andamento</span>
          {% else %}
            <span class="badge bg-success">Resolvido</span>
          {% endif %}
        </td>
        <td>{{ chamado.data | data_br }}</td>
        <td>
          <a href="/administrador/responder_chamado/{{ chamado.id_chamado }}"
             class="btn btn-sm btn-outline-roxo">
            Ver/Responder
          </a>
        </td>
      </tr>
      {% endfor %}

   5. MENSAGEM SE VAZIO:
      {% if chamados|length == 0 %}
      <tr>
        <td colspan="6" class="text-center">Nenhum chamado encontrado.</td>
      </tr>
      {% endif %}

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - chamados: Lista de objetos Chamado (com join de usuario)
   - total: Inteiro com total de chamados

   ATRIBUTOS DO OBJETO Chamado (com join):
   - id_chamado: int
   - titulo: str
   - descricao: str
   - status: str ('aberto', 'em_andamento', 'resolvido')
   - data: datetime
   - nome_usuario: str (do join com tabela usuario)
   - email_usuario: str (do join)

   FILTRO JINJA2:
   - data_br: Formata data como dd/mm/yyyy (já definido em util/template_util.py)

   BADGES DE STATUS:
   - bg-warning: Amarelo (Bootstrap) para "aberto"
   - bg-info: Azul para "em_andamento"
   - bg-success: Verde para "resolvido"

   EXEMPLO DE REFERÊNCIA:
   Ver listar_categorias.html para estrutura de tabela

   FUNCIONALIDADE DOS FILTROS:
   - Botões adicionam parâmetro ?status=... na URL
   - Backend filtra chamados conforme status
   - Botão "Todos" mostra quantidade total

   ATENÇÃO:
   - Usar condicional {% if %} para cor do badge conforme status
   - Filtro | data_br já está disponível globalmente
   - Botão "Ver/Responder" leva para página de detalhes do chamado
#}

{# Seu código HTML aqui #}

```

# templates/admin/listar_denuncias.html

```html
{# TODO: Listagem de Denúncias

   DESCRIÇÃO:
   Tabela com todas as denúncias de conteúdo, com filtros por status.
   Admin pode analisar, aprovar ou rejeitar denúncias.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Título: "Denúncias de Conteúdo"

   2. BOTÕES DE FILTRO POR STATUS:
      <div class="btn-group mb-3" role="group">
        <a href="?status=todos" class="btn btn-outline-roxo">Todas</a>
        <a href="?status=pendente" class="btn btn-outline-warning">Pendentes</a>
        <a href="?status=em_analise" class="btn btn-outline-info">Em Análise</a>
        <a href="?status=resolvida" class="btn btn-outline-success">Resolvidas</a>
        <a href="?status=rejeitada" class="btn btn-outline-danger">Rejeitadas</a>
      </div>

   3. TABELA RESPONSIVA:
      Colunas: ID | Usuário | Motivo | Status | Data | Ações

   4. LOOP PELAS DENÚNCIAS:
      {% for denuncia in denuncias %}
      <tr>
        <td>{{ denuncia.id_denuncia }}</td>
        <td>{{ denuncia.nome_usuario }}</td>
        <td>{{ denuncia.motivo[:80] }}...</td>
        <td>
          {% if denuncia.status == 'pendente' %}
            <span class="badge bg-warning">Pendente</span>
          {% elif denuncia.status == 'em_analise' %}
            <span class="badge bg-info">Em Análise</span>
          {% elif denuncia.status == 'resolvida' %}
            <span class="badge bg-success">Resolvida</span>
          {% else %}
            <span class="badge bg-danger">Rejeitada</span>
          {% endif %}
        </td>
        <td>{{ denuncia.data_denuncia | data_br }}</td>
        <td>
          <div class="btn-group btn-group-sm" role="group">
            <form method="post" action="/administrador/analisar_denuncia" style="display: inline;">
              <input type="hidden" name="id_denuncia" value="{{ denuncia.id_denuncia }}">
              <input type="hidden" name="novo_status" value="em_analise">
              <button type="submit" class="btn btn-outline-info">Analisar</button>
            </form>

            <form method="post" action="/administrador/analisar_denuncia" style="display: inline;">
              <input type="hidden" name="id_denuncia" value="{{ denuncia.id_denuncia }}">
              <input type="hidden" name="novo_status" value="resolvida">
              <button type="submit" class="btn btn-outline-success">Resolver</button>
            </form>

            <form method="post" action="/administrador/analisar_denuncia" style="display: inline;">
              <input type="hidden" name="id_denuncia" value="{{ denuncia.id_denuncia }}">
              <input type="hidden" name="novo_status" value="rejeitada">
              <button type="submit" class="btn btn-outline-danger">Rejeitar</button>
            </form>

            <form method="post" action="/administrador/excluir_denuncia" style="display: inline;">
              <input type="hidden" name="id_denuncia" value="{{ denuncia.id_denuncia }}">
              <button type="submit" class="btn btn-outline-secondary"
                      onclick="return confirm('Excluir esta denúncia?')">
                <i class="bi bi-trash"></i>
              </button>
            </form>
          </div>
        </td>
      </tr>
      {% endfor %}

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - denuncias: Lista de objetos Denuncia (com join de usuario)

   ATRIBUTOS DO Objeto Denuncia (com join):
   - id_denuncia: int
   - motivo: str (descrição da denúncia)
   - status: str ('pendente', 'em_analise', 'resolvida', 'rejeitada')
   - data_denuncia: datetime
   - nome_usuario: str (quem fez a denúncia)

   GRUPO DE BOTÕES:
   - btn-group: Agrupa botões lado a lado (Bootstrap)
   - btn-group-sm: Versão pequena dos botões
   - role="group": Acessibilidade

   MÚLTIPLOS FORMS NA MESMA CÉLULA:
   Cada ação tem seu próprio form com:
   - mesmo id_denuncia
   - novo_status diferente conforme ação
   - forms inline (não quebram layout)

   AÇÕES DISPONÍVEIS:
   1. Analisar: Muda status para 'em_analise'
   2. Resolver: Muda status para 'resolvida'
   3. Rejeitar: Muda status para 'rejeitada'
   4. Excluir: Remove permanentemente do banco

   EXEMPLO DE REFERÊNCIA:
   Ver listar_chamados.html para filtros e badges
   Ver moderar_comentarios.html para confirmação de exclusão

   ATENÇÃO:
   - Cada botão é um form separado (permite POST para ações diferentes)
   - Confirmação JavaScript apenas no botão de excluir
   - Campo novo_status determina a ação no backend
#}

{# Seu código HTML aqui #}

```

# templates/admin/listar_verificacao_crmv.html

```html
{# TODO: Listagem de Verificações de CRMV

   DESCRIÇÃO:
   Tabela com solicitações de verificação de CRMV de veterinários.
   Admin pode aprovar ou rejeitar para dar selo verificado.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Título: "Verificações de CRMV"

   2. BOTÕES DE FILTRO:
      <div class="btn-group mb-3" role="group">
        <a href="?status=todos" class="btn btn-outline-roxo">Todas</a>
        <a href="?status=pendente" class="btn btn-outline-warning">Pendentes</a>
        <a href="?status=aprovado" class="btn btn-outline-success">Aprovadas</a>
        <a href="?status=rejeitado" class="btn btn-outline-danger">Rejeitadas</a>
      </div>

   3. TABELA RESPONSIVA:
      Colunas: ID | Veterinário | CRMV | Status | Data Solicitação | Ações

   4. LOOP PELAS VERIFICAÇÕES:
      {% for verificacao in verificacoes %}
      <tr>
        <td>{{ verificacao.id_verificacao_crmv }}</td>
        <td>
          {{ verificacao.nome_veterinario }}<br>
          <small class="text-muted">{{ verificacao.email_veterinario }}</small>
        </td>
        <td>
          <span class="badge bg-secondary">{{ verificacao.crmv }}</span>
        </td>
        <td>
          {% if verificacao.status_verificacao == 'pendente' %}
            <span class="badge bg-warning">Pendente</span>
          {% elif verificacao.status_verificacao == 'aprovado' %}
            <span class="badge bg-success">Aprovado</span>
          {% elif verificacao.status_verificacao == 'rejeitado' %}
            <span class="badge bg-danger">Rejeitado</span>
          {% else %}
            <span class="badge bg-info">Em Análise</span>
          {% endif %}
        </td>
        <td>{{ verificacao.data_verificacao | data_br }}</td>
        <td>
          {% if verificacao.status_verificacao == 'pendente' %}
          <a href="/administrador/responder_verificacao_crmv/{{ verificacao.id_verificacao_crmv }}"
             class="btn btn-sm btn-outline-roxo">
            Analisar
          </a>
          {% else %}
          <span class="text-muted">Processado</span>
          {% endif %}
        </td>
      </tr>
      {% endfor %}

   5. MENSAGEM SE VAZIO:
      {% if verificacoes|length == 0 %}
      <tr>
        <td colspan="6" class="text-center">Nenhuma solicitação encontrada.</td>
      </tr>
      {% endif %}

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - verificacoes: Lista de objetos VerificacaoCRMV (com join de veterinario e usuario)

   ATRIBUTOS DO VerificacaoCRMV (com joins):
   - id_verificacao_crmv: int
   - status_verificacao: str ('pendente', 'aprovado', 'rejeitado', 'em_analise')
   - data_verificacao: datetime (data da solicitação)
   - nome_veterinario: str (via join)
   - email_veterinario: str (via join)
   - crmv: str (número do CRMV do veterinário)

   CONDICIONAL DE AÇÕES:
   - Se status == 'pendente': Mostrar botão "Analisar"
   - Se status != 'pendente': Mostrar "Processado" (não pode mais alterar)

   INFORMAÇÃO ADICIONAL:
   - Nome e email em linhas separadas usando <br>
   - Email em small.text-muted para destaque menor
   - CRMV em badge secundário para destaque

   EXEMPLO DE REFERÊNCIA:
   Ver listar_chamados.html para estrutura similar
   Ver listar_denuncias.html para filtros por status

   ATENÇÃO:
   - Botão "Analisar" leva para página de detalhes (responder_verificacao_crmv.html)
   - Apenas verificações pendentes podem ser processadas
   - Após aprovação/rejeição, não mostrar botão (já processado)
#}

{# Seu código HTML aqui #}

```

# templates/admin/moderar_comentarios.html

```html
{# TODO: Moderação de Comentários

   DESCRIÇÃO:
   Tabela com todos os comentários de artigos para moderação.
   Admin pode visualizar e excluir comentários inapropriados.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Título: "Moderar Comentários"

   2. TABELA RESPONSIVA:
      Colunas: ID | Usuário | Artigo | Comentário | Data | Ações

   3. LOOP PELOS COMENTÁRIOS:
      {% for comentario in comentarios %}
      <tr>
        <td>{{ comentario.id_comentario_artigo }}</td>
        <td>{{ comentario.nome_usuario }}</td>
        <td>
          <a href="/artigos/{{ comentario.id_postagem_artigo }}" target="_blank">
            {{ comentario.titulo_artigo[:50] }}...
          </a>
        </td>
        <td>{{ comentario.texto[:100] }}{% if comentario.texto|length > 100 %}...{% endif %}</td>
        <td>{{ comentario.data_comentario | data_hora_br }}</td>
        <td>
          <form method="post" action="/administrador/excluir_comentario" style="display: inline;">
            <input type="hidden" name="id_comentario" value="{{ comentario.id_comentario_artigo }}">
            <button type="submit" class="btn btn-sm btn-outline-danger"
                    onclick="return confirm('Deseja realmente excluir este comentário?')">
              <i class="bi bi-trash"></i> Excluir
            </button>
          </form>
        </td>
      </tr>
      {% endfor %}

   4. MENSAGEM SE VAZIO:
      {% if comentarios|length == 0 %}
      <tr>
        <td colspan="6" class="text-center">Nenhum comentário encontrado.</td>
      </tr>
      {% endif %}

   5. PAGINAÇÃO (OPCIONAL):
      Se houver muitos comentários, adicionar componente de paginação:
      {% if total_paginas > 1 %}
        {% set url_base = '/administrador/moderar_comentarios' %}
        {% include "componentes/paginacao.html" %}
      {% endif %}

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - comentarios: Lista de objetos ComentarioArtigo (com joins de usuario e artigo)

   ATRIBUTOS DO ComentarioArtigo (com joins):
   - id_comentario_artigo: int
   - texto: str (o comentário)
   - data_comentario: datetime
   - nome_usuario: str (via join)
   - id_postagem_artigo: int
   - titulo_artigo: str (via join)

   TÉCNICAS JINJA2:
   - [:50]: Slice para limitar texto (primeiros 50 caracteres)
   - |length: Retorna tamanho da string
   - {% if texto|length > 100 %}: Condicional para adicionar "..."

   CONFIRMAÇÃO JAVASCRIPT:
   - onclick="return confirm('...')" pergunta antes de excluir
   - Se usuário cancelar, o form não é enviado
   - É uma proteção adicional contra exclusão acidental

   LINK PARA ARTIGO:
   - target="_blank" abre em nova aba
   - Permite admin ver contexto do comentário

   EXEMPLO DE REFERÊNCIA:
   Ver listar_categorias.html para estrutura de tabela
   Ver listar_chamados.html para badges e formatação

   ATENÇÃO:
   - Botão de excluir tem confirmação JavaScript
   - Form é inline (style="display: inline;") para não quebrar layout
   - Texto do comentário pode ser muito longo, usar slice [:100]
#}

{# Seu código HTML aqui #}

```

# templates/admin/responder_chamado.html

```html
{# TODO: Responder Chamado de Suporte

   DESCRIÇÃO:
   Página para visualizar detalhes de um chamado e adicionar respostas.
   Exibe histórico de respostas anteriores.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Título: "Chamado #{{ chamado.id_chamado }}"

   2. CARD COM INFORMAÇÕES DO CHAMADO:
      <div class="card mb-4">
        <div class="card-header bg-roxo text-white">
          <h5>{{ chamado.titulo }}</h5>
        </div>
        <div class="card-body">
          <p><strong>Usuário:</strong> {{ chamado.nome_usuario }}</p>
          <p><strong>Email:</strong> {{ chamado.email_usuario }}</p>
          <p><strong>Data:</strong> {{ chamado.data | data_br }}</p>
          <p><strong>Status:</strong>
            <span class="badge bg-{{ 'warning' if chamado.status == 'aberto' else 'info' }}">
              {{ chamado.status|capitalize }}
            </span>
          </p>
          <hr>
          <p><strong>Descrição:</strong></p>
          <p>{{ chamado.descricao }}</p>
        </div>
      </div>

   3. HISTÓRICO DE RESPOSTAS (se houver):
      {% if respostas %}
      <h4>Respostas</h4>
      {% for resposta in respostas %}
      <div class="card mb-3">
        <div class="card-header">
          <strong>{{ resposta.titulo }}</strong>
          <small class="text-muted float-end">{{ resposta.data | data_hora_br }}</small>
        </div>
        <div class="card-body">
          {{ resposta.descricao }}
        </div>
      </div>
      {% endfor %}
      {% endif %}

   4. FORMULÁRIO DE NOVA RESPOSTA (se não resolvido):
      {% if chamado.status != 'resolvido' %}
      <h4 class="mt-4">Nova Resposta</h4>
      <form method="post" action="/administrador/responder_chamado">
        <input type="hidden" name="id_chamado" value="{{ chamado.id_chamado }}">

        <div class="mb-3">
          <label class="form-label">Título</label>
          <input type="text" name="titulo" class="form-control" required>
        </div>

        <div class="mb-3">
          <label class="form-label">Descrição</label>
          <textarea name="descricao" class="form-control" rows="5" required></textarea>
        </div>

        <button type="submit" class="btn btn-roxo">Enviar Resposta</button>
      </form>

   5. BOTÃO PARA FECHAR CHAMADO:
      <form method="post" action="/administrador/fechar_chamado" class="mt-3">
        <input type="hidden" name="id_chamado" value="{{ chamado.id_chamado }}">
        <button type="submit" class="btn btn-success">
          Marcar como Resolvido
        </button>
      </form>
      {% endif %}

   6. LINK PARA VOLTAR:
      <a href="/administrador/listar_chamados" class="btn btn-outline-secondary mt-3">
        Voltar para Lista
      </a>

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - chamado: Objeto Chamado (com dados de usuário via join)
   - respostas: Lista de objetos RespostaChamado (pode ser vazia)

   FILTROS JINJA2:
   - data_br: Formato dd/mm/yyyy
   - data_hora_br: Formato dd/mm/yyyy HH:MM
   - capitalize: Primeira letra maiúscula

   CONDICIONAL IMPORTANTE:
   - Se status == 'resolvido', NÃO mostrar formulário de resposta
   - Usar {% if chamado.status != 'resolvido' %}

   CLASSES CSS:
   - bg-roxo: Background roxo (definido em base.css)
   - text-white: Texto branco (Bootstrap)
   - float-end: Alinha à direita (Bootstrap 5)

   EXEMPLO DE REFERÊNCIA:
   Ver templates/publico/detalhes_artigo.html para estrutura de cards

   ATENÇÃO:
   - Campo hidden com id_chamado é obrigatório em ambos os forms
   - Histórico de respostas pode estar vazio ({% if respostas %})
   - Form de fechar é separado do form de responder
#}

{# Seu código HTML aqui #}

```

# templates/admin/responder_verificacao_crmv.html

```html
{# TODO: Responder Solicitação de Verificação CRMV

   DESCRIÇÃO:
   Página para admin aprovar ou rejeitar verificação de CRMV de veterinário.
   Exibe dados do veterinário e formulário de decisão.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Título: "Verificar CRMV - {{ verificacao.nome_veterinario }}"

   2. CARD COM DADOS DO VETERINÁRIO:
      <div class="card mb-4">
        <div class="card-header bg-verde text-white">
          <h5>Solicitação de Verificação CRMV</h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-3">
              <img src="/static/img/usuarios/{{ '%08d' % verificacao.id_veterinario }}.jpg"
                   class="avatar-lg"
                   onerror="this.src='/static/img/default-avatar.jpg'">
            </div>
            <div class="col-md-9">
              <p><strong>Nome:</strong> {{ verificacao.nome_veterinario }}</p>
              <p><strong>Email:</strong> {{ verificacao.email_veterinario }}</p>
              <p><strong>CRMV:</strong>
                <span class="badge bg-secondary fs-5">{{ verificacao.crmv }}</span>
              </p>
              <p><strong>Data da Solicitação:</strong> {{ verificacao.data_verificacao | data_br }}</p>
              <p><strong>Status Atual:</strong>
                <span class="badge bg-warning">{{ verificacao.status_verificacao|capitalize }}</span>
              </p>
            </div>
          </div>
        </div>
      </div>

   3. INFORMAÇÕES IMPORTANTES:
      <div class="alert alert-info">
        <strong>Atenção:</strong> Verifique o número do CRMV em fontes oficiais antes de aprovar.
        A aprovação concede selo verificado ao veterinário.
      </div>

   4. FORMULÁRIO DE DECISÃO:
      <div class="card">
        <div class="card-body">
          <h5>Sua Decisão</h5>
          <form method="post" action="/administrador/responder_verificacao_crmv">
            <input type="hidden" name="id_verificacao" value="{{ verificacao.id_verificacao_crmv }}">

            <div class="mb-3">
              <label class="form-label">Selecione a ação:</label>

              <div class="form-check">
                <input class="form-check-input" type="radio" name="status_verificacao"
                       id="aprovar" value="aprovado" required>
                <label class="form-check-label" for="aprovar">
                  <strong class="text-success">Aprovar</strong> - Conceder selo verificado
                </label>
              </div>

              <div class="form-check">
                <input class="form-check-input" type="radio" name="status_verificacao"
                       id="rejeitar" value="rejeitado" required>
                <label class="form-check-label" for="rejeitar">
                  <strong class="text-danger">Rejeitar</strong> - CRMV inválido ou não verificado
                </label>
              </div>
            </div>

            <button type="submit" class="btn btn-roxo">Confirmar Decisão</button>
            <a href="/administrador/listar_verificacao_crmv" class="btn btn-outline-secondary">
              Cancelar
            </a>
          </form>
        </div>
      </div>

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - verificacao: Objeto VerificacaoCRMV (com join de veterinario e usuario)

   ATRIBUTOS DO verificacao (com joins):
   - id_verificacao_crmv: int
   - id_veterinario: int
   - status_verificacao: str (geralmente 'pendente' nesta página)
   - data_verificacao: datetime
   - nome_veterinario: str
   - email_veterinario: str
   - crmv: str

   RADIO BUTTONS:
   - type="radio" permite apenas UMA seleção
   - name deve ser igual em ambos: "status_verificacao"
   - value será enviado: "aprovado" ou "rejeitado"
   - required garante que uma opção seja selecionada

   ESTRUTURA DO FORM-CHECK (Bootstrap):
   <div class="form-check">
     <input class="form-check-input" type="radio" ...>
     <label class="form-check-label" for="...">Texto</label>
   </div>

   CLASSES CSS:
   - bg-verde: Background verde (tema do projeto)
   - avatar-lg: Avatar 150x150px
   - fs-5: Font size 5 (Bootstrap) para CRMV maior
   - text-success: Verde para "Aprovar"
   - text-danger: Vermelho para "Rejeitar"

   EXEMPLO DE REFERÊNCIA:
   Ver responder_chamado.html para estrutura de card com dados
   Ver templates/publico/cadastro.html para radio buttons

   ATENÇÃO:
   - Campo hidden com id_verificacao é obrigatório
   - Radio buttons devem ter required para obrigar seleção
   - Avatar do veterinário com fallback
#}

{# Seu código HTML aqui #}

```

# templates/base_publica.html

```html
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VetConecta :: {% block title %}{% endblock %}</title>

    <!-- Bootstrap 5.3.8 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Estilos Customizados -->
    <link href="/static/css/base.css" rel="stylesheet">

    {% block head %}{% endblock %}
</head>

<body class="d-flex flex-column min-vh-100">
    <!-- Cabeçalho -->
    <header>
        <!-- Navbar Principal -->
        <nav class="navbar navbar-expand-sm p-0">
            <div class="container-fluid d-flex flex-column px-0">
                <div class="row w-100 align-items-center justify-content-center bg-bege-claro p-4">
                    <!-- Logo -->
                    <a class="d-flex justify-content-center align-items-center text-decoration-none" href="/">
                        <img src="/static/img/logos/logo-vetconecta-color.svg" alt="Logo VetConecta" height="70">
                        <img src="/static/img/logos/nome-vetconecta-color.svg" alt="Nome VetConecta" height="35"
                            class="ms-2">
                    </a>
                </div>
                <div class="row w-100 align-items-center bg-roxo p-4">
                    <!-- Coluna Esquerda: Link "Quem Somos" -->
                    <div class="col-12 col-lg-3 text-center text-lg-start">
                        <div class="d-flex justify-content-center justify-content-lg-start gap-3">
                            <a href="/artigos" class="text-decoration-none text-white">Artigos</a>
                            <span class="text-white">|</span>
                            <a href="/petgram" class="text-decoration-none text-white">Petgram</a>
                            <span class="text-white">|</span>
                            <a href="/quemsomos" class="text-decoration-none text-white">Quem Somos</a>
                        </div>
                    </div>

                    <!-- Coluna Central: Logo e Barra de Pesquisa -->
                    <div class="col-12 col-lg-6 text-center my-3 my-lg-0">
                        <!-- Barra de Pesquisa -->
                        <form class="d-flex justify-content-center" role="search">
                            <div class="input-group content-container">
                                <input class="form-control rounded-0 border-0" type="search"
                                    placeholder="O que seu pet necessita?" aria-label="Pesquisar">
                                <button class="btn btn-light rounded-0 border-0" type="submit">
                                    <i class="bi bi-search"></i>
                                </button>
                            </div>
                        </form>
                    </div>

                    <!-- Coluna Direita: Ícone de Usuário -->
                    <div class="col-12 col-lg-3 text-center text-lg-end">
                        {% if request.session.get('usuario') %}
                        <!-- Dropdown do Usuário Logado -->
                        <div class="dropdown d-inline-block">
                            <button class="btn btn-link p-0 rounded-circle border-bege-claro border-3" type="button" id="dropdownUsuario"
                                data-bs-toggle="dropdown" aria-expanded="false">
                                <img src="/static/img/usuarios/{{ '%08d' % request.session.get('usuario').id }}.jpg"
                                    alt="Avatar" class="avatar-md"
                                    onerror="this.src='/static/img/default-avatar.jpg'">
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownUsuario">
                                <li><a class="dropdown-item" href="/perfil">Meu Perfil</a></li>
                                <li>
                                    <hr class="dropdown-divider">
                                </li>
                                <li><a class="dropdown-item" href="/logout">Sair</a></li>
                            </ul>
                        </div>
                        {% else %}
                        <!-- Links para Usuário não Logado -->
                        <div class="d-flex justify-content-center justify-content-lg-end gap-3">
                            <a href="/login" class="text-decoration-none text-white">Login</a>
                            <span class="text-white">|</span>
                            <a href="/cadastro" class="text-decoration-none text-white">Cadastre-se</a>
                        </div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Container para Toasts -->
    <div id="toast-container" class="toast-container position-fixed bottom-0 end-0 p-3 toast-offset"></div>

    <!-- Área de Conteúdo Principal -->
    <main class="d-flex flex-column flex-grow-1 bg-degrade-home py-5">
        {% block conteudo %}
        {% endblock %}
    </main>

    <!-- Rodapé -->
    <footer class="bg-bege-claro text-center py-5 mt-auto">
        <div class="container">
            <!-- Título do Rodapé -->
            <h5 class="footer-text fw-semibold mb-4">
                VetConecta: cuidar é se informar!
            </h5>

            <!-- Logo no Rodapé -->
            <div class="d-flex justify-content-center align-items-center mb-4">
                <img src="/static/img/logos/logo-vetconecta-color.svg" alt="Logo VetConecta" height="60" class="me-2">
                <img src="/static/img/logos/nome-vetconecta-color.svg" alt="Nome VetConecta" height="30" class="me-3">
            </div>

            <!-- Informações Legais -->
            <div class="footer-text">
                <p class="mb-2">
                    Informações seguras - A VetConecta garante segurança nas informações prestadas
                </p>
                <p class="mb-0">
                    Copyright 2025 © Todos os direitos reservados à VetConecta
                </p>
            </div>
        </div>
    </footer>

    <!-- Dados de mensagens (hidden) -->
    <script id="mensagens-data" type="application/json">
        {{ obter_mensagens(request) | tojson }}
    </script>

    <!-- Bootstrap 5.3.8 JavaScript Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Script de Toasts -->
    <script src="/static/js/toasts.js"></script>

    {% block scripts %}{% endblock %}
</body>

</html>
```

# templates/componentes/artigo_card.html

```html
{#
  Componente de Card de Artigo

  Espera a variável 'artigo' no contexto com os campos:
  - id_postagem_artigo
  - id_veterinario
  - titulo
  - data_publicacao
  - nome_veterinario
  - nome_categoria
  - cor_categoria
  - id_categoria_artigo
  - visualizacoes (opcional)
  - total_curtidas (opcional)
#}

<a href="/artigos/{{ artigo.id_postagem_artigo }}" class="text-decoration-none">
    <div class="card card-hover-effect h-100 border-0 shadow-sm rounded-4 overflow-hidden" style="background-color: {{ artigo.cor_categoria }};">
        <!-- Imagem do Artigo -->
        <div class="p-4 pb-0">
            <img src="/static/img/artigos/{{ '%08d' % artigo.id_postagem_artigo }}.jpg"
                 class="card-img-top rounded-top-3 img-card-top"
                 alt="{{ artigo.titulo }}"
                 onerror="this.src='/static/img/categorias/{{ '%02d' % artigo.id_categoria_artigo }}.jpg'">
        </div>

        <!-- Corpo do Card -->
        <div class="card-body text-white d-flex flex-column p-4">
            <!-- Cabeçalho: Avatar + Nome + Badge Categoria -->
            <div class="d-flex align-items-center mb-3">
                <!-- Avatar do Veterinário -->
                <img src="/static/img/usuarios/{{ '%08d' % artigo.id_veterinario }}.jpg"
                     alt="{{ artigo.nome_veterinario }}"
                     class="avatar-sm me-2"
                     onerror="this.src='/static/img/default-avatar.jpg'">

                <!-- Nome e Badge -->
                <div class="flex-grow-1">
                    <div class="fw-bold small mb-1">{{ artigo.nome_veterinario }}</div>
                    <span class="badge rounded-pill px-2 py-1 badge-transparent" style="font-size: 0.75rem;">
                        {{ artigo.nome_categoria }}
                    </span>
                </div>
            </div>

            <!-- Título -->
            <h6 class="card-title fw-bold mb-2 title-article">
                {{ artigo.titulo[:65] }}{% if artigo.titulo|length > 65 %}...{% endif %}
            </h6>

            <!-- Data -->
            <p class="card-text mb-3 small">
                <i class="bi bi-calendar3 me-1"></i>
                {{ artigo.data_publicacao | data_br }}
            </p>

            <!-- Footer: Estatísticas -->
            <div class="d-flex justify-content-start gap-3 mt-auto border-top border-white border-opacity-25 pt-2">
                <!-- Visualizações -->
                {% if artigo.visualizacoes is defined %}
                <span class="small">
                    <i class="bi bi-eye-fill me-1"></i>
                    {{ artigo.visualizacoes }}
                </span>
                {% endif %}

                <!-- Curtidas -->
                {% if artigo.total_curtidas is defined %}
                <span class="small">
                    <i class="bi bi-heart-fill me-1"></i>
                    {{ artigo.total_curtidas }}
                </span>
                {% endif %}

                <!-- Comentários (placeholder) -->
                <span class="small">
                    <i class="bi bi-chat-fill me-1"></i>
                    0
                </span>
            </div>
        </div>
    </div>
</a>

```

# templates/componentes/artigos_recentes.html

```html
<!-- Seção Artigos Recentes -->
<div class="container">
    <!-- Título -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="fw-bold text-dark">
                <i class="bi bi-file-post me-2"></i>
                Artigos recentes
            </h2>
            <p class="text-muted">Últimos artigos postados pelos veterinários da comunidade</p>
        </div>
    </div>

    <!-- Grid de Cards -->
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 mb-5">
        {% for artigo in artigos_recentes %}
        <div class="col artigo-card">
            {% include "componentes/artigo_card.html" %}
        </div>
        {% endfor %}
    </div>

    <!-- Botão Ver Mais -->
    <div class="row">
        <div class="col-12 text-center">
            <a href="/artigos" class="btn btn-lg rounded-pill px-5 py-3 shadow-sm"
               style="background-color: #f5f5f5; color: #333; font-weight: 500; font-size: 1.25rem;">
                Ver Mais Artigos Interessantes
            </a>
        </div>
    </div>
</div>
```

# templates/componentes/banner_carousel.html

```html
<!-- Carousel de Banners -->
<div class="container">
    <div id="carouselBanners" class="carousel slide mb-5" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselBanners" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Banner 1"></button>
            <button type="button" data-bs-target="#carouselBanners" data-bs-slide-to="1" aria-label="Banner 2"></button>
            <button type="button" data-bs-target="#carouselBanners" data-bs-slide-to="2" aria-label="Banner 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="/static/img/banners/banner1.jpg" class="d-block w-100" alt="Banner 1">
            </div>
            <div class="carousel-item">
                <img src="/static/img/banners/banner2.jpg" class="d-block w-100" alt="Banner 2">
            </div>
            <div class="carousel-item">
                <img src="/static/img/banners/banner3.jpg" class="d-block w-100" alt="Banner 3">
            </div>
        </div>
        <button class="carousel-control-prev justify-content-start" type="button" data-bs-target="#carouselBanners"
            data-bs-slide="prev">
            <span
                class="carousel-control-prev-icon bg-img-none rounded-circle fs-3 p-4 bg-light text-black d-flex align-items-center justify-content-center ms-3"
                aria-hidden="true">
                <i class="bi bi-chevron-left"></i>
            </span>
            <span class="visually-hidden">Anterior</span>
        </button>
        <button class="carousel-control-next justify-content-end" type="button" data-bs-target="#carouselBanners"
            data-bs-slide="next">
            <span
                class="carousel-control-next-icon bg-img-none rounded-circle fs-3 p-4 bg-light text-black d-flex align-items-center justify-content-center me-3"
                aria-hidden="true">
                <i class="bi bi-chevron-right"></i>
            </span>
            <span class="visually-hidden">Próximo</span>
        </button>
    </div>
</div>
```

# templates/componentes/categorias_carousel.html

```html
<!-- Carousel de Categorias de Artigos -->
<div class="container">
    <div class="mb-5 position-relative">
        <div class="overflow-hidden">
            <div class="row row-cols-2 row-cols-md-3 row-cols-lg-6 g-5" id="categoriasTrack">
                {% for categoria in categorias %}
                <div class="col">
                    <a href="/artigos?categoria={{ categoria.id_categoria_artigo }}" class="text-decoration-none">
                        <div class="card h-100 bg-transparent border-0 text-center">
                            <img src="/static/img/categorias/{{ '%02d' % categoria.id_categoria_artigo }}.jpg"
                                class="card-img-top rounded-circle p-2" alt="{{ categoria.nome }}"
                                style="object-fit: cover; aspect-ratio: 1/1;">
                            <span
                                class="bg-bege text-dark fw-bold text-center fs-5 p-2 w-100 mx-auto rounded-pill my-3">
                                {{ categoria.nome }}
                            </span>
                        </div>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
```

# templates/componentes/paginacao.html

```html
{#
  Componente de Paginação com Links Rotativos

  Parâmetros obrigatórios:
  - pagina: número da página atual
  - total_paginas: total de páginas disponíveis
  - url_base: URL base para os links (ex: '/artigos')

  Parâmetros opcionais:
  - params: dict com parâmetros adicionais para a URL (ex: {'categoria': 1})
#}

{% if total_paginas > 1 %}
<nav class="pagination-vetconecta" aria-label="Navegação de páginas">
    <ul class="pagination justify-content-center gap-2 mb-0">
        <!-- Botão Primeira Página -->
        <li class="page-item {% if pagina == 1 %}disabled{% endif %}">
            {% if pagina == 1 %}
                <span class="page-link">
                    <i class="bi bi-chevron-bar-left"></i>
                </span>
            {% else %}
                <a class="page-link"
                   href="{{ url_base }}?pagina=1{% if params %}{% for key, value in params.items() %}&{{ key }}={{ value }}{% endfor %}{% endif %}"
                   aria-label="Primeira página">
                    <i class="bi bi-chevron-bar-left"></i>
                </a>
            {% endif %}
        </li>

        <!-- Botão Anterior -->
        <li class="page-item {% if pagina == 1 %}disabled{% endif %}">
            {% if pagina == 1 %}
                <span class="page-link">
                    <i class="bi bi-chevron-left"></i>
                </span>
            {% else %}
                <a class="page-link"
                   href="{{ url_base }}?pagina={{ pagina - 1 }}{% if params %}{% for key, value in params.items() %}&{{ key }}={{ value }}{% endfor %}{% endif %}"
                   aria-label="Página anterior">
                    <i class="bi bi-chevron-left"></i>
                </a>
            {% endif %}
        </li>

        <!-- Links Numéricos Rotativos (2 anteriores + atual + 2 posteriores) -->
        {% set inicio = [1, pagina - 2]|max %}
        {% set fim = [total_paginas, pagina + 2]|min %}

        {# Ajustar para sempre mostrar 5 páginas quando possível #}
        {% if fim - inicio < 4 %}
            {% if pagina <= 3 %}
                {% set fim = [total_paginas, 5]|min %}
            {% elif pagina > total_paginas - 3 %}
                {% set inicio = [1, total_paginas - 4]|max %}
            {% endif %}
        {% endif %}

        {% for num in range(inicio, fim + 1) %}
            <li class="page-item {% if num == pagina %}active{% endif %}">
                {% if num == pagina %}
                    <span class="page-link bg-roxo border-roxo">{{ num }}</span>
                {% else %}
                    <a class="page-link"
                       href="{{ url_base }}?pagina={{ num }}{% if params %}{% for key, value in params.items() %}&{{ key }}={{ value }}{% endfor %}{% endif %}">
                        {{ num }}
                    </a>
                {% endif %}
            </li>
        {% endfor %}

        <!-- Botão Próxima -->
        <li class="page-item {% if pagina >= total_paginas %}disabled{% endif %}">
            {% if pagina >= total_paginas %}
                <span class="page-link">
                    <i class="bi bi-chevron-right"></i>
                </span>
            {% else %}
                <a class="page-link"
                   href="{{ url_base }}?pagina={{ pagina + 1 }}{% if params %}{% for key, value in params.items() %}&{{ key }}={{ value }}{% endfor %}{% endif %}"
                   aria-label="Próxima página">
                    <i class="bi bi-chevron-right"></i>
                </a>
            {% endif %}
        </li>

        <!-- Botão Última Página -->
        <li class="page-item {% if pagina >= total_paginas %}disabled{% endif %}">
            {% if pagina >= total_paginas %}
                <span class="page-link">
                    <i class="bi bi-chevron-bar-right"></i>
                </span>
            {% else %}
                <a class="page-link"
                   href="{{ url_base }}?pagina={{ total_paginas }}{% if params %}{% for key, value in params.items() %}&{{ key }}={{ value }}{% endfor %}{% endif %}"
                   aria-label="Última página">
                    <i class="bi bi-chevron-bar-right"></i>
                </a>
            {% endif %}
        </li>
    </ul>
</nav>
{% endif %}

```

# templates/componentes/petgram_card.html

```html
{#
  Espera a variável 'post' no contexto com os campos:
  - id_postagem_feed
  - id_tutor
  - descricao
  - data_postagem
  - nome_tutor
  - quantidade_pets
  - total_curtidas
#}

<a href="/petgram/{{ post.id_postagem_feed }}" class="text-decoration-none">
    <div class="card h-100 border-roxo border-5 bg-white bg-opacity-50 shadow-sm rounded-4 petgram-card">
        <!-- Imagem do Post com Padding -->
        <div class="p-4 pb-0">
            <img src="/static/img/feeds/{{ '%08d' % post.id_postagem_feed }}.jpg"
                 class="card-img-top rounded-top-3"
                 alt="Post de {{ post.nome_tutor }}">
        </div>

        <!-- Corpo do Card -->
        <div class="card-body d-flex flex-column p-4">
            <!-- Cabeçalho: Avatar + Nome + Badge -->
            <div class="d-flex align-items-center mb-2">
                <!-- Avatar do Tutor -->
                <img src="/static/img/usuarios/{{ '%08d' % post.id_tutor }}.jpg"
                     alt="{{ post.nome_tutor }}"
                     class="avatar-sm me-2"
                     onerror="this.src='/static/img/default-avatar.jpg'">

                <!-- Nome e Badge -->
                <div class="flex-grow-1">
                    <div class="fw-bold text-dark small">{{ post.nome_tutor }}</div>
                    <span class="badge bg-secondary small">
                        <i class="bi bi-heart-fill me-1"></i>{{ post.quantidade_pets }} pet{{ 's' if post.quantidade_pets != 1 else '' }}
                    </span>
                </div>
            </div>

            <!-- Data e Hora -->
            <p class="text-muted small mb-2">
                <i class="bi bi-calendar3 me-1"></i>
                {{ post.data_postagem | data_hora_br }}
            </p>

            <!-- Descrição (truncada) -->
            <p class="card-text text-dark mb-3 flex-grow-1">
                {{ post.descricao[:100] }}{% if post.descricao|length > 100 %}...{% endif %}
            </p>

            <!-- Footer: Curtidas e Comentários -->
            <div class="d-flex justify-content-start gap-3 mt-auto border-top pt-2">
                <!-- Curtidas -->
                <span class="text-muted small">
                    <i class="bi bi-heart-fill text-danger me-1"></i>
                    {{ post.total_curtidas }}
                </span>

                <!-- Comentários (placeholder) -->
                <span class="text-muted small">
                    <i class="bi bi-chat-fill text-primary me-1"></i>
                    0
                </span>

                <!-- Visualizações -->
                <span class="text-muted small">
                    <i class="bi bi-eye-fill text-success me-1"></i>
                    {{ post.visualizacoes }}
                </span>
            </div>
        </div>
    </div>
</a>

```

# templates/componentes/petgram_recentes.html

```html
<!-- Seção Petgram Recentes -->
<div class="container mb-5">
    <!-- Título -->
    <div class="row mb-4">
        <div class="col-12">
            <h2 class="fw-bold text-dark">
                <i class="bi bi-instagram me-2"></i>
                <span class="text-rosa">Pet</span><span class="text-roxo">gram</span>
            </h2>
            <p class="text-muted">Últimos posts dos tutores sobre seus pets</p>
        </div>
    </div>

    <!-- Grid de Cards -->
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5 mb-5">
        {% for post in posts_recentes %}
        <div class="col">
            {% include "componentes/petgram_card.html" %}
        </div>
        {% endfor %}
    </div>

    <!-- Botão Ver Mais -->
    <div class="row">
        <div class="col-12 text-center">
            <a href="/petgram" class="btn btn-lg rounded-pill px-5 py-3 shadow-sm bg-light text-dark fw-medium">
                Ver Mais Posts do Petgram
            </a>
        </div>
    </div>
</div>
```

# templates/publico/alterar_senha.html

```html
{# TODO: Template de Alteração de Senha

   DESCRIÇÃO:
   Formulário para o usuário alterar sua senha.
   Requer senha atual, nova senha e confirmação.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Definir {% block titulo %}Alterar Senha{% endblock %}
      - Container centralizado: col-md-6

   2. TÍTULO:
      - <h2 class="mb-4">Alterar Senha</h2>

   3. EXIBIR MENSAGENS:
      - Mensagem de erro (se existir):
        {% if erro %}
          <div class="alert alert-danger">{{ erro }}</div>
        {% endif %}

      - Mensagem de sucesso (se existir):
        {% if sucesso %}
          <div class="alert alert-success">{{ sucesso }}</div>
        {% endif %}

   4. FORMULÁRIO:
      - method="post" action="/perfil/alterar-senha"

   5. CAMPOS DO FORMULÁRIO (3 campos):

      a) Senha Atual:
         - Label: "Senha Atual"
         - Input: type="password" name="senha_atual" required

      b) Nova Senha:
         - Label: "Nova Senha"
         - Input: type="password" name="senha_nova" required
         - Small text: "Mínimo 6 caracteres"
         - Classe small: <small class="form-text text-muted">

      c) Confirmar Nova Senha:
         - Label: "Confirmar Nova Senha"
         - Input: type="password" name="confirmar_senha" required

   6. BOTÕES DE AÇÃO:
      - Salvar: <button type="submit" class="btn btn-roxo">Alterar Senha</button>
      - Cancelar: <a href="/perfil" class="btn btn-outline-secondary">Cancelar</a>

   7. ESTRUTURA RECOMENDADA:
      <div class="container my-5">
        <div class="row justify-content-center">
          <div class="col-md-6">
            <!-- Título, alertas e formulário aqui -->
          </div>
        </div>
      </div>

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - erro: String com mensagem de erro (opcional)
   - sucesso: String com mensagem de sucesso (opcional)

   EXEMPLO DE REFERÊNCIA:
   Ver templates/publico/redefinir_senha.html para estrutura similar

   VALIDAÇÕES (feitas no backend):
   - Senha atual deve ser correta
   - Nova senha e confirmação devem coincidir
   - Nova senha deve ter mínimo 6 caracteres

   FLUXO:
   1. Usuário preenche 3 campos
   2. Backend valida (routes/publico/perfil_routes.py linha 160)
   3. Se erro: retorna com mensagem em variável 'erro'
   4. Se sucesso: retorna com mensagem em variável 'sucesso'

   ATENÇÃO:
   - Todos os campos são type="password" (não type="text")
   - Todos os campos são obrigatórios (required)
   - Adicionar dica de "mínimo 6 caracteres" abaixo do campo nova senha
#}

{# Seu código HTML aqui #}

```

# templates/publico/artigos.html

```html
{% extends "base_publica.html" %}

{% block title %}Artigos{% endblock %}

{% block conteudo %}

<div class="container">
    <!-- Título da Página -->
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h1 class="fw-bold text-dark fs-1">
                {% if categoria_selecionada %}
                    Artigos - {{ categoria_selecionada.nome }}
                {% else %}
                    Todos os Artigos
                {% endif %}
            </h1>
        </div>
    </div>

    <!-- Carousel de Categorias -->
    {% include "componentes/categorias_carousel.html" %}

    <!-- Grid de Artigos -->
    {% if artigos %}
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4 g-5 mb-5">
        {% for artigo in artigos %}
        <div class="col">
            {% include "componentes/artigo_card.html" %}
        </div>
        {% endfor %}
    </div>

    <!-- Paginação -->
    <div class="row">
        <div class="col-12">
            {% set url_base = '/artigos' %}
            {% set params = {'categoria': categoria_selecionada.id_categoria_artigo} if categoria_selecionada else {} %}
            {% include "componentes/paginacao.html" %}
        </div>
    </div>

    {% else %}
    <!-- Mensagem quando não há artigos -->
    <div class="row">
        <div class="col-12 text-center py-5">
            <i class="bi bi-file-earmark-text text-muted icon-lg"></i>
            <h4 class="text-muted mt-3">Nenhum artigo encontrado</h4>
            <p class="text-muted">
                {% if categoria_selecionada %}
                Não há artigos nesta categoria ainda.
                {% else %}
                Não há artigos cadastrados no momento.
                {% endif %}
            </p>
            <button class="btn btn-roxo text-white mt-3" onclick="window.history.back();">
                <i class="bi bi-arrow-left me-2"></i>Voltar à Página Anterior
            </button>
        </div>
    </div>
    {% endif %}

    <!-- Botão Voltar -->
    {% if artigos %}
    <div class="row mt-5">
        <div class="col-12 text-center">
            <a href="/" class="btn btn-outline-roxo btn-lg px-5">
                <i class="bi bi-arrow-left me-2"></i>Voltar à Página Anterior
            </a>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}

```

# templates/publico/buscar.html

```html
{# TODO: Template de Resultados de Busca

   DESCRIÇÃO:
   Exibe resultados de busca em artigos ou posts do Petgram.
   Reutiliza componentes existentes (artigo_card.html e petgram_card.html).

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Definir {% block titulo %}Busca: {{ termo }}{% endblock %}
      - Container principal

   2. EXIBIR MENSAGEM DE ERRO (se houver):
      - {% if erro %}
          <div class="alert alert-warning">{{ erro }}</div>
        {% endif %}
      - Exemplo de erro: "Digite pelo menos 3 caracteres para buscar."

   3. SE NÃO HOUVER ERRO, EXIBIR RESULTADOS:

      a) Cabeçalho:
         - <h2>Resultados da busca: "{{ termo }}"</h2>
         - <p class="text-muted">{{ total }} resultado(s) encontrado(s) em {{ tipo }}</p>

      b) Se não houver resultados (total == 0):
         - <div class="alert alert-info">
             Nenhum resultado encontrado. Tente outros termos.
           </div>

      c) Se houver resultados, exibir em grid:
         - <div class="row">
         - Loop pelos resultados com {% for %}

   4. EXIBIR RESULTADOS CONFORME TIPO:

      a) Se tipo == 'artigos':
         {% for artigo in resultados %}
         <div class="col-md-4 mb-4">
           {% include "componentes/artigo_card.html" %}
         </div>
         {% endfor %}

      b) Se tipo == 'petgram':
         {% for post in resultados %}
         <div class="col-md-4 mb-4">
           {% include "componentes/petgram_card.html" %}
         </div>
         {% endfor %}

   5. ESTRUTURA CONDICIONAL COMPLETA:
      {% if erro %}
        <!-- Alerta de erro -->
      {% else %}
        <!-- Título e contador -->

        {% if total == 0 %}
          <!-- Alerta de sem resultados -->
        {% endif %}

        <div class="row">
          {% if tipo == 'artigos' %}
            <!-- Loop artigos -->
          {% elif tipo == 'petgram' %}
            <!-- Loop posts -->
          {% endif %}
        </div>
      {% endif %}

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - termo: String com termo pesquisado (pode ser None se houver erro)
   - tipo: String 'artigos' ou 'petgram'
   - resultados: Lista de objetos (artigos ou posts)
   - total: Inteiro com quantidade de resultados
   - erro: String com mensagem de erro (opcional)

   EXEMPLO DE REFERÊNCIA:
   Ver templates/publico/artigos.html para estrutura de grid com artigos
   Ver templates/publico/petgram.html para estrutura de grid com posts

   COMPONENTES REUTILIZADOS:
   - componentes/artigo_card.html: Requer variável 'artigo'
   - componentes/petgram_card.html: Requer variável 'post'

   ATENÇÃO:
   - Os componentes já estão prontos, apenas incluir com {% include %}
   - Verificar tipo para decidir qual componente usar
   - A variável nos loops deve ter o nome correto: 'artigo' ou 'post'
#}

{# Seu código HTML aqui #}

```

# templates/publico/cadastro.html

```html
{% extends "base_publica.html" %}

{% block title %}Cadastro{% endblock %}

{% block conteudo %}
<div class="d-flex flex-column bg-img-animais flex-grow-1">
    <div class="container d-flex flex-column flex-grow-1">
        <div class="row justify-content-center align-items-center flex-grow-1">
            <div class="col-12 col-md-9 col-lg-7 col-xl-6 col-xxl-5">
                <div class="card shadow-lg rounded-4 border-0 bg-white bg-opacity-75">
                    <div class="card-body p-4 p-md-5 text-center">
                        <!-- Título -->
                        <h5 class="mb-4 fw-semibold fs-2">Cadastro</h5>

                        <!-- Formulário -->
                        <form action="/cadastro" method="post" class="text-start">

                            <!-- Alerta de erro geral -->
                            {% if erros and erros.geral %}
                            <div class="alert alert-danger" role="alert">
                                {{ erros.geral }}
                            </div>
                            {% endif %}

                            <!-- Seleção de perfil -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">Se cadastrar como:</label>
                                <div class="btn-group w-100" role="group" aria-label="Seleção de perfil">
                                    <input type="radio" class="btn-check" name="perfil" id="tutor" value="tutor"
                                        required {% if dados and dados.perfil=='tutor' %}checked{% endif %}>
                                    <label class="btn btn-outline-laranja w-50" for="tutor">Tutor</label>

                                    <input type="radio" class="btn-check" name="perfil" id="veterinario"
                                        value="veterinario" required {% if dados and dados.perfil=='veterinario'
                                        %}checked{% endif %}>
                                    <label class="btn btn-outline-laranja w-50" for="veterinario">Veterinário</label>
                                </div>
                                {% if erros and erros.perfil %}
                                <div class="invalid-feedback d-block">{{ erros.perfil }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo Nome -->
                            <div class="mb-3">
                                <label for="nome" class="form-label fw-bold">Nome</label>
                                <input type="text"
                                    class="form-control {% if erros and erros.nome %}is-invalid{% endif %}" id="nome"
                                    name="nome" value="{{ dados.nome if dados else '' }}" placeholder="Digite seu nome"
                                    required>
                                {% if erros and erros.nome %}
                                <div class="invalid-feedback">{{ erros.nome }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo Email -->
                            <div class="mb-3">
                                <label for="email" class="form-label fw-bold">E-mail</label>
                                <input type="email"
                                    class="form-control {% if erros and erros.email %}is-invalid{% endif %}" id="email"
                                    name="email" value="{{ dados.email if dados else '' }}"
                                    placeholder="Digite seu e-mail" required>
                                {% if erros and erros.email %}
                                <div class="invalid-feedback">{{ erros.email }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo Telefone -->
                            <div class="mb-3">
                                <label for="telefone" class="form-label fw-bold">Telefone</label>
                                <input type="tel"
                                    class="form-control {% if erros and erros.telefone %}is-invalid{% endif %}"
                                    id="telefone" name="telefone" value="{{ dados.telefone if dados else '' }}"
                                    placeholder="Digite seu telefone" required>
                                {% if erros and erros.telefone %}
                                <div class="invalid-feedback">{{ erros.telefone }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo CRMV (somente se Veterinário) -->
                            <div class="mb-3" id="crmv-field" style="display: none;">
                                <label for="crmv" class="form-label fw-bold">CRMV</label>
                                <input type="text"
                                    class="form-control {% if erros and erros.crmv %}is-invalid{% endif %}" id="crmv"
                                    name="crmv" value="{{ dados.crmv if dados else '' }}" placeholder="Digite seu CRMV">
                                {% if erros and erros.crmv %}
                                <div class="invalid-feedback">{{ erros.crmv }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo Senha -->
                            <div class="mb-3">
                                <label for="senha" class="form-label fw-bold">Senha</label>
                                <input type="password"
                                    class="form-control {% if erros and erros.senha %}is-invalid{% endif %}" id="senha"
                                    name="senha" placeholder="Digite sua senha" required>
                                {% if erros and erros.senha %}
                                <div class="invalid-feedback">{{ erros.senha }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo Confirmar Senha -->
                            <div class="mb-3">
                                <label for="confirmar_senha" class="form-label fw-bold">Confirmar Senha</label>
                                <input type="password"
                                    class="form-control {% if erros and erros.confirmar_senha %}is-invalid{% endif %}"
                                    id="confirmar_senha" name="confirmar_senha" placeholder="Confirme sua senha"
                                    required>
                                {% if erros and erros.confirmar_senha %}
                                <div class="invalid-feedback">{{ erros.confirmar_senha }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo Termos -->
                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="termos" name="termos" required {% if
                                    dados and dados.termos %}checked{% endif %}>
                                <label class="form-check-label" for="termos">
                                    Aceito os
                                    <a href="/termos" class="text-primary fw-semibold text-decoration-none">Termos de
                                        privacidade.</a>
                                </label>
                                {% if erros and erros.termos %}
                                <div class="invalid-feedback d-block">{{ erros.termos }}</div>
                                {% endif %}
                            </div>

                            <!-- Botão de Envio do Formulário -->
                            <button type="submit"
                                class="btn bg-laranja text-white w-100 fw-semibold py-2 mb-4 rounded-3">
                                Cadastrar
                            </button>
                        </form>

                        <!-- Link para Login -->
                        <div class="text-center border-top border-laranja pt-3">
                            <span class="text-muted">Já tem uma conta cadastrada?</span>
                            <a href="/login" class="text-primary fw-semibold text-decoration-none ms-1">Faça login!</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const tutorRadio = document.getElementById('tutor');
        const tutorLabel = document.querySelector('label[for="tutor"]');
        const veterinarioRadio = document.getElementById('veterinario');
        const veterinarioLabel = document.querySelector('label[for="veterinario"]');
        const crmvField = document.getElementById('crmv-field');
        const crmvInput = document.getElementById('crmv');

        function toggleCrmvField() {
            if (veterinarioRadio.checked) {
                crmvField.style.display = 'block';
                crmvInput.setAttribute('required', 'required');
                veterinarioLabel.classList.remove('btn-outline-laranja');
                veterinarioLabel.classList.add('border-laranja', 'bg-laranja', 'text-branco');
                tutorLabel.classList.remove('border-laranja', 'bg-laranja', 'text-branco');
                tutorLabel.classList.add('btn-outline-laranja');
            } else {
                crmvField.style.display = 'none';
                crmvInput.removeAttribute('required');
                tutorLabel.classList.remove('btn-outline-laranja');
                tutorLabel.classList.add('border-laranja', 'bg-laranja', 'text-branco');
                veterinarioLabel.classList.remove('border-laranja', 'bg-laranja', 'text-branco');
                veterinarioLabel.classList.add('btn-outline-laranja');
            }
        }

        tutorRadio.addEventListener('change', toggleCrmvField);
        veterinarioRadio.addEventListener('change', toggleCrmvField);

        // Inicializa o campo corretamente ao carregar a página
        toggleCrmvField();
    });
</script>
{% endblock %}
```

# templates/publico/dados.html

```html
{# TODO: Template de Edição de Dados Pessoais

   DESCRIÇÃO:
   Formulário para o usuário editar seus dados pessoais (nome, email, telefone).

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Definir {% block titulo %}Editar Dados{% endblock %}
      - Container centralizado: row justify-content-center com col-md-6

   2. TÍTULO:
      - <h2 class="mb-4">Editar Dados Pessoais</h2>

   3. EXIBIR MENSAGENS DE ERRO:
      - {% if erro %}
          <div class="alert alert-danger">{{ erro }}</div>
        {% endif %}

   4. FORMULÁRIO:
      - method="post" action="/perfil/alterar"
      - Campos obrigatórios com required

   5. CAMPOS DO FORMULÁRIO:

      a) Nome:
         - Label: "Nome"
         - Input: type="text" name="nome" class="form-control"
         - Value: {{ usuario.nome }}
         - Atributo: required

      b) Email:
         - Label: "Email"
         - Input: type="email" name="email" class="form-control"
         - Value: {{ usuario.email }}
         - Atributo: required

      c) Telefone:
         - Label: "Telefone"
         - Input: type="text" name="telefone" class="form-control"
         - Value: {{ usuario.telefone or '' }}
         - Não obrigatório (sem required)
         - Dica: Usar {{ usuario.telefone or '' }} para evitar "None"

   6. BOTÕES DE AÇÃO:
      - Salvar: <button type="submit" class="btn btn-roxo">Salvar Alterações</button>
      - Cancelar: <a href="/perfil" class="btn btn-outline-secondary">Cancelar</a>

   7. ESTRUTURA HTML RECOMENDADA PARA CADA CAMPO:
      <div class="mb-3">
          <label class="form-label">Nome do Campo</label>
          <input type="..." name="..." class="form-control" value="..." required>
      </div>

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request
   - usuario: Objeto Usuario com dados atuais
   - dados_perfil: Objeto Tutor/Veterinario/Administrador (pode ser None)
   - erro: String com mensagem de erro (opcional)

   EXEMPLO DE REFERÊNCIA:
   Ver templates/publico/cadastro.html para estrutura similar de formulário

   VALIDAÇÃO:
   - A validação é feita no backend (routes/publico/perfil_routes.py)
   - Se email já existe, retorna com mensagem de erro

   ATENÇÃO:
   - Usar {{ usuario.telefone or '' }} em vez de {{ usuario.telefone }}
     para evitar mostrar "None" quando telefone é null
   - O campo telefone é opcional (não tem required)
#}

{# Seu código HTML aqui #}

```

# templates/publico/demo_toasts.html

```html
{% extends "base_publica.html" %}

{% block title %}Demonstração do Sistema de Toasts{% endblock %}

{% block conteudo %}
<div class="container py-5">
    <div class="row">
        <div class="col-12 col-lg-8 mx-auto">
            <!-- Cabeçalho -->
            <div class="text-center mb-5">
                <h1 class="display-4 text-roxo fw-bold">Sistema de Toasts</h1>
                <p class="lead text-muted">Demonstração do sistema de mensagens do VetConecta</p>
            </div>

            <!-- Card de Demonstração -->
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header bg-roxo text-white">
                    <h5 class="mb-0"><i class="bi bi-bell-fill me-2"></i>Mensagens Flash (Backend)</h5>
                </div>
                <div class="card-body">
                    <p class="mb-4">
                        Mensagens flash persistem através de redirects usando sessões.
                        Clique nos botões abaixo para ver diferentes tipos de mensagens:
                    </p>

                    <div class="row g-3">
                        <!-- Botão Sucesso -->
                        <div class="col-6 col-md-3">
                            <form method="POST" action="/demo-toasts/sucesso">
                                <button type="submit" class="btn btn-success w-100">
                                    <i class="bi bi-check-circle-fill"></i>
                                    <br>Sucesso
                                </button>
                            </form>
                        </div>

                        <!-- Botão Erro -->
                        <div class="col-6 col-md-3">
                            <form method="POST" action="/demo-toasts/erro">
                                <button type="submit" class="btn btn-danger w-100">
                                    <i class="bi bi-x-circle-fill"></i>
                                    <br>Erro
                                </button>
                            </form>
                        </div>

                        <!-- Botão Aviso -->
                        <div class="col-6 col-md-3">
                            <form method="POST" action="/demo-toasts/aviso">
                                <button type="submit" class="btn btn-warning w-100">
                                    <i class="bi bi-exclamation-triangle-fill"></i>
                                    <br>Aviso
                                </button>
                            </form>
                        </div>

                        <!-- Botão Info -->
                        <div class="col-6 col-md-3">
                            <form method="POST" action="/demo-toasts/info">
                                <button type="submit" class="btn btn-info w-100">
                                    <i class="bi bi-info-circle-fill"></i>
                                    <br>Info
                                </button>
                            </form>
                        </div>

                        <!-- Botão Múltiplas -->
                        <div class="col-12">
                            <form method="POST" action="/demo-toasts/multiplas">
                                <button type="submit" class="btn btn-outline-secondary w-100">
                                    <i class="bi bi-stack"></i> Múltiplas Mensagens
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card JavaScript -->
            <div class="card shadow-sm border-0 mb-4">
                <div class="card-header bg-laranja text-white">
                    <h5 class="mb-0"><i class="bi bi-code-slash me-2"></i>Mensagens JavaScript (Frontend)</h5>
                </div>
                <div class="card-body">
                    <p class="mb-4">
                        Mensagens JavaScript são exibidas diretamente sem recarregar a página.
                        Ideal para feedback imediato de ações AJAX:
                    </p>

                    <div class="row g-3">
                        <!-- Botão Sucesso JS -->
                        <div class="col-6 col-md-3">
                            <button onclick="showSuccess('Tudo certo!')" class="btn btn-success w-100">
                                <i class="bi bi-check-circle-fill"></i>
                                <br>Sucesso JS
                            </button>
                        </div>

                        <!-- Botão Erro JS -->
                        <div class="col-6 col-md-3">
                            <button onclick="showError('Algo deu errado!')" class="btn btn-danger w-100">
                                <i class="bi bi-x-circle-fill"></i>
                                <br>Erro JS
                            </button>
                        </div>

                        <!-- Botão Aviso JS -->
                        <div class="col-6 col-md-3">
                            <button onclick="showWarning('Cuidado!')" class="btn btn-warning w-100">
                                <i class="bi bi-exclamation-triangle-fill"></i>
                                <br>Aviso JS
                            </button>
                        </div>

                        <!-- Botão Info JS -->
                        <div class="col-6 col-md-3">
                            <button onclick="showInfo('Sabia que...')" class="btn btn-info w-100">
                                <i class="bi bi-info-circle-fill"></i>
                                <br>Info JS
                            </button>
                        </div>

                        <!-- Botão Toast Longo -->
                        <div class="col-12 col-md-6">
                            <button onclick="showToast('Esta mensagem dura 10 segundos', 'info', 10000)"
                                    class="btn btn-outline-primary w-100">
                                <i class="bi bi-clock"></i> Toast de 10 segundos
                            </button>
                        </div>

                        <!-- Botão Toast Permanente -->
                        <div class="col-12 col-md-6">
                            <button onclick="showToast('Clique no X para fechar', 'warning', 0)"
                                    class="btn btn-outline-warning w-100">
                                <i class="bi bi-pin-fill"></i> Toast Permanente
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Card de Exemplos de Código -->
            <div class="card shadow-sm border-0">
                <div class="card-header bg-verde text-white">
                    <h5 class="mb-0"><i class="bi bi-file-code me-2"></i>Exemplos de Código</h5>
                </div>
                <div class="card-body">
                    <!-- Exemplo Python -->
                    <h6 class="fw-bold text-roxo mb-3">Python (Backend)</h6>
                    <pre class="bg-light p-3 rounded"><code>from util.mensagens import adicionar_mensagem_sucesso

@router.post("/salvar")
async def salvar(request: Request):
    # ... lógica de salvamento ...
    adicionar_mensagem_sucesso(request, "Dados salvos!")
    return RedirectResponse(url="/", status_code=302)</code></pre>

                    <!-- Exemplo JavaScript -->
                    <h6 class="fw-bold text-laranja mb-3 mt-4">JavaScript (Frontend)</h6>
                    <pre class="bg-light p-3 rounded"><code>async function salvar() {
    const response = await fetch('/api/salvar', {
        method: 'POST'
    });

    if (response.ok) {
        showSuccess('Dados salvos!');
    } else {
        showError('Erro ao salvar');
    }
}</code></pre>

                    <!-- Link para Documentação -->
                    <div class="alert alert-info mt-4 mb-0">
                        <i class="bi bi-book-fill me-2"></i>
                        <strong>Documentação Completa:</strong>
                        Consulte <code>docs/SISTEMA_TOASTS.md</code> para mais detalhes e opções avançadas.
                    </div>
                </div>
            </div>

            <!-- Botão Voltar -->
            <div class="text-center mt-4">
                <a href="/" class="btn btn-outline-secondary">
                    <i class="bi bi-arrow-left"></i> Voltar para Home
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// Simulação de operação assíncrona
async function simularOperacaoAsync() {
    showInfo('Processando...');

    // Simula delay
    await new Promise(resolve => setTimeout(resolve, 2000));

    showSuccess('Operação concluída!');
}

// Log para debug
console.log('Sistema de Toasts carregado e pronto!');
console.log('Funções disponíveis: showSuccess(), showError(), showWarning(), showInfo(), showToast()');
</script>
{% endblock %}

```

# templates/publico/detalhes_artigo.html

```html
{% extends "base_publica.html" %}

{% block title %}{{ artigo.titulo }}{% endblock %}

{% block conteudo %}

<div class="container">
    <!-- Cabeçalho do Artigo -->
    <div class="row mb-4">
        <div class="col-12">
            <h1 class="fw-bold text-roxo mb-3">{{ artigo.titulo }}</h1>

            <!-- Metadados -->
            <div class="d-flex flex-wrap gap-3 align-items-center mb-3">
                <!-- Categoria -->
                <span class="badge rounded-pill px-3 py-2" style="background-color: {{ categoria.cor }}; color: #fff; font-size: 0.9rem;">
                    <i class="bi bi-tag-fill me-1"></i>{{ categoria.nome }}
                </span>

                <!-- Data de Publicação -->
                <span class="text-muted">
                    <i class="bi bi-calendar-event me-1"></i>
                    {{ artigo.data_publicacao | data_br }}
                </span>

                <!-- Visualizações -->
                <span class="text-muted">
                    <i class="bi bi-eye me-1"></i>
                    {{ artigo.visualizacoes }} visualizações
                </span>

                <!-- Curtidas -->
                <span class="text-muted">
                    <i class="bi bi-heart-fill text-danger me-1"></i>
                    {{ total_curtidas }} curtida{{ 's' if total_curtidas != 1 else '' }}
                </span>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Conteúdo Principal -->
        <div class="col-lg-8">
            <!-- Imagem do Artigo -->
            <div class="mb-4">
                <img src="/static/img/artigos/{{ '%08d' % artigo.id_postagem_artigo }}.jpg"
                     alt="{{ artigo.titulo }}"
                     class="img-fluid rounded shadow-sm img-post-featured">
            </div>

            <!-- Card do Conteúdo -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-body py-0">
                    <!-- Conteúdo do Artigo -->
                    <div class="article-content lh-lg px-2">
                        {{ artigo.conteudo|safe }}
                    </div>
                </div>
            </div>

            <!-- Botão de Curtir -->
            {% if request.session.get('usuario') %}
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-body p-4 text-center">
                    <p class="mb-3 text-muted">Gostou deste artigo?</p>
                    {% if usuario_curtiu %}
                    <button class="btn btn-danger btn-lg px-5" disabled>
                        <i class="bi bi-heart-fill me-2"></i>Você curtiu este artigo
                    </button>
                    {% else %}
                    <button class="btn btn-outline-danger btn-lg px-5" onclick="alert('Funcionalidade de curtir em breve!')">
                        <i class="bi bi-heart me-2"></i>Curtir este artigo
                    </button>
                    {% endif %}
                    <p class="mt-3 mb-0 small text-muted">
                        {{ total_curtidas }} pessoa{{ 's' if total_curtidas != 1 else '' }} curtiu{{ '' if total_curtidas != 1 else '' }} este artigo
                    </p>
                </div>
            </div>
            {% else %}
            <div class="card border-0 shadow-sm mb-4 bg-light">
                <div class="card-body p-4 text-center">
                    <p class="mb-3">Gostou deste artigo? Faça login para curtir!</p>
                    <a href="/login" class="btn btn-roxo text-white btn-lg px-5">
                        <i class="bi bi-box-arrow-in-right me-2"></i>Fazer Login
                    </a>
                </div>
            </div>
            {% endif %}
        </div>

        <!-- Sidebar - Informações do Autor -->
        <div class="col-lg-4">
            <!-- Card do Veterinário -->
            <div class="card border-0 shadow-sm sidebar-sticky">
                <div class="card-header bg-roxo text-white text-center py-3">
                    <h5 class="mb-0 fw-semibold">
                        <i class="bi bi-person-badge me-2"></i>Sobre o Autor
                    </h5>
                </div>
                <div class="card-body p-4">
                    <!-- Foto do Veterinário -->
                    <div class="text-center mb-3">
                        <img src="/static/img/usuarios/{{ '%08d' % veterinario.id_usuario }}.jpg"
                             alt="{{ veterinario.nome }}"
                             class="avatar-xl shadow mb-3"
                             onerror="this.src='/static/img/default-avatar.jpg'">
                    </div>

                    <!-- Nome do Veterinário -->
                    <div class="text-center mb-3">
                        <h5 class="fw-bold text-roxo mb-2">{{ veterinario.nome }}</h5>

                        <!-- Badge de Verificado -->
                        {% if veterinario.verificado %}
                        <span class="badge bg-success">
                            <i class="bi bi-patch-check-fill me-1"></i>Verificado
                        </span>
                        {% endif %}
                    </div>

                    <!-- CRMV -->
                    <div class="mb-3 p-3 bg-light rounded">
                        <small class="text-muted d-block mb-1">CRMV</small>
                        <strong class="text-roxo">{{ veterinario.crmv }}</strong>
                    </div>

                    <!-- Bio -->
                    {% if veterinario.bio %}
                    <div class="mb-3">
                        <small class="text-muted d-block mb-2">
                            <i class="bi bi-info-circle me-1"></i>Sobre
                        </small>
                        <p class="mb-0" style="line-height: 1.6; font-size: 0.95rem;">
                            {{ veterinario.bio }}
                        </p>
                    </div>
                    {% endif %}

                    <!-- Estatísticas do Artigo -->
                    <hr class="my-3">
                    <div class="row text-center">
                        <div class="col-6">
                            <div class="p-2">
                                <i class="bi bi-eye text-roxo" style="font-size: 1.5rem;"></i>
                                <div class="fw-bold text-roxo mt-1">{{ artigo.visualizacoes }}</div>
                                <small class="text-muted">Visualizações</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="p-2">
                                <i class="bi bi-heart-fill text-danger" style="font-size: 1.5rem;"></i>
                                <div class="fw-bold text-danger mt-1">{{ total_curtidas }}</div>
                                <small class="text-muted">Curtidas</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

```

# templates/publico/detalhes_post.html

```html
{% extends "base_publica.html" %}

{% block title %}Post de {{ post.nome_tutor }}{% endblock %}

{% block conteudo %}

<div class="container">
    <!-- Cabeçalho do Post -->
    <div class="row mb-4">
        <div class="col-12">
            <!-- Metadados -->
            <div class="d-flex flex-wrap gap-3 align-items-center">
                <!-- Data e Hora da Postagem -->
                <span class="text-muted">
                    <i class="bi bi-calendar-event me-1"></i>
                    {{ post.data_postagem | data_hora_br }}
                </span>

                <!-- Visualizações -->
                <span class="text-muted">
                    <i class="bi bi-eye me-1"></i>
                    {{ post.visualizacoes }} visualizaç{{ 'ões' if post.visualizacoes != 1 else 'ão' }}
                </span>

                <!-- Curtidas -->
                <span class="text-muted">
                    <i class="bi bi-heart-fill text-danger me-1"></i>
                    {{ total_curtidas }} curtida{{ 's' if total_curtidas != 1 else '' }}
                </span>

                <!-- Comentários -->
                <span class="text-muted">
                    <i class="bi bi-chat-dots me-1"></i>
                    Comentários em breve!
                </span>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Conteúdo Principal -->
        <div class="col-lg-8">
            <!-- Imagem do Post -->
            <div class="mb-4">
                <img src="/static/img/feeds/{{ '%08d' % post.id_postagem_feed }}.jpg"
                     alt="Post de {{ post.nome_tutor }}"
                     class="img-fluid rounded shadow-sm img-post-detail"
                     onerror="this.src='/static/img/default-post.jpg'">
            </div>

            <!-- Card da Descrição -->
            {% if post.descricao %}
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-body p-4">
                    <h6 class="text-muted mb-3">
                        <i class="bi bi-chat-quote me-2"></i>Descrição
                    </h6>
                    <p class="mb-0 post-content">{{ post.descricao }}</p>
                </div>
            </div>
            {% endif %}

            <!-- Botão de Curtir -->
            {% if request.session.get('usuario') %}
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-body p-4 text-center">
                    <p class="mb-3 text-muted">Gostou deste post?</p>
                    {% if usuario_curtiu %}
                    <button class="btn btn-danger btn-lg px-5" disabled>
                        <i class="bi bi-heart-fill me-2"></i>Você curtiu este post
                    </button>
                    {% else %}
                    <button class="btn btn-outline-danger btn-lg px-5" onclick="alert('Funcionalidade de curtir em breve!')">
                        <i class="bi bi-heart me-2"></i>Curtir este post
                    </button>
                    {% endif %}
                    <p class="mt-3 mb-0 small text-muted">
                        {{ total_curtidas }} pessoa{{ 's' if total_curtidas != 1 else '' }} curti{{ 'ram' if total_curtidas != 1 else 'u' }} este post
                    </p>
                </div>
            </div>
            {% else %}
            <div class="card border-0 shadow-sm mb-4 bg-light">
                <div class="card-body p-4 text-center">
                    <p class="mb-3">Gostou deste post? Faça login para curtir!</p>
                    <a href="/login" class="btn btn-roxo text-white btn-lg px-5">
                        <i class="bi bi-box-arrow-in-right me-2"></i>Fazer Login
                    </a>
                </div>
            </div>
            {% endif %}

            <!-- Seção de Comentários (Placeholder) -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-light">
                    <h5 class="mb-0">
                        <i class="bi bi-chat-dots me-2"></i>Comentários
                    </h5>
                </div>
                <div class="card-body p-4 text-center text-muted">
                    <i class="bi bi-chat-dots" style="font-size: 3rem;"></i>
                    <p class="mt-3 mb-0">Sistema de comentários em breve!</p>
                </div>
            </div>
        </div>

        <!-- Sidebar - Informações do Tutor -->
        <div class="col-lg-4">
            <!-- Card do Tutor -->
            <div class="card border-0 shadow-sm sidebar-sticky">
                <div class="card-header bg-roxo text-white text-center py-3">
                    <h5 class="mb-0 fw-semibold">
                        <i class="bi bi-person-circle me-2"></i>Sobre o Tutor
                    </h5>
                </div>
                <div class="card-body p-4">
                    <!-- Foto do Tutor -->
                    <div class="text-center mb-3">
                        <img src="/static/img/usuarios/{{ '%08d' % post.id_usuario }}.jpg"
                             alt="{{ post.nome_tutor }}"
                             class="avatar-xl shadow mb-3"
                             onerror="this.src='/static/img/default-avatar.jpg'">
                    </div>

                    <!-- Nome do Tutor -->
                    <div class="text-center mb-3">
                        <h5 class="fw-bold text-roxo mb-1">{{ post.nome_tutor }}</h5>
                        <small class="text-muted">@{{ post.nome_tutor.lower().replace(' ', '') }}</small>
                    </div>

                    <!-- Informações do Tutor -->
                    <div class="mb-3 p-3 bg-light rounded">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <small class="text-muted">
                                <i class="bi bi-envelope me-1"></i>Email
                            </small>
                        </div>
                        <small class="text-break">{{ post.email_tutor }}</small>
                    </div>

                    {% if post.telefone_tutor %}
                    <div class="mb-3 p-3 bg-light rounded">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <small class="text-muted">
                                <i class="bi bi-telephone me-1"></i>Telefone
                            </small>
                        </div>
                        <small>{{ post.telefone_tutor }}</small>
                    </div>
                    {% endif %}

                    {% if post.quantidade_pets %}
                    <div class="mb-3 p-3 bg-light rounded">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <small class="text-muted">
                                <i class="bi bi-heart me-1"></i>Pets
                            </small>
                        </div>
                        <small>{{ post.quantidade_pets }} pet{{ 's' if post.quantidade_pets != 1 else '' }}</small>
                    </div>
                    {% endif %}

                    <!-- Estatísticas do Post -->
                    <hr class="my-3">
                    <div class="row text-center">
                        <div class="col-4">
                            <div class="p-2">
                                <i class="bi bi-eye text-roxo" style="font-size: 1.5rem;"></i>
                                <div class="fw-bold text-roxo mt-1">{{ post.visualizacoes }}</div>
                                <small class="text-muted">Visitas</small>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="p-2">
                                <i class="bi bi-heart-fill text-danger" style="font-size: 1.5rem;"></i>
                                <div class="fw-bold text-danger mt-1">{{ total_curtidas }}</div>
                                <small class="text-muted">Curtidas</small>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="p-2">
                                <i class="bi bi-chat-dots" style="font-size: 1.5rem;"></i>
                                <div class="fw-bold text-danger mt-1">{{ total_comentarios or 0 }}</div>
                                <small class="text-muted">Comentários</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}

```

# templates/publico/esqueci_senha.html

```html
{% extends "base_publica.html" %}

{% block title %}Esqueci minha senha{% endblock %}

{% block conteudo %}
<div class="d-flex flex-column bg-img-animais flex-grow-1">
    <div class="container d-flex flex-column flex-grow-1">
        <div class="row justify-content-center align-items-center flex-grow-1">
            <div class="col-12 col-md-9 col-lg-7 col-xl-6 col-xxl-5">
                <div class="card shadow-lg rounded-4 border-0 bg-white bg-opacity-75">
                    <div class="card-body p-4 p-md-5 text-center">
                        <!-- Título -->
                        <h5 class="mb-4 fw-semibold fs-2">Recuperar Senha</h5>

                        <!-- Descrição -->
                        <p class="text-muted mb-4">
                            Digite seu e-mail cadastrado e enviaremos instruções para redefinir sua senha.
                        </p>

                        <!-- Formulário -->
                        <form action="/esqueci-senha" method="post" class="text-start">

                            <!-- Alerta de sucesso -->
                            {% if sucesso %}
                            <div class="alert alert-success" role="alert">
                                {{ sucesso }}
                            </div>
                            {% endif %}

                            <!-- Alerta de erro geral -->
                            {% if erros and erros.geral %}
                            <div class="alert alert-danger" role="alert">
                                {{ erros.geral }}
                            </div>
                            {% endif %}

                            <!-- Campo de e-mail -->
                            <div class="mb-3">
                                <label for="email" class="form-label fw-bold">E-mail</label>
                                <input type="email"
                                    class="form-control {% if erros and erros.email %}is-invalid{% endif %}" id="email"
                                    name="email" value="{{ dados.email if dados else '' }}"
                                    placeholder="Digite seu e-mail cadastrado" required>
                                {% if erros and erros.email %}
                                <div class="invalid-feedback">{{ erros.email }}</div>
                                {% endif %}
                            </div>

                            <!-- Botão de envio -->
                            <button type="submit"
                                class="btn bg-laranja text-white w-100 fw-semibold py-2 mb-3 rounded-3">
                                Enviar instruções
                            </button>

                            <!-- Link para voltar ao login -->
                            <div class="text-center mb-3">
                                <a href="/login" class="text-decoration-none">Voltar para o login</a>
                            </div>
                        </form>

                        <!-- Link para cadastro -->
                        <div class="text-center border-top border-laranja pt-3">
                            <span class="text-muted">Não tem uma conta cadastrada?</span>
                            <a href="/cadastro"
                                class="text-primary fw-semibold text-decoration-none ms-1">Cadastre-se!</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

```

# templates/publico/index.html

```html
{% extends "base_publica.html" %}

{% block title %}Página Inicial{% endblock %}

{% block conteudo %}

{% include "componentes/banner_carousel.html" %}

{% include "componentes/categorias_carousel.html" %}

{% include "componentes/artigos_recentes.html" %}

{% include "componentes/petgram_recentes.html" %}

{% endblock %}
```

# templates/publico/login.html

```html
{% extends "base_publica.html" %}

{% block title %}Login{% endblock %}

{% block conteudo %}
<div class="d-flex flex-column bg-img-animais flex-grow-1">
    <div class="container d-flex flex-column flex-grow-1">
        <div class="row justify-content-center align-items-center flex-grow-1">
            <div class="col-12 col-md-9 col-lg-7 col-xl-6 col-xxl-5">
                <div class="card shadow-lg rounded-4 border-0 bg-white bg-opacity-75">
                    <div class="card-body p-4 p-md-5 text-center">
                        <!-- Título -->
                        <h5 class="mb-4 fw-semibold fs-2">Login</h5>

                        <!-- Formulário -->
                        <form action="/login" method="post" class="text-start">

                            <!-- Campo oculto para redirecionamento -->
                            {% if redirect %}
                            <input type="hidden" name="next" value="{{ redirect }}">
                            {% endif %}

                            <!-- Alerta de erro geral -->
                            {% if erros and erros.geral %}
                            <div class="alert alert-danger" role="alert">
                                {{ erros.geral }}
                            </div>
                            {% endif %}

                            <!-- Campo de e-mail -->
                            <div class="mb-3">
                                <label for="email" class="form-label fw-bold">E-mail</label>
                                <input type="email"
                                    class="form-control {% if erros and erros.email %}is-invalid{% endif %}" id="email"
                                    name="email" value="{{ dados.email if dados else '' }}"
                                    placeholder="Digite seu e-mail" required>
                                {% if erros and erros.email %}
                                <div class="invalid-feedback">{{ erros.email }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo de senha -->
                            <div class="mb-3">
                                <label for="senha" class="form-label fw-bold">Senha</label>
                                <input type="password"
                                    class="form-control {% if erros and erros.senha %}is-invalid{% endif %}" id="senha"
                                    name="senha" placeholder="Digite sua senha" required>
                                {% if erros and erros.senha %}
                                <div class="invalid-feedback">{{ erros.senha }}</div>
                                {% endif %}
                            </div>

                            <!-- Botão de envio -->
                            <button type="submit"
                                class="btn bg-laranja text-white w-100 fw-semibold py-2 mb-3 rounded-3">
                                Entrar
                            </button>

                            <!-- Link para recuperação de senha -->
                            <div class="text-center mb-3">
                                <a href="/esqueci-senha" class="text-decoration-none">Esqueci minha senha</a>
                            </div>
                        </form>

                        <!-- Link para cadastro -->
                        <div class="text-center border-top border-laranja pt-3">
                            <span class="text-muted">Não tem uma conta cadastrada?</span>
                            <a href="/cadastro"
                                class="text-primary fw-semibold text-decoration-none ms-1">Cadastre-se!</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
```

# templates/publico/perfil.html

```html
{# TODO: Template de Visualização de Perfil do Usuário

   DESCRIÇÃO:
   Esta página exibe as informações do perfil do usuário logado (Tutor ou Veterinário).
   Deve mostrar avatar, dados pessoais e links para edição.

   PASSOS PARA IMPLEMENTAÇÃO:

   1. ESTRUTURA BASE:
      - Estender {% extends "base_publica.html" %}
      - Definir {% block titulo %}Meu Perfil{% endblock %}
      - Criar {% block conteudo %} com container Bootstrap

   2. LAYOUT EM DUAS COLUNAS:
      - Coluna esquerda (col-md-4): Avatar e botão de upload
      - Coluna direita (col-md-8): Informações e ações

   3. AVATAR DO USUÁRIO:
      - Usar classe CSS: avatar-xl (definida em static/css/base.css)
      - Caminho: /static/img/usuarios/{{ '%08d' % usuario.id_usuario }}.jpg
      - Fallback com onerror: this.src='/static/img/default-avatar.jpg'

   4. FORMULÁRIO DE UPLOAD DE FOTO:
      - method="post" action="/perfil/alterar-foto"
      - enctype="multipart/form-data" (OBRIGATÓRIO para upload)
      - Input: <input type="file" name="foto" accept="image/*">
      - Botão: class="btn btn-roxo"

   5. INFORMAÇÕES DO USUÁRIO:
      - Nome: {{ usuario.nome }}
      - Email: {{ usuario.email }}
      - Perfil: {{ usuario.perfil|capitalize }}

   6. INFORMAÇÕES ESPECÍFICAS POR PERFIL:
      - Se tutor: Mostrar {{ usuario.quantidade_pets }} pets
      - Se veterinário: Mostrar CRMV {{ usuario.crmv }} e status verificado

   7. LINKS DE AÇÃO:
      - Editar Dados: href="/perfil/alterar" class="btn btn-outline-roxo"
      - Alterar Senha: href="/perfil/alterar-senha" class="btn btn-outline-laranja"

   8. MENSAGENS DE FEEDBACK:
      - Verificar parâmetros GET para exibir alertas:
        * ?sucesso=1 → "Dados atualizados com sucesso!"
        * ?foto_sucesso=1 → "Foto alterada com sucesso!"
        * ?erro=... → Exibir mensagem de erro

   VARIÁVEIS RECEBIDAS DO BACKEND:
   - request: Objeto Request do FastAPI
   - usuario: Objeto Tutor ou Veterinario (com atributos de Usuario)

   EXEMPLO DE REFERÊNCIA:
   Ver templates/publico/cadastro.html para estrutura de formulário
   Ver templates/publico/quem_somos.html para layout de duas colunas

   CLASSES CSS ÚTEIS:
   - avatar-xl: Avatar grande (120x120px) - ver static/css/base.css linha ~200
   - btn-roxo: Botão roxo sólido
   - btn-outline-roxo: Botão roxo outline
   - btn-outline-laranja: Botão laranja outline

   ATENÇÃO:
   - A rota POST /perfil/alterar-foto já está implementada em routes/publico/perfil_routes.py
   - Não esquecer enctype="multipart/form-data" no form de upload
   - Usar {% if usuario.perfil == 'tutor' %} para condicionar exibição
#}

{# Seu código HTML aqui #}

```

# templates/publico/petgram.html

```html
{% extends "base_publica.html" %}

{% block title %}Petgram - Posts da Comunidade{% endblock %}

{% block conteudo %}

<div class="container">
    <!-- Título da Página -->
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h1 class="fw-bold text-dark">
                <i class="bi bi-camera-fill me-2"></i>Petgram
            </h1>
            <p class="text-muted fs-5">Confira os posts da comunidade sobre seus pets</p>
        </div>
    </div>

    <!-- Grid de Posts -->
    {% if posts %}
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-4 g-5 mb-5">
        {% for post in posts %}
        <div class="col">
            {% include "componentes/petgram_card.html" %}
        </div>
        {% endfor %}
    </div>

    <!-- Paginação -->
    <div class="row">
        <div class="col-12">
            {% set url_base = '/petgram' %}
            {% set params = {} %}
            {% include "componentes/paginacao.html" %}
        </div>
    </div>

    {% else %}
    <!-- Mensagem quando não há posts -->
    <div class="row">
        <div class="col-12 text-center py-5">
            <i class="bi bi-camera text-muted icon-lg"></i>
            <h4 class="text-muted mt-3">Nenhum post encontrado</h4>
            <p class="text-muted">
                Não há posts cadastrados no momento.
            </p>
            <a href="/" class="btn btn-primary btn-lg mt-3">
                <i class="bi bi-arrow-left me-2"></i>Voltar à Página Inicial
            </a>
        </div>
    </div>
    {% endif %}

    <!-- Botão Voltar -->
    {% if posts %}
    <div class="row mt-5">
        <div class="col-12 text-center">
            <a href="/" class="btn btn-outline-primary btn-lg px-5">
                <i class="bi bi-arrow-left me-2"></i>Voltar à Página Inicial
            </a>
        </div>
    </div>
    {% endif %}
</div>

{% endblock %}

```

# templates/publico/quem_somos.html

```html
{% extends "base_publica.html" %}

{% block title %}Quem Somos{% endblock %}

{% block conteudo %}

<div class="container py-5">
    <!-- Título Principal -->
    <div class="row">
        <div class="col-12">
            <h1 class="fw-bold mb-4">Quem Somos</h1>
        </div>
    </div>

    <!-- Textos Explicativos -->
    <div class="row">
        <div class="col-12">
            <p class="mb-4">
                O VetConecta é um espaço criado para unir tutores de animais e veterinários especializados em
                um ambiente digital que valoriza informação de qualidade, cuidado responsável e amor pelos
                pets. Nosso propósito é oferecer <strong>conteúdos confiáveis, revisados por profissionais</strong>, que
                abordam temas como saúde, nutrição, comportamento e cuidados preventivos, ajudando
                tutores a tomarem decisões seguras e conscientes.
            </p>

            <p class="mb-4">
                Sabemos que, muitas vezes, o acesso a um veterinário pode ser difícil devido à distância, custos
                ou falta de tempo. Por isso, desenvolvemos uma plataforma que aproxima conhecimento e
                cuidado, garantindo que cada tutor tenha orientação segura em palma da mão.
            </p>

            <p class="mb-4">
                O VetConecta é fruto do trabalho e dedicação de <strong>Brenda Souza Oliveira, Kauany Stefany
                Gomes de Oliveira, Luana Santos Neves e Sofia Koppe Fernandes Bettcher</strong>, alunas do Instituto
                Federal do Espírito Santo – Campus Cachoeiro de Itapemirim, unindo tecnologia, inovação e
                paixão pelos animais.
            </p>

            <p class="mb-4">
                Mais do que um blog, somos uma comunidade engajada em promover o bem-estar animal,
                incentivar práticas responsáveis e fortalecer o vínculo entre tutores e seus companheiros de
                quatro patas. Aqui, cada artigo, dica e conversa é um passo a mais para uma vida mais saudável
                e feliz para nossos pets.
            </p>
        </div>
    </div>

    <!-- Seção da Equipe -->
    <div class="row mt-5">
        <div class="col-12">
            <h2 class="fw-bold mb-5">Equipe de Desenvolvimento</h2>
        </div>
    </div>

    <!-- Cards da Equipe -->
    <div class="row justify-content-center g-4">
        <!-- Brenda Souza -->
        <div class="col-6 col-md-3 text-center">
            <div class="mb-3">
                <img src="/static/img/alunas/brenda.jpg" alt="Brenda Souza"
                     class="rounded-circle img-fluid" style="width: 150px; height: 150px; object-fit: cover;">
            </div>
            <h5 class="fw-semibold mb-0">Brenda Souza</h5>
        </div>

        <!-- Kauany Stefany Gomes -->
        <div class="col-6 col-md-3 text-center">
            <div class="mb-3">
                <img src="/static/img/alunas/kauany.jpg" alt="Kauany Stefany Gomes"
                     class="rounded-circle img-fluid" style="width: 150px; height: 150px; object-fit: cover;">
            </div>
            <h5 class="fw-semibold mb-0">Kauany Stefany Gomes</h5>
        </div>

        <!-- Luana Santos -->
        <div class="col-6 col-md-3 text-center">
            <div class="mb-3">
                <img src="/static/img/alunas/luana.jpg" alt="Luana Santos"
                     class="rounded-circle img-fluid" style="width: 150px; height: 150px; object-fit: cover;">
            </div>
            <h5 class="fw-semibold mb-0">Luana Santos</h5>
        </div>

        <!-- Sofia Koppe -->
        <div class="col-6 col-md-3 text-center">
            <div class="mb-3">
                <img src="/static/img/alunas/sofia.jpg" alt="Sofia Koppe"
                     class="rounded-circle img-fluid" style="width: 150px; height: 150px; object-fit: cover;">
            </div>
            <h5 class="fw-semibold mb-0">Sofia Koppe</h5>
        </div>
    </div>
</div>

{% endblock %}

```

# templates/publico/redefinir_senha.html

```html
{% extends "base_publica.html" %}

{% block title %}Redefinir Senha{% endblock %}

{% block conteudo %}
<div class="d-flex flex-column bg-img-animais flex-grow-1">
    <div class="container d-flex flex-column flex-grow-1">
        <div class="row justify-content-center align-items-center flex-grow-1">
            <div class="col-12 col-md-9 col-lg-7 col-xl-6 col-xxl-5">
                <div class="card shadow-lg rounded-4 border-0 bg-white bg-opacity-75">
                    <div class="card-body p-4 p-md-5 text-center">
                        <!-- Título -->
                        <h5 class="mb-4 fw-semibold fs-2">Redefinir Senha</h5>

                        <!-- Formulário -->
                        <form action="/redefinir-senha" method="post" class="text-start">

                            <!-- Campo oculto para token -->
                            {% if token %}
                            <input type="hidden" name="token" value="{{ token }}">
                            {% endif %}

                            <!-- Alerta de erro geral -->
                            {% if erros and erros.geral %}
                            <div class="alert alert-danger" role="alert">
                                {{ erros.geral }}
                            </div>
                            {% endif %}

                            <!-- Alerta de sucesso -->
                            {% if mensagem_sucesso %}
                            <div class="alert alert-success" role="alert">
                                {{ mensagem_sucesso }}
                            </div>
                            {% endif %}

                            <!-- Campo de nova senha -->
                            <div class="mb-3">
                                <label for="senha" class="form-label fw-bold">Nova Senha</label>
                                <input type="password"
                                    class="form-control {% if erros and erros.senha %}is-invalid{% endif %}" id="senha"
                                    name="senha" placeholder="Digite sua nova senha" required>
                                {% if erros and erros.senha %}
                                <div class="invalid-feedback">{{ erros.senha }}</div>
                                {% endif %}
                            </div>

                            <!-- Campo de confirmação de senha -->
                            <div class="mb-3">
                                <label for="confirmar_senha" class="form-label fw-bold">Confirmar Senha</label>
                                <input type="password"
                                    class="form-control {% if erros and erros.confirmar_senha %}is-invalid{% endif %}"
                                    id="confirmar_senha" name="confirmar_senha" placeholder="Confirme sua nova senha"
                                    required>
                                {% if erros and erros.confirmar_senha %}
                                <div class="invalid-feedback">{{ erros.confirmar_senha }}</div>
                                {% endif %}
                            </div>

                            <!-- Botão de envio -->
                            <button type="submit"
                                class="btn bg-laranja text-white w-100 fw-semibold py-2 mb-3 rounded-3">
                                Redefinir Senha
                            </button>

                            <!-- Link para voltar ao login -->
                            <div class="text-center mb-3">
                                <a href="/login" class="text-decoration-none">Voltar ao login</a>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
```

# templates/tutor/editar_postagem_feed.html

```html
{# TODO: Formulário de Edição de Post (apenas descrição)
   - Título: "Editar Post"
   - Mostrar imagem atual: /static/img/feeds/{{ '%08d' % post.id_postagem_feed }}.jpg
   - Form: method="post" action="/tutor/editar_postagem_feed"
   - Hidden: <input type="hidden" name="id_postagem" value="{{ post.id_postagem_feed }}">
   - Campo: Descrição (textarea com value="{{ post.descricao }}" required)
   - Botões: Salvar (btn-laranja) e Cancelar
   Variáveis: request, post (objeto PostagemFeed)
   NOTA: Não permite trocar foto, apenas descrição
   Referência: Ver templates/admin/alterar_categoria.html
#}

```

# templates/tutor/excluir_postagem_feed.html

```html
{# TODO: Confirmação de Exclusão de Post
   - Título: "Excluir Post" (class="text-danger")
   - Alert warning: "Esta ação não pode ser desfeita."
   - Card mostrando: imagem, descrição e data do post
   - Form: method="post" action="/tutor/excluir_postagem_feed"
   - Hidden: id_postagem
   - Botão: Confirmar Exclusão (btn-danger) com ícone bi-trash
   - Link: Cancelar (href="/tutor/listar_postagem_feed")
   Variáveis: request, post
   Referência: Ver templates/admin/excluir_categoria.html
#}

```

# templates/tutor/fazer_postagem_feed.html

```html
{# TODO: Formulário de Nova Postagem no Petgram
   - Título: "Nova Postagem no Petgram"
   - Form: method="post" action="/tutor/fazer_postagem_feed" enctype="multipart/form-data"
   - Campo 1: Foto do Pet (type="file" name="foto" accept="image/*" required)
   - Small text: "Tamanho máximo: 5MB. Formatos: JPG, PNG, WEBP"
   - Campo 2: Descrição (textarea name="descricao" rows="4" required)
   - Botões: Publicar (btn-laranja) e Cancelar (href="/tutor/")
   Variáveis: request
   ATENÇÃO: enctype="multipart/form-data" é OBRIGATÓRIO para upload!
   Referência: Ver templates/publico/perfil.html (form de upload de foto)
#}

```

# templates/tutor/home_tutor.html

```html
{# TODO: Dashboard do Tutor
   - Estender base_publica.html
   - Título: "Meu Painel - Tutor"
   - Card com métrica: Total de Posts ({{ total_posts }})
   - Grid row com col-md-4 dos últimos 6 posts (usar {% include "componentes/petgram_card.html" %})
   - Botão: href="/tutor/fazer_postagem_feed" class="btn btn-laranja"
   - Link: href="/tutor/listar_postagem_feed" Ver Todos os Posts
   Variáveis: request, posts (lista), total_posts (int)
   Referência: Ver templates/admin/home_administrador.html
#}

```

# templates/tutor/listar_postagens_feed.html

```html
{# TODO: Listagem de Posts do Tutor
   - Título: "Meus Posts" com botão "Novo Post" (btn btn-laranja)
   - Grid row com col-md-4 para cada post
   - Cada card deve ter: imagem, descrição, data, botões Editar e Excluir
   - Imagem: /static/img/feeds/{{ '%08d' % post.id_postagem_feed }}.jpg
   - Botão Editar: href="/tutor/editar_postagem_feed/{{ post.id_postagem_feed }}"
   - Botão Excluir: href="/tutor/excluir_postagem_feed/{{ post.id_postagem_feed }}"
   Variáveis: request, posts (lista de PostagemFeed)
   Referência: Ver templates/publico/petgram.html
#}

```

# templates/usuario/comentar.html

```html
{# TODO: Formulário para Comentar em Artigo
   - Título: "Comentar no Artigo"
   - Card mostrando preview do artigo:
     * Título: {{ artigo.titulo }}
     * Autor: {{ artigo.nome_veterinario }}
     * Link: href="/artigos/{{ artigo.id_postagem_artigo }}" "Ver Artigo Completo"
   - Form: method="post" action="/usuario/comentar"
   - Hidden: id_artigo
   - Campo: Comentário (textarea name="texto" rows="4" required)
     Placeholder: "Escreva seu comentário..."
   - Small text: "Seja respeitoso e construtivo."
   - Botões: Publicar Comentário (btn-roxo) e Cancelar
   Variáveis: request, artigo (PostagemArtigo)
   CHAMADA: GET /usuario/comentar?id_artigo=123
   VALIDAÇÃO DTO: Texto min 5 palavras
   Referência: templates/usuario/denunciar.html (estrutura similar)
#}

```

# templates/usuario/comentarios.html

```html
{# TODO: Lista de Comentários do Usuário
   - Título: "Meus Comentários"
   - {% for comentario in comentarios %}
     Card para cada comentário:
     <div class="card mb-3">
       <div class="card-header">
         Em: <a href="/artigos/{{ comentario.id_postagem_artigo }}">{{ comentario.titulo_artigo }}</a>
         <small class="text-muted float-end">{{ comentario.data_comentario | data_hora_br }}</small>
       </div>
       <div class="card-body">
         <p>{{ comentario.texto }}</p>
         <form method="post" action="/usuario/excluir_comentario/{{ comentario.id_comentario_artigo }}" style="display: inline;">
           <button type="submit" class="btn btn-sm btn-outline-danger"
                   onclick="return confirm('Excluir este comentário?')">
             <i class="bi bi-trash"></i> Excluir
           </button>
         </form>
       </div>
     </div>
   {% endfor %}
   - {% if comentarios|length == 0 %}
     Alert info: "Você ainda não fez comentários."
   Variáveis: request, comentarios (lista de ComentarioArtigo com join de artigo)
   Referência: templates/admin/responder_chamado.html (cards de respostas)
#}

```

# templates/usuario/denunciar.html

```html
{# TODO: Formulário de Denúncia de Conteúdo
   - Título: "Denunciar Conteúdo"
   - Alert warning: "Use denúncias apenas para conteúdo inapropriado, spam ou violações."
   - Card mostrando informações do conteúdo denunciado:
     * Tipo: {{ tipo|capitalize }} (Artigo ou Petgram)
     * ID: {{ id_conteudo }}
   - Form: method="post" action="/usuario/denunciar"
   - Hidden: tipo, id_conteudo
   - Campo: Motivo (textarea name="motivo" rows="5" required)
     Placeholder: "Descreva o motivo da denúncia..."
   - Botões: Enviar Denúncia (btn-danger) e Cancelar
   Variáveis: request, tipo ('artigo' ou 'feed'), id_conteudo (int)
   CHAMADA: Esta página é acessada via query params: ?tipo=artigo&id_conteudo=123
   VALIDAÇÃO DTO: Motivo min 5 palavras
   Referência: templates/usuario/solicitar_chamado.html (form similar)
#}

```

# templates/usuario/solicitacoes_chamado.html

```html
{# TODO: Lista de Chamados do Usuário
   - Título: "Meus Chamados" com botão "Novo Chamado" (btn btn-roxo)
   - Tabela responsiva: ID | Título | Status | Data | Respostas
   - Loop: {% for chamado in chamados %}
     * Status com badges coloridos (igual admin/listar_chamados.html)
     * Coluna Respostas: Link "Ver Detalhes" abre modal ou página
   - {% if chamados|length == 0 %}
     Alert info: "Você ainda não tem chamados. Precisa de ajuda? Abra um chamado!"
     Link: href="/usuario/solicitar_chamado"
   Variáveis: request, chamados (lista de Chamado)
   EXPANSÃO FUTURA: Adicionar página de detalhes mostrando histórico de respostas
   Referência: templates/admin/listar_chamados.html (estrutura de tabela)
#}

```

# templates/usuario/solicitar_chamado.html

```html
{# TODO: Formulário para Criar Chamado de Suporte
   - Título: "Abrir Chamado de Suporte"
   - Descrição: "Precisa de ajuda? Descreva seu problema e nossa equipe responderá em breve."
   - Form: method="post" action="/usuario/solicitar_chamado"
   - Campo 1: Título (type="text" name="titulo" required)
     Placeholder: "Resumo do problema"
   - Campo 2: Descrição (textarea name="descricao" rows="6" required)
     Placeholder: "Descreva seu problema em detalhes..."
   - Botões: Enviar Chamado (btn-roxo) e Cancelar (href="/usuario/solicitacoes_chamado")
   Variáveis: request
   VALIDAÇÃO DTO: Título min 2 palavras, Descrição min 5 palavras
   Referência: templates/admin/responder_chamado.html (form similar)
#}

```

# templates/veterinario/alterar_postagem_artigo.html

```html
{# TODO: Formulário de Edição de Artigo
   - Título: "Editar Artigo"
   - Form: method="post" action="/veterinario/alterar_postagem_artigo"
   - Hidden: <input type="hidden" name="id_postagem" value="{{ artigo.id_postagem_artigo }}">
   - Campos preenchidos:
     * Título: value="{{ artigo.titulo }}"
     * Categoria: <option selected> se {{ categoria.id == artigo.id_categoria_artigo }}
     * Conteúdo: {{ artigo.conteudo }} (dentro de textarea)
   - Mostrar imagem atual (não editável):
     <img src="/static/img/artigos/{{ '%08d' % artigo.id_postagem_artigo }}.jpg" class="img-fluid">
   - Campo opcional: Nova Foto (type="file" name="foto" - SEM required)
     Small text: "Deixe em branco para manter imagem atual"
   - Botões: Salvar Alterações (btn-roxo) e Cancelar
   Variáveis: request, artigo (PostagemArtigo), categorias (lista)
   NOTA: Upload de foto é OPCIONAL na edição
   Referência: templates/admin/alterar_categoria.html e templates/tutor/editar_postagem_feed.html
#}

```

# templates/veterinario/cadastrar_postagem_artigo.html

```html
{# TODO: Formulário de Novo Artigo
   - Título: "Novo Artigo"
   - Form: method="post" action="/veterinario/cadastrar_postagem_artigo" enctype="multipart/form-data"
   - Campo 1: Título (type="text" name="titulo" required)
   - Campo 2: Categoria (select name="id_categoria_artigo" required)
     Loop de categorias:
     {% for categoria in categorias %}
       <option value="{{ categoria.id_categoria_artigo }}">{{ categoria.nome }}</option>
     {% endfor %}
   - Campo 3: Conteúdo (textarea name="conteudo" rows="15" required)
   - Campo 4: Foto (type="file" name="foto" accept="image/*" required)
     Small text: "Tamanho máximo: 5MB. Será salva como imagem do artigo."
   - Botões: Publicar (btn-roxo) e Cancelar (href="/veterinario/listar_postagem_artigo")
   Variáveis: request, categorias (lista de CategoriaArtigo)
   ATENÇÃO: enctype="multipart/form-data" é OBRIGATÓRIO!
   VALIDAÇÃO: Título min 2 palavras, Conteúdo min 10 palavras (DTO)
   Referência: templates/tutor/fazer_postagem_feed.html e templates/publico/cadastro.html
#}

```

# templates/veterinario/excluir_postagem_artigo.html

```html
{# TODO: Confirmação de Exclusão de Artigo
   - Título: "Excluir Artigo" (text-danger)
   - Alert warning: "Esta ação não pode ser desfeita. Curtidas e comentários também serão removidos."
   - Card mostrando:
     * Título: {{ artigo.titulo }}
     * Categoria: Badge com cor
     * Data: {{ artigo.data_publicacao | data_br }}
     * Visualizações: {{ artigo.visualizacoes }}
     * Preview do conteúdo: {{ artigo.conteudo[:200] }}...
   - Form: method="post" action="/veterinario/excluir_postagem_artigo"
   - Hidden: id_postagem
   - Botão: Confirmar Exclusão (btn-danger) com ícone bi-trash
   - Link: Cancelar
   Variáveis: request, artigo
   Referência: templates/admin/excluir_categoria.html
#}

```

# templates/veterinario/fazer_solicitacao_crmv.html

```html
{# TODO: Solicitar Verificação de CRMV
   - Título: "Solicitar Verificação de CRMV"
   - Card com informações:
     <div class="card mb-4 bg-light">
       <div class="card-body">
         <h5>O que é a verificação de CRMV?</h5>
         <p>A verificação confirma que você é um veterinário registrado e concede o selo verificado ao seu perfil.</p>
         <p><strong>Seu CRMV cadastrado:</strong> <span class="badge bg-secondary">{{ crmv }}</span></p>
       </div>
     </div>
   - Alert warning: "Certifique-se de que seu CRMV está correto antes de solicitar."
   - Form: method="post" action="/veterinario/fazer_solicitacao_crmv"
   - Sem campos (apenas botão de confirmação)
   - Botão: "Confirmar Solicitação" (btn btn-verde)
   - Link: Cancelar (href="/veterinario/obter_solicitacao_crmv")
   - Texto explicativo: "Após solicitar, um administrador verificará seu CRMV e você receberá uma resposta."
   Variáveis: request, crmv (string do CRMV do veterinário logado)
   NOTA: O CRMV já está cadastrado no perfil, esta página apenas envia solicitação
   Referência: templates/admin/excluir_categoria.html (confirmação simples)
#}

```

# templates/veterinario/listar_estatisticas.html

```html
{# TODO: Dashboard de Estatísticas do Veterinário
   - Título: "Minhas Estatísticas"
   - Grid com 4 cards de métricas (row com col-md-3):
     * Total de Artigos: {{ total_artigos }}
     * Total de Visualizações: {{ total_visualizacoes }}
     * Total de Curtidas: {{ total_curtidas }}
     * Média de Visualizações: {{ (total_visualizacoes / total_artigos)|round(1) if total_artigos > 0 else 0 }}
   - Seção "Artigos Mais Populares":
     Tabela com: Título | Visualizações | Curtidas
     Ordenar artigos por visualizações (descendente)
     {% for artigo in artigos|sort(attribute='visualizacoes', reverse=True)[:10] %}
       <tr>
         <td>{{ artigo.titulo }}</td>
         <td>{{ artigo.visualizacoes }}</td>
         <td>{{ artigo.total_curtidas }}</td>
       </tr>
     {% endfor %}
   - {% if artigo_mais_visto %}
     Alert success: "Seu artigo mais visto é: <strong>{{ artigo_mais_visto.titulo }}</strong> com {{ artigo_mais_visto.visualizacoes }} visualizações!"
     {% endif %}
   Variáveis: request, total_artigos, total_visualizacoes, total_curtidas, artigos, artigo_mais_visto
   FILTRO JINJA2: |sort(attribute='...', reverse=True) ordena lista
   FILTRO JINJA2: [:10] pega apenas os 10 primeiros
   FILTRO JINJA2: |round(1) arredonda para 1 casa decimal
   Referência: templates/admin/home_administrador.html (cards) e listar_categorias.html (tabela)
#}

```

# templates/veterinario/listar_postagem_artigo.html

```html
{# TODO: Listagem de Artigos do Veterinário
   - Título: "Meus Artigos" com botão "Novo Artigo" (btn btn-roxo)
   - Tabela responsiva com colunas: ID | Título | Categoria | Visualizações | Data | Ações
   - Loop: {% for artigo in artigos %}
   - Cada linha deve ter:
     * ID: {{ artigo.id_postagem_artigo }}
     * Título: {{ artigo.titulo }}
     * Categoria: Badge com cor (style="background-color: {{ artigo.cor_categoria }}")
     * Visualizações: {{ artigo.visualizacoes }}
     * Data: {{ artigo.data_publicacao | data_br }}
     * Ações: Editar e Excluir (botões btn-sm)
   - Botão Editar: href="/veterinario/alterar_postagem_artigo/{{ artigo.id_postagem_artigo }}"
   - Botão Excluir: href="/veterinario/excluir_postagem_artigo/{{ artigo.id_postagem_artigo }}"
   Variáveis: request, artigos (lista de PostagemArtigo com dados de categoria)
   Referência: templates/admin/listar_categorias.html
#}

```

# templates/veterinario/obter_solicitacao_crmv.html

```html
{# TODO: Status da Solicitação de Verificação CRMV
   - Título: "Verificação de CRMV"
   - {% if verificacao %} (existe solicitação):
     Card mostrando:
     * Status atual: Badge colorido conforme status
       - 'pendente': badge bg-warning "Aguardando Análise"
       - 'em_analise': badge bg-info "Em Análise"
       - 'aprovado': badge bg-success "Aprovado ✓"
       - 'rejeitado': badge bg-danger "Rejeitado"
     * Data da solicitação: {{ verificacao.data_verificacao | data_br }}
     * Mensagem conforme status
     {% if verificacao.status_verificacao == 'pendente' %}
       Alert info: "Sua solicitação está em análise. Aguarde o retorno da administração."
     {% elif verificacao.status_verificacao == 'aprovado' %}
       Alert success: "Parabéns! Seu CRMV foi verificado. Você agora tem o selo verificado."
     {% elif verificacao.status_verificacao == 'rejeitado' %}
       Alert danger: "Sua solicitação foi rejeitada. Entre em contato com o suporte."
       Link: href="/veterinario/fazer_solicitacao_crmv" "Solicitar Novamente"
     {% endif %}
   - {% else %} (não existe):
     Alert info: "Você ainda não solicitou verificação de CRMV."
     Link: href="/veterinario/fazer_solicitacao_crmv" class="btn btn-verde" "Solicitar Verificação"
   Variáveis: request, verificacao (VerificacaoCRMV ou None)
   Referência: Estrutura única, mas ver outros templates para cards e alerts
#}

```

# templates/veterinario/veterinario_home.html

```html
{# TODO: Dashboard do Veterinário
   - Estender base_publica.html
   - Título: "Meu Painel - Veterinário"
   - Grid com 3 cards de métricas:
     * Card 1: Total de Artigos ({{ total_artigos }}) - ícone bi-file-text text-roxo
     * Card 2: Total de Visualizações ({{ total_visualizacoes }}) - ícone bi-eye text-laranja
     * Card 3: Total de Curtidas ({{ total_curtidas }}) - ícone bi-heart text-rosa
   - Seção "Meus Artigos" com grid dos últimos 6 artigos
     Usar: {% include "componentes/artigo_card.html" %}
   - Botão: href="/veterinario/cadastrar_postagem_artigo" class="btn btn-roxo"
   - Link: href="/veterinario/listar_postagem_artigo" Ver Todos os Artigos
   Variáveis: request, artigos, total_artigos, total_visualizacoes, total_curtidas
   Referência: templates/admin/home_administrador.html e templates/tutor/home_tutor.html
#}

```

# tests/__init__.py

```py

```

# tests/conftest.py

```py
"""
Fixtures compartilhadas para os testes do VetConecta.

Este arquivo contém fixtures que são automaticamente disponibilizadas
para todos os testes do projeto.
"""

import os
import tempfile
import pytest
from datetime import datetime

from model.usuario_model import Usuario
from model.administrador_model import Administrador


@pytest.fixture
def test_db():
    """
    Cria um banco de dados SQLite temporário para testes.

    O banco é criado antes de cada teste e destruído após,
    garantindo isolamento completo entre testes.

    Yields:
        str: Caminho para o arquivo de banco de dados temporário
    """
    db_fd, db_path = tempfile.mkstemp(suffix=".db")
    os.environ["TEST_DATABASE_PATH"] = db_path

    try:
        yield db_path
    finally:
        try:
            os.close(db_fd)
        except OSError:
            pass  # Já foi fechado

        try:
            os.remove(db_path)
        except (PermissionError, FileNotFoundError):
            # Em Windows, o arquivo pode estar bloqueado
            pass


@pytest.fixture
def usuario_padrao():
    """
    Cria uma instância padrão de Usuario para testes.

    Returns:
        Usuario: Objeto Usuario com dados de teste
    """
    return Usuario(
        id_usuario=0,
        nome="João Test",
        email="joao.test@vetconecta.com",
        senha="senha_segura_123",
        telefone="11999999999",
        perfil="tutor",
        token_redefinicao=None,
        data_token=None,
        data_cadastro=None,
    )


@pytest.fixture
def veterinario_padrao():
    """
    Cria uma instância padrão de Veterinário para testes.

    Returns:
        Usuario: Objeto Usuario com perfil veterinário
    """
    return Usuario(
        id_usuario=0,
        nome="Dra. Maria Veterinária",
        email="maria.vet@vetconecta.com",
        senha="senha_segura_456",
        telefone="11888888888",
        perfil="veterinario",
        token_redefinicao=None,
        data_token=None,
        data_cadastro=None,
    )


@pytest.fixture
def admin_padrao():
    """
    Cria uma instância padrão de Administrador para testes.

    Returns:
        Administrador: Objeto Administrador com dados de teste
    """
    return Administrador(
        id_admin=0,
        nome="Admin Test",
        email="admin@vetconecta.com",
        senha="admin_senha_789",
    )


@pytest.fixture
def data_atual():
    """
    Retorna a data/hora atual para testes.

    Returns:
        datetime: Data/hora atual
    """
    return datetime.now()


@pytest.fixture
def email_unico():
    """
    Gera um email único para testes usando timestamp.

    Returns:
        function: Função que gera emails únicos
    """
    import time

    def _gerar_email(prefixo="test"):
        timestamp = str(int(time.time() * 1000000))  # microsegundos
        return f"{prefixo}_{timestamp}@test.com"

    return _gerar_email

```

# tests/test_administrador_repo.py

```py
import pytest
from repo.administrador_repo import (
    atualizar,
    atualizar_senha,
    criar_tabela,
    excluir,
    inserir,
    obter_pagina,
    obter_por_id,
    importar,
)
from model.administrador_model import Administrador


class TestAdministradorRepo:
    def test_criar_tabela_administrador(self, test_db):
        # Arrange
        # Act
        resultado = criar_tabela()
        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_administrador(self, test_db):
        # Arrange
        criar_tabela()
        admin_teste = Administrador(
            0, "Admin Teste", "admin@gmail.com", "12345678"
        )
        # Act
        id_admin_inserido = inserir(admin_teste)
        assert id_admin_inserido is not None
        # Assert
        admin_db = obter_por_id(id_admin_inserido)  # type: ignore[arg-type]
        assert (
            admin_db is not None
        ), "O administrador inserido não deveria ser None"
        assert (
            admin_db.id_admin == 1
        ), "O administrador inserido deveria ter um ID igual a 1"
        assert (
            admin_db.nome == "Admin Teste"
        ), "O nome do administrador inserido não confere"
        assert (
            admin_db.email == "admin@gmail.com"
        ), "O email do administrador inserido não confere"
        assert (
            admin_db.senha == "12345678"
        ), "A senha do administrador inserido não confere"

    def test_atualizar_administrador(self, test_db):
        # Arrange
        criar_tabela()
        admin_teste = Administrador(
            0, "Admin Teste", "admin@gmail.com", "12345678"
        )
        id_admin_inserido = inserir(admin_teste)
        assert id_admin_inserido is not None
        admin_inserido = obter_por_id(id_admin_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert admin_inserido is not None
        # Act
        admin_inserido.nome = "Admin Atualizado"
        admin_inserido.email = "emailAtualizado@gmail.com"
        admin_inserido.senha = "12345678"
        resultado = atualizar(admin_inserido)
        # Assert
        assert (
            resultado is True
        ), "A atualização do administrador deveria retornar True"
        admin_db = obter_por_id(id_admin_inserido)  # type: ignore[arg-type]
        assert admin_db is not None
        assert (
            admin_db.nome == "Admin Atualizado"
        ), "O nome do administrador atualizado não confere"
        assert (
            admin_db.email == "emailAtualizado@gmail.com"
        ), "O email do administrador atualizado não confere"
        assert (
            admin_db.senha == "12345678"
        ), "A senha do administrador atualizado não confere"

    def test_atualizar_senha(self, test_db):
        # Arrange
        criar_tabela()
        admin_teste = Administrador(
            0, "Admin Teste", "admin@gmail.com", "12345678"
        )
        id_admin_inserido = inserir(admin_teste)
        assert id_admin_inserido is not None
        # Act
        nova_senha = "87654321"
        resultado = atualizar_senha(id_admin_inserido, nova_senha)  # type: ignore[arg-type]  # noqa: E501
        # Assert
        assert (
            resultado is True
        ), "A atualização da senha deveria retornar True"
        admin_db = obter_por_id(id_admin_inserido)  # type: ignore[arg-type]
        assert admin_db is not None
        assert (
            admin_db.senha == nova_senha
        ), "A senha do administrador atualizado não confere"

    def test_excluir_administrador(self, test_db):
        # Arrange
        criar_tabela()
        admin_teste = Administrador(
            0, "Admin Teste", "admin@gmail.com", "12345678"
        )
        id_admin_inserido = inserir(admin_teste)
        # Act
        resultado = excluir(id_admin_inserido)  # type: ignore[arg-type]
        # Assert
        assert (
            resultado is True
        ), "A exclusão do administrador deveria retornar True"
        admin_excluido = obter_por_id(id_admin_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert (
            admin_excluido is None
        ), "O administrador excluído deveria ser None"

    def test_obter_todos_administradores(self, test_db):
        # Arrange
        criar_tabela()
        admin1 = Administrador(0, "Admin 1", "admin@gmail.com", "12345678")
        admin2 = Administrador(0, "Admin 2", "admin@@gmail.com", "87654321")
        inserir(admin1)
        inserir(admin2)
        # Act
        administradores = obter_pagina(0, 10)

        # Assert
        assert len(administradores) == 2, "Deveria haver 2 administradores"
        assert (
            administradores[0].nome == "Admin 1"
        ), "O nome do primeiro administrador não confere"
        assert (
            administradores[1].nome == "Admin 2"
        ), "O nome do segundo administrador não confere"

    def test_obter_administrador_por_id(self, test_db):
        # Arrange
        criar_tabela()
        admin_teste = Administrador(
            0, "Admin Teste", "admin@gmail.com", "12345678"
        )
        id_admin_inserido = inserir(admin_teste)
        # Act
        admin_obtido = obter_por_id(id_admin_inserido)  # type: ignore[arg-type]  # noqa: E501
        # Assert
        assert (
            admin_obtido is not None
        ), "O administrador obtido não deveria ser None"
        assert (
            admin_obtido.id_admin == id_admin_inserido
        ), "O ID do administrador obtido não confere"
        assert (
            admin_obtido.nome == admin_teste.nome
        ), "O nome do administrador obtido não confere"
        assert (
            admin_obtido.email == admin_teste.email
        ), "O email do administrador obtido não confere"
        assert (
            admin_obtido.senha == admin_teste.senha
        ), "A senha do administrador obtido não confere"

    def test_importar_administrador_sucesso(self, test_db):
        """Testa importação de administrador com ID específico"""
        # Arrange
        criar_tabela()
        admin_importado = Administrador(
            id_admin=100,  # ID específico para importação
            nome="Admin Importado",
            email="admin.importado@gmail.com",
            senha="12345678",
        )

        # Act
        resultado = importar(admin_importado)

        # Assert
        assert resultado is True, "Importação deveria retornar True"

        # Verificar se foi salvo com o ID correto
        admin_db = obter_por_id(100)
        assert admin_db is not None, "Administrador importado deveria existir"
        assert admin_db.id_admin == 100, "ID deveria ser 100"
        assert admin_db.nome == "Admin Importado"
        assert admin_db.email == "admin.importado@gmail.com"
        assert admin_db.senha == "12345678"

    def test_importar_administrador_id_duplicado(self, test_db):
        """Testa importação de administrador com ID duplicado"""
        # Arrange
        criar_tabela()
        admin1 = Administrador(
            id_admin=200,
            nome="Admin Primeiro",
            email="primeiro@gmail.com",
            senha="12345678",
        )
        admin2 = Administrador(
            id_admin=200,  # Mesmo ID
            nome="Admin Segundo",
            email="segundo@gmail.com",
            senha="87654321",
        )

        # Act
        resultado1 = importar(admin1)
        assert resultado1 is True

        # Assert - deve falhar por ID duplicado
        with pytest.raises(Exception):
            importar(admin2)

    def test_importar_multiplos_administradores(self, test_db):
        """Testa importação de múltiplos administradores com IDs específicos"""
        # Arrange
        criar_tabela()
        administradores = [
            Administrador(
                id_admin=301,
                nome="Admin 1",
                email="admin1@gmail.com",
                senha="senha001",
            ),
            Administrador(
                id_admin=302,
                nome="Admin 2",
                email="admin2@gmail.com",
                senha="senha002",
            ),
            Administrador(
                id_admin=303,
                nome="Admin 3",
                email="admin3@gmail.com",
                senha="senha003",
            ),
        ]

        # Act
        for admin in administradores:
            resultado = importar(admin)
            assert (
                resultado is True
            ), f"Importação de {admin.nome} deveria retornar True"

        # Assert
        admin1_db = obter_por_id(301)
        admin2_db = obter_por_id(302)
        admin3_db = obter_por_id(303)

        assert admin1_db is not None and admin1_db.id_admin == 301
        assert admin2_db is not None and admin2_db.id_admin == 302
        assert admin3_db is not None and admin3_db.id_admin == 303

        assert admin1_db.nome == "Admin 1"
        assert admin2_db.nome == "Admin 2"
        assert admin3_db.nome == "Admin 3"

        assert admin1_db.email == "admin1@gmail.com"
        assert admin2_db.email == "admin2@gmail.com"
        assert admin3_db.email == "admin3@gmail.com"

    def test_importar_administrador_email_duplicado(self, test_db):
        """Testa importação de administrador com email duplicado"""
        # Arrange
        criar_tabela()
        admin1 = Administrador(
            id_admin=401,
            nome="Admin 1",
            email="duplicado@gmail.com",
            senha="12345678",
        )
        admin2 = Administrador(
            id_admin=402,  # ID diferente
            nome="Admin 2",
            email="duplicado@gmail.com",  # Email duplicado
            senha="87654321",
        )

        # Act
        resultado1 = importar(admin1)
        assert resultado1 is True

        # Assert - deve falhar por email único
        with pytest.raises(Exception):
            importar(admin2)

```

# tests/test_categoria_artigo_repo.py

```py
import pytest
from repo.categoria_artigo_repo import (
    criar_tabela as criar_tabela_categoria_artigo,
    inserir as inserir_categoria,
    atualizar as atualizar_categoria,
    excluir as excluir_categoria,
    obter_pagina as obter_categorias_paginado,
    obter_por_id as obter_categoria_por_id,
)
from model.categoria_artigo_model import CategoriaArtigo


class TestCategoriaArtigoRepo:
    """Testes para o repositório de categorias de artigos"""

    @pytest.fixture(autouse=True)
    def setup(self, test_db):
        """Setup executado antes de cada teste"""
        criar_tabela_categoria_artigo()

    def test_criar_tabela(self, test_db):
        """Testa a criação da tabela de categorias"""
        # Arrange - já feito no setup
        # Act
        resultado = criar_tabela_categoria_artigo()

        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_categoria_sucesso(self, test_db):
        """Testa inserção de categoria com sucesso"""
        # Arrange
        categoria = CategoriaArtigo(
            id_categoria_artigo=0,  # 0 para auto-increment
            nome="Nutrição Animal",
            cor="#FF5733",
        )

        # Act
        id_inserido = inserir_categoria(categoria)

        # Assert
        assert (
            id_inserido is not None
        ), "ID da categoria inserida não deveria ser None"
        assert id_inserido > 0, "ID deveria ser maior que zero"

        # Verificar se foi salvo corretamente
        categoria_db = obter_categoria_por_id(id_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert categoria_db is not None, "Categoria deveria existir no banco"
        assert categoria_db.nome == categoria.nome
        assert categoria_db.cor == categoria.cor

    def test_inserir_categoria_sem_descricao(self, test_db):
        """Testa inserção de categoria sem cor definida"""
        # Arrange
        categoria = CategoriaArtigo(
            id_categoria_artigo=0,
            nome="Comportamento",
            cor="#FFFFFF",
        )

        # Act
        id_inserido = inserir_categoria(categoria)

        # Assert
        assert id_inserido is not None, "Deveria permitir inserir categoria"

        categoria_db = obter_categoria_por_id(id_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert categoria_db is not None
        assert categoria_db.nome == "Comportamento"
        assert categoria_db.cor == "#FFFFFF"

    def test_atualizar_categoria_sucesso(self, test_db):
        """Testa atualização de categoria com sucesso"""
        # Arrange
        categoria_original = CategoriaArtigo(
            0, "Nome Original", "#000000"
        )
        id_categoria = inserir_categoria(categoria_original)
        assert id_categoria is not None

        # Act
        categoria_atualizada = CategoriaArtigo(
            id_categoria_artigo=id_categoria,
            nome="Nome Atualizado",
            cor="#111111",
        )
        resultado = atualizar_categoria(categoria_atualizada)

        # Assert
        assert resultado is True, "Atualização deveria retornar True"

        categoria_db = obter_categoria_por_id(id_categoria)  # type: ignore[arg-type]  # noqa: E501
        assert categoria_db is not None
        assert categoria_db.nome == "Nome Atualizado"
        assert categoria_db.cor == "#111111"

    def test_atualizar_categoria_inexistente(self, test_db):
        """Testa atualização de categoria inexistente"""
        # Arrange
        categoria_inexistente = CategoriaArtigo(
            9999, "Não Existe", "#AAAAAA"
        )

        # Act
        resultado = atualizar_categoria(categoria_inexistente)

        # Assert
        assert (
            resultado is False
        ), "Atualização de categoria inexistente deveria retornar False"

    def test_excluir_categoria_sucesso(self, test_db):
        """Testa exclusão de categoria com sucesso"""
        # Arrange
        categoria = CategoriaArtigo(
            0, "Para Excluir", "#FF0000"
        )
        id_categoria = inserir_categoria(categoria)

        # Act
        resultado = excluir_categoria(id_categoria)  # type: ignore[arg-type]

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"

        categoria_db = obter_categoria_por_id(id_categoria)  # type: ignore[arg-type]  # noqa: E501
        assert categoria_db is None, "Categoria não deveria mais existir"

    def test_excluir_categoria_inexistente(self, test_db):
        """Testa exclusão de categoria inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        resultado = excluir_categoria(id_inexistente)  # type: ignore[arg-type]

        # Assert
        assert (
            resultado is False
        ), "Exclusão de categoria inexistente deveria retornar False"

    def test_obter_categorias_paginado(self, test_db):
        """Testa obtenção paginada de categorias"""
        # Arrange
        categorias = [
            CategoriaArtigo(0, "Alimentação", "#FF5733"),
            CategoriaArtigo(0, "Comportamento", "#3498DB"),
            CategoriaArtigo(0, "Doenças", "#E74C3C"),
            CategoriaArtigo(0, "Emergências", "#F39C12"),
            CategoriaArtigo(0, "Filhotes", "#9B59B6"),
        ]

        for categoria in categorias:
            inserir_categoria(categoria)

        # Act - primeira página
        pagina1 = obter_categorias_paginado(offset=0, limite=3)

        # Assert
        assert len(pagina1) == 3, "Primeira página deveria ter 3 categorias"
        assert pagina1[0].nome == "Alimentação"
        assert pagina1[1].nome == "Comportamento"
        assert pagina1[2].nome == "Doenças"

        # Act - segunda página
        pagina2 = obter_categorias_paginado(offset=3, limite=3)

        # Assert
        assert len(pagina2) == 2, "Segunda página deveria ter 2 categorias"
        assert pagina2[0].nome == "Emergências"
        assert pagina2[1].nome == "Filhotes"

    def test_obter_categorias_paginado_vazio(self, test_db):
        """Testa obtenção paginada quando não há categorias"""
        # Arrange - banco vazio
        # Act
        categorias = obter_categorias_paginado(offset=0, limite=10)

        # Assert
        assert len(categorias) == 0, "Lista deveria estar vazia"

    def test_obter_categoria_por_id_existente(self, test_db):
        """Testa obtenção de categoria por ID existente"""
        # Arrange
        categoria = CategoriaArtigo(0, "Nutrição", "#27AE60")
        id_categoria = inserir_categoria(categoria)

        # Act
        categoria_db = obter_categoria_por_id(id_categoria)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert categoria_db is not None, "Categoria deveria existir"
        assert categoria_db.id_categoria_artigo == id_categoria
        assert categoria_db.nome == categoria.nome
        assert categoria_db.cor == categoria.cor

    def test_obter_categoria_por_id_inexistente(self, test_db):
        """Testa obtenção de categoria por ID inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        categoria = obter_categoria_por_id(id_inexistente)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert categoria is None, "Categoria não deveria existir"

    def test_ordenacao_por_nome(self, test_db):
        """Testa se a ordenação por nome está funcionando"""
        # Arrange
        categorias = [
            CategoriaArtigo(0, "Zebra", "#000000"),
            CategoriaArtigo(0, "Abelha", "#FFFF00"),
            CategoriaArtigo(0, "Macaco", "#8B4513"),
        ]

        for categoria in categorias:
            inserir_categoria(categoria)

        # Act
        categorias_ordenadas = obter_categorias_paginado(offset=0, limite=10)

        # Assert
        assert len(categorias_ordenadas) == 3
        assert categorias_ordenadas[0].nome == "Abelha"
        assert categorias_ordenadas[1].nome == "Macaco"
        assert categorias_ordenadas[2].nome == "Zebra"

```

# tests/test_chamado_repo.py

```py
import pytest
from datetime import datetime
from repo import chamado_repo
from repo import usuario_repo
from repo import administrador_repo
from model.chamado_model import Chamado
from model.usuario_model import Usuario
from model.administrador_model import Administrador
from model.enums import ChamadoStatus


class TestChamadoRepo:
    """Testes para o repositório de chamados"""

    @pytest.fixture(autouse=True)
    def setup(self, test_db):
        """Setup executado antes de cada teste"""
        # Criar tabelas necessárias
        usuario_repo.criar_tabela()
        administrador_repo.criar_tabela()
        chamado_repo.criar_tabela()

        # Criar dados base para os testes
        self.usuario = Usuario(
            0,
            "João Silva",
            "joao@email.com",
            "senha123",
            "11999998888",
            "tutor",
            None,
            None,
            None,
        )
        self.id_usuario = usuario_repo.inserir(self.usuario)
        assert self.id_usuario is not None

        self.admin = Administrador(
            0, "Admin Silva", "admin@email.com", "senha456"
        )
        self.id_admin = administrador_repo.inserir(self.admin)
        assert self.id_admin is not None

    def test_criar_tabela(self, test_db):
        """Testa a criação da tabela de chamados"""
        # Arrange - já feito no setup
        # Act
        resultado = chamado_repo.criar_tabela()

        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_chamado_sucesso(self, test_db):
        """Testa inserção de chamado com sucesso"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        chamado = Chamado(
            id_chamado=0,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            titulo="Problema no sistema",
            descricao="O sistema está apresentando erro ao fazer login",
            status=ChamadoStatus.ABERTO,
            data=datetime.now(),
        )

        # Act
        id_inserido = chamado_repo.inserir(chamado)

        # Assert
        assert (
            id_inserido is not None
        ), "ID do chamado inserido não deveria ser None"
        assert id_inserido > 0, "ID deveria ser maior que zero"

        # Verificar se foi salvo corretamente
        chamado_db = chamado_repo.obter_por_id(id_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert chamado_db is not None, "Chamado deveria existir no banco"
        assert chamado_db.titulo == chamado.titulo
        assert chamado_db.descricao == chamado.descricao
        assert chamado_db.status == ChamadoStatus.ABERTO
        assert chamado_db.id_usuario == self.id_usuario
        assert chamado_db.id_admin == self.id_admin

    def test_inserir_chamado_sem_admin(self, test_db):
        """Testa inserção de chamado sem admin atribuído"""
        # Arrange
        assert self.id_usuario is not None
        chamado = Chamado(
            id_chamado=0,
            id_usuario=self.id_usuario,
            id_admin=None,  # Sem admin atribuído
            titulo="Dúvida sobre funcionalidade",
            descricao="Como faço para resetar minha senha?",
            status=ChamadoStatus.ABERTO,
            data=datetime.now(),
        )

        # Act
        id_inserido = chamado_repo.inserir(chamado)

        # Assert
        assert (
            id_inserido is not None
        ), "Deveria permitir inserir chamado sem admin"

        chamado_db = chamado_repo.obter_por_id(id_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert chamado_db is not None
        assert chamado_db.id_admin is None

    def test_atualizar_status_chamado_sucesso(self, test_db):
        """Testa atualização de status do chamado com sucesso"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        chamado = Chamado(
            id_chamado=0,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            titulo="Problema urgente",
            descricao="Sistema fora do ar",
            status=ChamadoStatus.ABERTO,
            data=datetime.now(),
        )
        id_chamado = chamado_repo.inserir(chamado)
        assert id_chamado is not None

        # Act - mudar para em andamento
        resultado = chamado_repo.atualizar_status(
            id_chamado, ChamadoStatus.EM_ANDAMENTO
        )

        # Assert
        assert resultado is True, "Atualização deveria retornar True"

        chamado_db = chamado_repo.obter_por_id(id_chamado)  # type: ignore[arg-type]  # noqa: E501
        assert chamado_db is not None
        assert chamado_db.status == ChamadoStatus.EM_ANDAMENTO

        # Act - mudar para resolvido
        resultado = chamado_repo.atualizar_status(
            id_chamado, ChamadoStatus.RESOLVIDO
        )

        # Assert
        assert resultado is True
        chamado_db = chamado_repo.obter_por_id(id_chamado)  # type: ignore[arg-type]  # noqa: E501
        assert chamado_db is not None
        assert chamado_db.status == ChamadoStatus.RESOLVIDO

    def test_atualizar_status_chamado_inexistente(self, test_db):
        """Testa atualização de status de chamado inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        resultado = chamado_repo.atualizar_status(
            id_inexistente, ChamadoStatus.RESOLVIDO
        )

        # Assert
        assert (
            resultado is False
        ), "Atualização de chamado inexistente deveria retornar False"

    def test_excluir_chamado_sucesso(self, test_db):
        """Testa exclusão de chamado com sucesso"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        chamado = Chamado(
            id_chamado=0,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            titulo="Para excluir",
            descricao="Este chamado será excluído",
            status=ChamadoStatus.ABERTO,
            data=datetime.now(),
        )
        id_chamado = chamado_repo.inserir(chamado)

        # Act
        resultado = chamado_repo.excluir(id_chamado)  # type: ignore[arg-type]

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"

        chamado_db = chamado_repo.obter_por_id(id_chamado)  # type: ignore[arg-type]  # noqa: E501
        assert chamado_db is None, "Chamado não deveria mais existir"

    def test_excluir_chamado_inexistente(self, test_db):
        """Testa exclusão de chamado inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        resultado = chamado_repo.excluir(id_inexistente)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert (
            resultado is False
        ), "Exclusão de chamado inexistente deveria retornar False"

    def test_obter_todos_chamados_paginado(self, test_db):
        """Testa obtenção paginada de chamados"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        chamados = [
            Chamado(
                0,
                self.id_usuario,
                self.id_admin,
                "Erro no login",
                "Não consigo fazer login",
                ChamadoStatus.ABERTO,
                datetime.now(),
            ),
            Chamado(
                0,
                self.id_usuario,
                None,
                "Dúvida",
                "Como altero meu email?",
                ChamadoStatus.ABERTO,
                datetime.now(),
            ),
            Chamado(
                0,
                self.id_usuario,
                self.id_admin,
                "Bug crítico",
                "Sistema travando",
                ChamadoStatus.EM_ANDAMENTO,
                datetime.now(),
            ),
            Chamado(
                0,
                self.id_usuario,
                self.id_admin,
                "Sugestão",
                "Adicionar modo escuro",
                ChamadoStatus.RESOLVIDO,
                datetime.now(),
            ),
            Chamado(
                0,
                self.id_usuario,
                None,
                "Problema resolvido",
                "Já foi corrigido",
                ChamadoStatus.RESOLVIDO,
                datetime.now(),
            ),
        ]

        for chamado in chamados:
            chamado_repo.inserir(chamado)

        # Act - primeira página
        pagina1 = chamado_repo.obter_pagina(offset=0, limite=3)

        # Assert
        assert len(pagina1) == 3, "Primeira página deveria ter 3 chamados"

        # Act - segunda página
        pagina2 = chamado_repo.obter_pagina(offset=3, limite=3)

        # Assert
        assert len(pagina2) == 2, "Segunda página deveria ter 2 chamados"

    def test_obter_todos_chamados_paginado_vazio(self, test_db):
        """Testa obtenção paginada quando não há chamados"""
        # Arrange - sem inserir chamados adicionais
        # Act
        chamados = chamado_repo.obter_pagina(offset=0, limite=10)

        # Assert
        assert isinstance(chamados, list), "Deveria retornar uma lista"

    def test_obter_chamado_por_id_existente(self, test_db):
        """Testa obtenção de chamado por ID existente"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        chamado = Chamado(
            id_chamado=0,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            titulo="Teste de busca",
            descricao="Descrição do teste",
            status=ChamadoStatus.ABERTO,
            data=datetime.now(),
        )
        id_chamado = chamado_repo.inserir(chamado)

        # Act
        chamado_db = chamado_repo.obter_por_id(id_chamado)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert chamado_db is not None, "Chamado deveria existir"
        assert chamado_db.id_chamado == id_chamado
        assert chamado_db.titulo == chamado.titulo
        assert chamado_db.descricao == chamado.descricao
        assert chamado_db.status == chamado.status

    def test_obter_chamado_por_id_inexistente(self, test_db):
        """Testa obtenção de chamado por ID inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        chamado = chamado_repo.obter_por_id(id_inexistente)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert chamado is None, "Chamado não deveria existir"

    def test_fluxo_completo_chamado(self, test_db):
        """Testa fluxo completo: criar, atualizar status e resolver chamado"""
        # Arrange
        assert self.id_usuario is not None
        chamado = Chamado(
            id_chamado=0,
            id_usuario=self.id_usuario,
            id_admin=None,  # Inicialmente sem admin
            titulo="Problema completo",
            descricao="Teste de fluxo completo",
            status=ChamadoStatus.ABERTO,
            data=datetime.now(),
        )

        # Act 1 - Criar chamado
        id_chamado = chamado_repo.inserir(chamado)
        assert id_chamado is not None

        # Act 2 - Admin pega o chamado (atualiza status)
        resultado = chamado_repo.atualizar_status(
            id_chamado, ChamadoStatus.EM_ANDAMENTO
        )
        assert resultado is True

        # Verificar status
        chamado_db = chamado_repo.obter_por_id(id_chamado)  # type: ignore[arg-type]  # noqa: E501
        assert chamado_db is not None
        assert chamado_db.status == ChamadoStatus.EM_ANDAMENTO

        # Act 3 - Resolver chamado
        resultado = chamado_repo.atualizar_status(
            id_chamado, ChamadoStatus.RESOLVIDO
        )
        assert resultado is True

        # Verificar resolução
        chamado_db = chamado_repo.obter_por_id(id_chamado)  # type: ignore[arg-type]  # noqa: E501
        assert chamado_db is not None
        assert chamado_db.status == ChamadoStatus.RESOLVIDO

```

# tests/test_comentario_repo.py

```py
# import os  # noqa: F401
# import sys  # noqa: F401
from datetime import date
from model.categoria_artigo_model import CategoriaArtigo
from model.comentario_model import ComentarioArtigo
from model.usuario_model import Usuario
from model.veterinario_model import Veterinario
from model.postagem_artigo_model import PostagemArtigo

from repo.comentario_artigo_repo import (
    atualizar,
    criar_tabela,
    excluir,
    inserir,
    obter_pagina,
    obter_por_id,
    criar_tabela as criar_tabela_comentario,
)
from repo.usuario_repo import (
    inserir as inserir_usuario,
    criar_tabela as criar_tabela_usuario,
)
from repo.veterinario_repo import criar_tabela as criar_tabela_veterinario
from repo.categoria_artigo_repo import (
    inserir as inserir_categoria,
    criar_tabela as criar_tabela_categoria_artigo,
)
from repo.postagem_artigo_repo import (
    inserir as inserir_artigo,
    criar_tabela as criar_tabela_postagem_artigo,
)
from repo.veterinario_repo import inserir as inserir_veterinario
from datetime import datetime


class TestComentarioRepo:
    def test_criar_tabela(self, test_db):
        # Arrange
        # Act
        resultado = criar_tabela()
        # Assert
        assert (
            resultado is True
        ), "A criação da tabela de comentários deveria retornar True"

    def test_inserir(self, test_db):
        criar_tabela_usuario()
        criar_tabela_veterinario()
        criar_tabela_categoria_artigo()
        criar_tabela_postagem_artigo()
        criar_tabela_comentario()

        usuario_teste = Usuario(
            0,
            "Usuário Teste",
            "usuario@teste.com",
            "senha123",
            "11999999999",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario_teste)
        assert id_usuario is not None
        usuario_teste.id_usuario = id_usuario  # Atualiza o ID do usuário após inserção

        # Criar veterinário diretamente (inserir_veterinario já cria o usuário)
        veterinario_teste = Veterinario(
            id_usuario=0,
            nome="Veterinário Teste",
            email="veterinario_unico@teste.com",  # Email único
            senha="senha123",
            telefone="11888888888",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV12345",
            verificado=True,
            bio="bioteste",
        )
        id_usuario_vet = inserir_veterinario(veterinario_teste)
        assert id_usuario_vet is not None
        veterinario_teste.id_usuario = id_usuario_vet

        categoria_artigo_teste = CategoriaArtigo(
            0, "Categoria Teste", "#FF5733"
        )
        id_categoria_artigo = inserir_categoria(categoria_artigo_teste)
        assert id_categoria_artigo is not None

        postagem_artigo_teste = PostagemArtigo(
            id_postagem_artigo=0,
            id_veterinario=id_usuario_vet,  # ID do veterinário
            titulo="Título do Artigo Teste",
            conteudo="Conteúdo do artigo teste",
            id_categoria_artigo=id_categoria_artigo,  # ID da categoria
            data_publicacao=date(2023, 10, 1),
            visualizacoes=100,  # inteiro, não string
        )
        id_postagem_artigo = inserir_artigo(postagem_artigo_teste)
        assert id_postagem_artigo is not None
        postagem_artigo_teste.id_postagem_artigo = id_postagem_artigo

        comentario_teste = ComentarioArtigo(
            id_comentario_artigo=0,
            id_usuario=id_usuario,  # ID do usuário
            id_postagem_artigo=id_postagem_artigo,  # ID da postagem
            texto="Este é um comentário de teste",
            data_comentario=datetime.now(),
            data_moderacao=None,
        )

        id_comentario_inserido = inserir(comentario_teste)
        assert id_comentario_inserido is not None

        comentario_db = obter_por_id(id_comentario_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert comentario_db is not None

        # ASSERTS
        assert comentario_db is not None, "O comentário inserido não deveria ser None"
        assert (
            comentario_db.id_usuario == id_usuario
        ), "O ID do usuário do comentário inserido não confere"
        assert (
            comentario_db.id_postagem_artigo == id_postagem_artigo
        ), "O ID do artigo do comentário inserido não confere"
        assert (
            comentario_db.texto == "Este é um comentário de teste"
        ), "O texto do comentário inserido não confere"

    def test_atualizar_comentario_sucesso(self, test_db):
        """Testa atualização de comentário com sucesso"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        criar_tabela_categoria_artigo()
        criar_tabela_postagem_artigo()
        criar_tabela_comentario()

        usuario = Usuario(
            0,
            "João",
            "joao@test.com",
            "senha123",
            "11999999999",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None

        veterinario = Veterinario(
            0,
            "Dr. Silva",
            "silva@vet.com",
            "senha123",
            "11888888888",
            "veterinario",
            None,
            None,
            None,
            
            "CRMV111",
            True,
            "Bio",
        )
        id_vet = inserir_veterinario(veterinario)
        assert id_vet is not None

        categoria = CategoriaArtigo(0, "Saúde", "#FF5733")
        id_categoria = inserir_categoria(categoria)
        assert id_categoria is not None

        artigo = PostagemArtigo(
            0,
            id_vet,
            "Artigo Teste",
            "Conteúdo",
            id_categoria,
            date(2023, 10, 1),
            10,
        )
        id_artigo = inserir_artigo(artigo)
        assert id_artigo is not None

        comentario = ComentarioArtigo(
            0,
            id_usuario,
            id_artigo,
            "Comentário original",
            datetime.now(),
            None,
        )
        id_comentario = inserir(comentario)
        assert id_comentario is not None

        # Act
        comentario_atualizado = ComentarioArtigo(
            id_comentario,
            id_usuario,
            id_artigo,
            "Comentário atualizado",
            datetime.now(),
            datetime.now(),
        )
        resultado = atualizar(comentario_atualizado)

        # Assert
        assert resultado is True, "Atualização deveria retornar True"
        comentario_db = obter_por_id(id_comentario)  # type: ignore[arg-type]
        assert comentario_db is not None
        assert (
            comentario_db.texto == "Comentário atualizado"
        ), "Texto deveria estar atualizado"

    def test_atualizar_comentario_inexistente(self, test_db):
        """Testa atualização de comentário inexistente"""
        # Arrange
        criar_tabela_comentario()
        comentario = ComentarioArtigo(9999, 1, 1, "Texto", datetime.now(), None)

        # Act
        resultado = atualizar(comentario)

        # Assert
        assert (
            resultado is False
        ), "Atualização de comentário inexistente deveria retornar False"

    def test_excluir_comentario_sucesso(self, test_db):
        """Testa exclusão de comentário com sucesso"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        criar_tabela_categoria_artigo()
        criar_tabela_postagem_artigo()
        criar_tabela_comentario()

        usuario = Usuario(
            0,
            "Maria",
            "maria@test.com",
            "senha123",
            "11999999999",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None

        veterinario = Veterinario(
            0,
            "Dr. Costa",
            "costa@vet.com",
            "senha123",
            "11888888888",
            "veterinario",
            None,
            None,
            None,
            
            "CRMV222",
            True,
            "Bio",
        )
        id_vet = inserir_veterinario(veterinario)

        categoria = CategoriaArtigo(0, "Nutrição", "#00FF00")
        id_categoria = inserir_categoria(categoria)
        assert id_categoria is not None

        assert id_vet is not None
        artigo = PostagemArtigo(
            0,
            id_vet,
            "Nutrição Canina",
            "Conteúdo",
            id_categoria,
            date(2023, 10, 1),
            20,
        )
        id_artigo = inserir_artigo(artigo)
        assert id_artigo is not None

        comentario = ComentarioArtigo(
            0, id_usuario, id_artigo, "Ótimo artigo!", datetime.now(), None
        )
        id_comentario = inserir(comentario)

        # Act
        resultado = excluir(id_comentario)  # type: ignore[arg-type]

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"
        comentario_db = obter_por_id(id_comentario)  # type: ignore[arg-type]
        assert comentario_db is None, "Comentário não deveria mais existir"

    def test_excluir_comentario_inexistente(self, test_db):
        """Testa exclusão de comentário inexistente"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        criar_tabela_categoria_artigo()
        criar_tabela_postagem_artigo()
        criar_tabela_comentario()

        # Act
        resultado = excluir(9999)

        # Assert
        assert (
            resultado is False
        ), "Exclusão de comentário inexistente deveria retornar False"

    def test_OBTER_PAGINA(self, test_db):
        """Testa obtenção paginada de comentários"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        criar_tabela_categoria_artigo()
        criar_tabela_postagem_artigo()
        criar_tabela_comentario()

        usuario = Usuario(
            0,
            "Pedro",
            "pedro@test.com",
            "senha123",
            "11999999999",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None

        veterinario = Veterinario(
            0,
            "Dr. Lima",
            "lima@vet.com",
            "senha123",
            "11888888888",
            "veterinario",
            None,
            None,
            None,
            
            "CRMV333",
            True,
            "Bio",
        )
        id_vet = inserir_veterinario(veterinario)

        categoria = CategoriaArtigo(0, "Comportamento", "#0000FF")
        id_categoria = inserir_categoria(categoria)
        assert id_categoria is not None

        assert id_vet is not None
        artigo = PostagemArtigo(
            0,
            id_vet,
            "Comportamento Felino",
            "Conteúdo",
            id_categoria,
            date(2023, 10, 1),
            30,
        )
        id_artigo = inserir_artigo(artigo)
        assert id_artigo is not None

        # Criar 5 comentários
        for i in range(5):
            comentario = ComentarioArtigo(
                0,
                id_usuario,
                id_artigo,
                f"Comentário {i}",
                datetime.now(),
                None,
            )
            inserir(comentario)

        # Act
        comentarios = obter_pagina(limite=3, offset=0)

        # Assert
        assert len(comentarios) == 3, "Deveria retornar 3 comentários"
        assert all(
            isinstance(c, ComentarioArtigo) for c in comentarios
        ), "Todos deveriam ser Comentario"

    def test_OBTER_PAGINA_vazio(self, test_db):
        """Testa obtenção paginada quando não há comentários"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        criar_tabela_categoria_artigo()
        criar_tabela_postagem_artigo()
        criar_tabela_comentario()

        # Act
        comentarios = obter_pagina(limite=10, offset=0)

        # Assert
        assert len(comentarios) == 0, "Deveria retornar lista vazia"

    def test_obter_por_id_inexistente(self, test_db):
        """Testa obtenção de comentário inexistente"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        criar_tabela_categoria_artigo()
        criar_tabela_postagem_artigo()
        criar_tabela_comentario()

        # Act
        comentario = obter_por_id(9999)

        # Assert
        assert comentario is None, "Comentário inexistente deveria retornar None"

```

# tests/test_curtida_artigo_repo.py

```py
# import os  # noqa: F401
# import sys  # noqa: F401
from model.categoria_artigo_model import CategoriaArtigo
from model.curtida_artigo_model import CurtidaArtigo
from model.usuario_model import Usuario
from model.postagem_artigo_model import PostagemArtigo
from repo import (
    categoria_artigo_repo,
    usuario_repo,
    postagem_artigo_repo,
    curtida_artigo_repo,
    veterinario_repo,
)
from datetime import datetime

from model.veterinario_model import Veterinario


class TestCurtidaArtigoRepo:
    def test_criar_tabela(self, test_db):
        # Arrange
        # Act
        resultado = curtida_artigo_repo.criar_tabela()
        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_curtida(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        veterinario_repo.criar_tabela()
        categoria_artigo_repo.criar_tabela()
        postagem_artigo_repo.criar_tabela()
        curtida_artigo_repo.criar_tabela()

        # Criar usuário para curtir
        usuario = Usuario(
            id_usuario=0,
            nome="João",
            email="joao@example.com",
            senha="senha123",
            telefone="123456789",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )
        id_usuario = usuario_repo.inserir(usuario)
        assert id_usuario is not None

        # Criar veterinário para postar
        veterinario = Veterinario(
            id_usuario=0,
            nome="Dr. Silva",
            email="dr.silva@vet.com",
            senha="vet123",
            telefone="987654321",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="12345-SP",
            verificado=True,
            bio="Veterinário especialista",
        )
        id_veterinario = veterinario_repo.inserir(veterinario)
        assert id_veterinario is not None

        # Criar categoria
        categoria = CategoriaArtigo(
            id_categoria_artigo=0,
            nome="Cuidados",
            cor="#3498DB",
        )
        id_categoria = categoria_artigo_repo.inserir(categoria)
        assert id_categoria is not None

        # Criar postagem
        postagem = PostagemArtigo(
            id_postagem_artigo=0,
            id_veterinario=id_veterinario,
            titulo="Vacinação de Gatos",
            conteudo="Texto do artigo",
            id_categoria_artigo=id_categoria,
            data_publicacao=datetime.today().date(),
            visualizacoes=0,
        )
        id_postagem = postagem_artigo_repo.inserir(postagem)
        assert id_postagem is not None

        # Criar curtida
        data_hoje = datetime.now()
        assert id_usuario is not None
        assert id_postagem is not None
        curtida = CurtidaArtigo(
            id_usuario=id_usuario,
            id_postagem_artigo=id_postagem,
            data_curtida=data_hoje,
        )
        resultado_inserir = curtida_artigo_repo.inserir(curtida)

        # Act
        curtida_db = curtida_artigo_repo.obter_por_id(id_usuario, id_postagem)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert (
            resultado_inserir is True
        ), "A inserção da curtida deveria retornar True"
        assert curtida_db is not None, "A curtida deveria ser encontrada"
        assert id_usuario is not None
        assert id_postagem is not None
        assert (
            curtida_db.id_usuario == id_usuario
        ), "O usuário da curtida não corresponde"
        assert (
            curtida_db.id_postagem_artigo == id_postagem
        ), "O artigo da curtida não corresponde"
        assert curtida_db.data_curtida is not None
        assert (
            curtida_db.data_curtida.date() == data_hoje.date()
        ), "A data da curtida não corresponde"

    def test_excluir_curtida_sucesso(self, test_db):
        """Testa exclusão de curtida com sucesso"""
        # Arrange
        usuario_repo.criar_tabela()
        veterinario_repo.criar_tabela()
        categoria_artigo_repo.criar_tabela()
        postagem_artigo_repo.criar_tabela()
        curtida_artigo_repo.criar_tabela()

        # Criar usuário
        usuario = Usuario(
            0,
            "Maria",
            "maria@example.com",
            "senha123",
            "123456789",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = usuario_repo.inserir(usuario)

        # Criar veterinário
        veterinario = Veterinario(
            0,
            "Dr. Lima",
            "dr.lima@vet.com",
            "vet123",
            "987654321",
            "veterinario",
            None,
            None,
            None,
            "54321-RJ",
            True,
            "Veterinário",
        )
        id_veterinario = veterinario_repo.inserir(veterinario)
        assert id_veterinario is not None

        # Criar categoria
        categoria = CategoriaArtigo(0, "Saúde", "#2ECC71")
        id_categoria = categoria_artigo_repo.inserir(categoria)
        assert id_categoria is not None

        # Criar postagem
        assert id_veterinario is not None
        postagem = PostagemArtigo(
            0,
            id_veterinario,
            "Doenças em Cães",
            "Conteúdo",
            id_categoria,
            datetime.today().date(),
            0,
        )
        id_postagem = postagem_artigo_repo.inserir(postagem)
        assert id_postagem is not None

        # Criar curtida
        curtida = CurtidaArtigo(id_usuario, id_postagem, datetime.now())  # type: ignore[arg-type]  # noqa: E501
        curtida_artigo_repo.inserir(curtida)

        # Act
        resultado = curtida_artigo_repo.excluir(id_usuario, id_postagem)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"
        curtida_db = curtida_artigo_repo.obter_por_id(id_usuario, id_postagem)  # type: ignore[arg-type]  # noqa: E501
        assert curtida_db is None, "Curtida não deveria mais existir"

    def test_excluir_curtida_inexistente(self, test_db):
        """Testa exclusão de curtida inexistente"""
        # Arrange
        curtida_artigo_repo.criar_tabela()

        # Act
        resultado = curtida_artigo_repo.excluir(9999, 9999)

        # Assert
        assert (
            resultado is False
        ), "Exclusão de curtida inexistente deveria retornar False"

    def test_OBTER_PAGINA(self, test_db):
        """Testa obtenção paginada de curtidas"""
        # Arrange
        usuario_repo.criar_tabela()
        veterinario_repo.criar_tabela()
        categoria_artigo_repo.criar_tabela()
        postagem_artigo_repo.criar_tabela()
        curtida_artigo_repo.criar_tabela()

        # Criar veterinário
        veterinario = Veterinario(
            0,
            "Dr. Costa",
            "dr.costa@vet.com",
            "vet123",
            "987654321",
            "veterinario",
            None,
            None,
            None,
            "11111-SP",
            True,
            "Veterinário",
        )
        id_veterinario = veterinario_repo.inserir(veterinario)
        assert id_veterinario is not None

        # Criar categoria
        categoria = CategoriaArtigo(0, "Nutrição", "#E74C3C")
        id_categoria = categoria_artigo_repo.inserir(categoria)
        assert id_categoria is not None

        # Criar postagem
        assert id_veterinario is not None
        postagem = PostagemArtigo(
            0,
            id_veterinario,
            "Alimentação de Pets",
            "Conteúdo",
            id_categoria,
            datetime.today().date(),
            0,
        )
        id_postagem = postagem_artigo_repo.inserir(postagem)

        # Criar 3 usuários e 3 curtidas
        usuarios_ids = []
        for i in range(3):
            usuario = Usuario(
                0,
                f"Usuario{i}",
                f"user{i}@example.com",
                "senha",
                "111111111",
                "tutor",
                None,
                None,
                None,
                )
            id_usuario = usuario_repo.inserir(usuario)
            usuarios_ids.append(id_usuario)  # type: ignore[arg-type]
            curtida = CurtidaArtigo(id_usuario, id_postagem, datetime.now())  # type: ignore[arg-type]  # noqa: E501
            curtida_artigo_repo.inserir(curtida)

        # Act
        curtidas = curtida_artigo_repo.obter_pagina(limite=2, offset=0)

        # Assert
        assert (
            len(curtidas) == 2
        ), "Deveria retornar 2 curtidas (limite da paginação)"
        assert all(
            isinstance(c, CurtidaArtigo) for c in curtidas
        ), "Todos os itens deveriam ser CurtidaArtigo"

    def test_OBTER_PAGINA_vazio(self, test_db):
        """Testa obtenção paginada quando não há curtidas"""
        # Arrange
        curtida_artigo_repo.criar_tabela()

        # Act
        curtidas = curtida_artigo_repo.obter_pagina(limite=10, offset=0)

        # Assert
        assert len(curtidas) == 0, "Deveria retornar lista vazia"

    def test_obter_por_id_inexistente(self, test_db):
        """Testa obtenção de curtida inexistente"""
        # Arrange
        curtida_artigo_repo.criar_tabela()

        # Act
        curtida = curtida_artigo_repo.obter_por_id(9999, 9999)

        # Assert
        assert curtida is None, "Curtida inexistente deveria retornar None"

```

# tests/test_curtida_feed.py

```py
# import os  # noqa: F401
# import sys  # noqa: F401
from datetime import date
from repo import usuario_repo
# from model import usuario_model  # noqa: F401
from repo import tutor_repo
from model import tutor_model
from repo import postagem_feed_repo
from model import postagem_feed_model
from model import curtida_feed_model
from repo import curtida_feed_repo


class TestCurtidaFeedRepo:
    def test_criar_tabela(self, test_db):
        # Arrange
        # Act
        resultado = curtida_feed_repo.criar_tabela()
        # Assert
        assert (
            resultado is True
        ), "A criação da tabela de curtidas do feed deveria retornar True"

    def test_inserir_curtida(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()
        curtida_feed_repo.criar_tabela()

        # Insere um tutor (que também cria o usuário)
        tutor = tutor_model.Tutor(
            id_usuario=0,
            nome="Tutor Teste",
            email="tutor_teste@gmail.com",
            senha="senha123",
            telefone="12345678901",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=2,
            descricao_pets="Dois gatos",
        )
        tutor_id = tutor_repo.inserir(tutor)
        assert tutor_id is not None

        # Insere uma postagem do feed
        postagem = postagem_feed_model.PostagemFeed(
            id_postagem_feed=0,
            id_tutor=tutor_id,
            descricao="Descrição da postagem teste",
            data_postagem=date.today(),
        )
        postagem_id = postagem_feed_repo.inserir(postagem)
        assert postagem_id is not None

        # Cria uma curtida
        curtida = curtida_feed_model.CurtidaFeed(
            id_usuario=tutor_id, id_postagem_feed=postagem_id
        )

        # Act
        resultado = curtida_feed_repo.inserir(curtida)

        # Assert
        assert resultado is True, "A inserção da curtida deveria retornar True"
        curtida_db = curtida_feed_repo.obter_por_id(tutor_id, postagem_id)
        assert curtida_db is not None
        assert (
            curtida_db is not None
        ), "A curtida inserida não deveria ser None"
        assert (
            curtida_db.id_usuario == tutor_id
        ), "O ID do usuário da curtida inserida não confere"
        assert (
            curtida_db.id_postagem_feed == postagem_id
        ), "O ID da postagem da curtida inserida não confere"
        assert (
            curtida_db.data_curtida is not None
        ), "A data da curtida inserida não deveria ser None"

    def test_excluir_curtida(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()
        curtida_feed_repo.criar_tabela()

        # Insere um tutor (que também cria o usuário)
        tutor = tutor_model.Tutor(
            id_usuario=0,
            nome="Tutor Teste",
            email="tutor_teste2@gmail.com",
            senha="senha123",
            telefone="12345678911",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=2,
            descricao_pets="Dois gatos",
        )
        tutor_id = tutor_repo.inserir(tutor)
        assert tutor_id is not None

        # Insere uma postagem do feed
        postagem = postagem_feed_model.PostagemFeed(
            id_postagem_feed=0,
            id_tutor=tutor_id,
            descricao="Descrição da postagem teste",
            data_postagem=date.today(),
        )
        postagem_id = postagem_feed_repo.inserir(postagem)

        # Insere uma curtida
        assert tutor_id is not None
        assert postagem_id is not None
        curtida = curtida_feed_model.CurtidaFeed(
            id_usuario=tutor_id, id_postagem_feed=postagem_id
        )
        curtida_feed_repo.inserir(curtida)

        # Act
        assert tutor_id is not None
        assert postagem_id is not None
        resultado = curtida_feed_repo.excluir(tutor_id, postagem_id)

        # Assert
        assert resultado is True, "A exclusão da curtida deveria retornar True"
        assert tutor_id is not None
        assert postagem_id is not None
        curtida_db = curtida_feed_repo.obter_por_id(tutor_id, postagem_id)
        assert (
            curtida_db is None
        ), "A curtida excluída deveria ser None após exclusão"

    def test_obter_todas_paginado(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()
        curtida_feed_repo.criar_tabela()

        # Insere um tutor (que também cria o usuário)
        tutor = tutor_model.Tutor(
            id_usuario=0,
            nome="Tutor Teste",
            email="tutor_teste3@gmail.com",
            senha="senha123",
            telefone="12345678921",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=2,
            descricao_pets="Dois gatos",
        )
        tutor_id = tutor_repo.inserir(tutor)
        assert tutor_id is not None

        # Insere uma postagem do feed
        postagem = postagem_feed_model.PostagemFeed(
            id_postagem_feed=0,
            id_tutor=tutor_id,
            descricao="Descrição da postagem teste",
            data_postagem=date.today(),
        )
        postagem_id = postagem_feed_repo.inserir(postagem)

        # Insere uma curtida
        assert tutor_id is not None
        assert postagem_id is not None
        curtida = curtida_feed_model.CurtidaFeed(
            id_usuario=tutor_id, id_postagem_feed=postagem_id
        )
        curtida_feed_repo.inserir(curtida)

        # Act
        resultado = curtida_feed_repo.obter_pagina(10, 0)

        # Assert
        assert (
            resultado is not None
        ), "A consulta de curtidas deveria retornar resultados"
        assert len(resultado) > 0
        assert (
            len(resultado) > 0
        ), "A consulta de curtidas deveria retornar mais de 0 resultados"
        assert (
            resultado[0].id_usuario == tutor_id
        ), "O ID do usuário na curtida retornada não confere"
        assert (
            resultado[0].id_postagem_feed == postagem_id
        ), "O ID da postagem na curtida retornada não confere"
        assert (
            resultado[0].data_curtida is not None
        ), "A data da curtida retornada não deveria ser None"

    def test_obter_por_id(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()
        curtida_feed_repo.criar_tabela()

        # Insere um tutor (que também cria o usuário)
        tutor = tutor_model.Tutor(
            id_usuario=0,
            nome="Tutor Teste",
            email="tutor_teste4@gmail.com",
            senha="senha123",
            telefone="12345678931",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=2,
            descricao_pets="Dois gatos",
        )
        tutor_id = tutor_repo.inserir(tutor)
        assert tutor_id is not None

        # Insere uma postagem do feed
        postagem = postagem_feed_model.PostagemFeed(
            id_postagem_feed=0,
            id_tutor=tutor_id,
            descricao="Descrição da postagem teste",
            data_postagem=date.today(),
        )
        postagem_id = postagem_feed_repo.inserir(postagem)

        # Insere uma curtida
        assert tutor_id is not None
        assert postagem_id is not None
        curtida = curtida_feed_model.CurtidaFeed(
            id_usuario=tutor_id, id_postagem_feed=postagem_id
        )
        curtida_feed_repo.inserir(curtida)

        # Act
        assert tutor_id is not None
        assert postagem_id is not None
        resultado = curtida_feed_repo.obter_por_id(tutor_id, postagem_id)

        # Assert
        assert (
            resultado is not None
        ), "A consulta de curtida deveria retornar um resultado"
        assert (
            resultado.id_usuario == tutor_id
        ), "O ID do usuário na curtida retornada não confere"
        assert (
            resultado.id_postagem_feed == postagem_id
        ), "O ID da postagem na curtida retornada não confere"
        assert (
            resultado.data_curtida is not None
        ), "A data da curtida retornada não deveria ser None"

```

# tests/test_denuncia_repo.py

```py
import pytest
from datetime import datetime
from repo.denuncia_repo import (
    criar_tabela as criar_tabela_denuncia,
    inserir as inserir_denuncia,
    atualizar as atualizar_denuncia,
    excluir as excluir_denuncia,
    obter_pagina as obter_todas_denuncias_paginadas,
    obter_por_id as obter_denuncia_por_id,
)
from repo.usuario_repo import (
    criar_tabela as criar_tabela_usuario,
    inserir as inserir_usuario,
)
from repo.administrador_repo import criar_tabela, inserir
from model.denuncia_model import Denuncia
from model.usuario_model import Usuario
from model.administrador_model import Administrador
from model.enums import DenunciaStatus


class TestDenunciaRepo:
    """Testes para o repositório de denúncias"""

    @pytest.fixture(autouse=True)
    def setup(self, test_db):
        """Setup executado antes de cada teste"""
        # Criar tabelas necessárias
        criar_tabela_usuario()
        criar_tabela()
        criar_tabela_denuncia()

        # Criar dados base para os testes
        self.usuario = Usuario(
            0,
            "João Silva",
            "joao@email.com",
            "senha123",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )
        self.id_usuario = inserir_usuario(self.usuario)
        assert self.id_usuario is not None

        self.admin = Administrador(
            0, "Admin Silva", "admin@email.com", "senha456"
        )
        self.id_admin = inserir(self.admin)
        assert self.id_admin is not None

    def test_criar_tabela(self, test_db):
        """Testa a criação da tabela de denúncias"""
        # Arrange - já feito no setup
        # Act
        resultado = criar_tabela_denuncia()

        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_denuncia_sucesso(self, test_db):
        """Testa inserção de denúncia com sucesso"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncia = Denuncia(
            id_denuncia=0,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            motivo="Conteúdo inapropriado",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.PENDENTE,
        )

        # Act
        id_inserido = inserir_denuncia(denuncia)

        # Assert
        assert (
            id_inserido is not None
        ), "ID da denúncia inserida não deveria ser None"
        assert id_inserido > 0, "ID deveria ser maior que zero"

        # Verificar se foi salvo corretamente
        denuncia_db = obter_denuncia_por_id(id_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert denuncia_db is not None, "Denúncia deveria existir no banco"
        assert denuncia_db.motivo == denuncia.motivo
        assert denuncia_db.status == DenunciaStatus.PENDENTE
        assert denuncia_db.id_usuario == self.id_usuario
        assert denuncia_db.id_admin == self.id_admin

    def test_inserir_denuncia_sem_admin(self, test_db):
        """Testa inserção de denúncia sem admin atribuído"""
        # Arrange
        assert self.id_usuario is not None
        denuncia = Denuncia(
            id_denuncia=0,
            id_usuario=self.id_usuario,
            id_admin=None,  # Sem admin atribuído
            motivo="Spam",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.PENDENTE,
        )

        # Act
        id_inserido = inserir_denuncia(denuncia)

        # Assert
        assert (
            id_inserido is not None
        ), "Deveria permitir inserir denúncia sem admin"

        denuncia_db = obter_denuncia_por_id(id_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert denuncia_db is not None, "Denúncia deveria ter sido inserida"
        assert denuncia_db.id_admin is None

    def test_atualizar_denuncia_sucesso(self, test_db):
        """Testa atualização de denúncia com sucesso"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncia_original = Denuncia(
            id_denuncia=0,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            motivo="Motivo original",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.PENDENTE,
        )
        id_denuncia = inserir_denuncia(denuncia_original)
        assert id_denuncia is not None

        # Act
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncia_atualizada = Denuncia(
            id_denuncia=id_denuncia,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            motivo="Motivo atualizado",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.RESOLVIDA,
        )
        resultado = atualizar_denuncia(denuncia_atualizada)

        # Assert
        assert resultado is True, "Atualização deveria retornar True"

        denuncia_db = obter_denuncia_por_id(id_denuncia)  # type: ignore[arg-type]  # noqa: E501
        assert denuncia_db is not None
        assert denuncia_db.motivo == "Motivo atualizado"
        assert denuncia_db.status == DenunciaStatus.RESOLVIDA

    def test_atualizar_denuncia_inexistente(self, test_db):
        """Testa atualização de denúncia inexistente"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncia_inexistente = Denuncia(
            id_denuncia=9999,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            motivo="Não existe",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.PENDENTE,
        )

        # Act
        resultado = atualizar_denuncia(denuncia_inexistente)

        # Assert
        assert (
            resultado is False
        ), "Atualização de denúncia inexistente deveria retornar False"

    def test_excluir_denuncia_sucesso(self, test_db):
        """Testa exclusão de denúncia com sucesso"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncia = Denuncia(
            id_denuncia=0,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            motivo="Para excluir",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.PENDENTE,
        )
        id_denuncia = inserir_denuncia(denuncia)
        assert id_denuncia is not None

        # Act
        resultado = excluir_denuncia(id_denuncia)  # type: ignore[arg-type]

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"

        denuncia_db = obter_denuncia_por_id(id_denuncia)  # type: ignore[arg-type]  # noqa: E501
        assert denuncia_db is None, "Denúncia não deveria mais existir"

    def test_excluir_denuncia_inexistente(self, test_db):
        """Testa exclusão de denúncia inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        resultado = excluir_denuncia(id_inexistente)  # type: ignore[arg-type]

        # Assert
        assert (
            resultado is False
        ), "Exclusão de denúncia inexistente deveria retornar False"

    def test_obter_todas_denuncias_paginadas(self, test_db):
        """Testa obtenção paginada de denúncias"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncias = [
            Denuncia(
                0,
                self.id_usuario,
                self.id_admin,
                "Motivo 1",
                datetime.now(),
                DenunciaStatus.PENDENTE,
            ),
            Denuncia(
                0,
                self.id_usuario,
                None,
                "Motivo 2",
                datetime.now(),
                DenunciaStatus.RESOLVIDA,
            ),
            Denuncia(
                0,
                self.id_usuario,
                self.id_admin,
                "Motivo 3",
                datetime.now(),
                DenunciaStatus.REJEITADA,
            ),
            Denuncia(
                0,
                self.id_usuario,
                None,
                "Motivo 4",
                datetime.now(),
                DenunciaStatus.PENDENTE,
            ),
            Denuncia(
                0,
                self.id_usuario,
                self.id_admin,
                "Motivo 5",
                datetime.now(),
                DenunciaStatus.RESOLVIDA,
            ),
        ]

        for denuncia in denuncias:
            inserir_denuncia(denuncia)

        # Act - primeira página
        pagina1 = obter_todas_denuncias_paginadas(limite=3, offset=0)

        # Assert
        assert len(pagina1) == 3, "Primeira página deveria ter 3 denúncias"

        # Act - segunda página
        pagina2 = obter_todas_denuncias_paginadas(limite=3, offset=3)

        # Assert
        assert len(pagina2) == 2, "Segunda página deveria ter 2 denúncias"

    def test_obter_todas_denuncias_paginadas_vazio(self, test_db):
        """Testa obtenção paginada quando não há denúncias"""
        # Arrange - sem inserir denúncias adicionais
        # Act
        denuncias = obter_todas_denuncias_paginadas(limite=10, offset=0)

        # Assert
        assert isinstance(denuncias, list), "Deveria retornar uma lista"
        assert len(denuncias) == 0, "Lista deveria estar vazia"

    def test_obter_denuncia_por_id_existente(self, test_db):
        """Testa obtenção de denúncia por ID existente"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncia = Denuncia(
            id_denuncia=0,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,
            motivo="Teste de busca",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.PENDENTE,
        )
        id_denuncia = inserir_denuncia(denuncia)
        assert id_denuncia is not None

        # Act
        denuncia_db = obter_denuncia_por_id(id_denuncia)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert denuncia_db is not None, "Denúncia deveria existir"
        assert denuncia_db.id_denuncia == id_denuncia
        assert denuncia_db.motivo == denuncia.motivo
        assert denuncia_db.status == denuncia.status

    def test_obter_denuncia_por_id_inexistente(self, test_db):
        """Testa obtenção de denúncia por ID inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        denuncia = obter_denuncia_por_id(id_inexistente)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert denuncia is None, "Denúncia não deveria existir"

    def test_fluxo_completo_denuncia(self, test_db):
        """Testa fluxo completo: criar, atualizar e resolver denúncia"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncia = Denuncia(
            id_denuncia=0,
            id_usuario=self.id_usuario,
            id_admin=None,  # Inicialmente sem admin
            motivo="Conteúdo inadequado",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.PENDENTE,
        )

        # Act 1 - Criar denúncia
        id_denuncia = inserir_denuncia(denuncia)
        assert id_denuncia is not None

        # Act 2 - Admin analisa a denúncia
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncia_atualizada = Denuncia(
            id_denuncia=id_denuncia,
            id_usuario=self.id_usuario,
            id_admin=self.id_admin,  # Agora com admin
            motivo="Conteúdo inadequado",
            data_denuncia=datetime.now(),
            status=DenunciaStatus.RESOLVIDA,
        )
        resultado = atualizar_denuncia(denuncia_atualizada)
        assert resultado is True

        # Verificar aprovação
        denuncia_db = obter_denuncia_por_id(id_denuncia)  # type: ignore[arg-type]  # noqa: E501
        assert denuncia_db is not None
        assert denuncia_db.status == DenunciaStatus.RESOLVIDA
        assert denuncia_db.id_admin == self.id_admin

    def test_enum_status_valores(self, test_db):
        """Testa se os valores dos enums estão corretos"""
        # Arrange
        assert self.id_usuario is not None
        assert self.id_admin is not None
        denuncias = [
            Denuncia(
                0,
                self.id_usuario,
                self.id_admin,
                "Teste 1",
                datetime.now(),
                DenunciaStatus.PENDENTE,
            ),
            Denuncia(
                0,
                self.id_usuario,
                self.id_admin,
                "Teste 2",
                datetime.now(),
                DenunciaStatus.RESOLVIDA,
            ),
            Denuncia(
                0,
                self.id_usuario,
                self.id_admin,
                "Teste 3",
                datetime.now(),
                DenunciaStatus.REJEITADA,
            ),
        ]

        ids = []
        for denuncia in denuncias:
            ids.append(inserir_denuncia(denuncia))

        # Act & Assert
        assert ids[0] is not None
        denuncia1 = obter_denuncia_por_id(ids[0])
        assert denuncia1 is not None
        assert denuncia1.status == DenunciaStatus.PENDENTE

        assert ids[1] is not None
        denuncia2 = obter_denuncia_por_id(ids[1])
        assert denuncia2 is not None
        assert denuncia2.status == DenunciaStatus.RESOLVIDA

        assert ids[2] is not None
        denuncia3 = obter_denuncia_por_id(ids[2])
        assert denuncia3 is not None
        assert denuncia3.status == DenunciaStatus.REJEITADA

```

# tests/test_postagem_artigo.py

```py
from datetime import datetime
# import os  # noqa: F401
# import sys  # noqa: F401
from repo import (
    usuario_repo,
    veterinario_repo,
    categoria_artigo_repo,
    postagem_artigo_repo,
)
from model.categoria_artigo_model import CategoriaArtigo
from model.postagem_artigo_model import PostagemArtigo
from model.veterinario_model import Veterinario
# from util.db_util import get_connection  # noqa: F401


class TestPostagemArtigoRepo:
    def test_criar_tabela(self, test_db):
        # Arrange
        # Act
        resultado = postagem_artigo_repo.criar_tabela()
        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_postagem_artigo(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        veterinario_repo.criar_tabela()
        categoria_artigo_repo.criar_tabela()
        postagem_artigo_repo.criar_tabela()

        vet = Veterinario(
            id_usuario=0,
            nome="Dr. João",
            email="joao1@email.com",
            senha="123",
            telefone="999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV123",
            verificado=True,
            bio="Especialista em felinos",
        )
        id_vet = veterinario_repo.inserir(vet)
        assert id_vet is not None

        categoria = CategoriaArtigo(
            id_categoria_artigo=0,
            nome="Saúde Felina",
            cor="#27AE60",
        )
        id_cat = categoria_artigo_repo.inserir(categoria)
        assert id_cat is not None

        postagem = PostagemArtigo(
            id_postagem_artigo=0,
            id_veterinario=id_vet,
            titulo="Vacinação de Gatos",
            conteudo="Texto do artigo",
            id_categoria_artigo=id_cat,
            data_publicacao=datetime.today().date(),
            visualizacoes=0,
        )
        # Act
        id_post = postagem_artigo_repo.inserir(postagem)
        # Assert
        assert id_post is not None, "A inserção deveria retornar um ID válido"
        postagem_db = postagem_artigo_repo.obter_por_id(id_post)  # type: ignore[arg-type]  # noqa: E501
        assert (
            postagem_db is not None
        ), "A postagem deveria ser inserida e recuperada"
        assert (
            postagem_db.titulo == postagem.titulo
        ), "O título da postagem recuperada está incorreto"
        assert (
            postagem_db.conteudo == postagem.conteudo
        ), "O conteúdo da postagem recuperada está incorreto"
        assert (
            postagem_db.id_categoria_artigo == postagem.id_categoria_artigo
        ), "A categoria da postagem recuperada está incorreta"
        assert (
            postagem_db.data_publicacao is not None
        ), "A data de publicação não deveria ser None"
        assert (
            postagem_db.visualizacoes == postagem.visualizacoes
        ), "As visualizações da postagem recuperada estão incorretas"

    def test_obter_por_id(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        veterinario_repo.criar_tabela()
        categoria_artigo_repo.criar_tabela()
        postagem_artigo_repo.criar_tabela()

        vet = Veterinario(
            id_usuario=0,
            nome="Dr. João",
            email="joao2@email.com",
            senha="123",
            telefone="999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV123",
            verificado=True,
            bio="Especialista em felinos",
        )
        id_vet = veterinario_repo.inserir(vet)
        assert id_vet is not None

        categoria = CategoriaArtigo(
            id_categoria_artigo=0,
            nome="Saúde Felina",
            cor="#27AE60",
        )
        id_cat = categoria_artigo_repo.inserir(categoria)
        assert id_cat is not None

        postagem = PostagemArtigo(
            id_postagem_artigo=0,
            id_veterinario=id_vet,
            titulo="Vacinação de Gatos",
            conteudo="Texto do artigo",
            id_categoria_artigo=id_cat,
            data_publicacao=datetime.today().date(),
            visualizacoes=0,
        )
        id_post = postagem_artigo_repo.inserir(postagem)
        # Act
        postagem_db = postagem_artigo_repo.obter_por_id(id_post)  # type: ignore[arg-type]  # noqa: E501
        # Assert
        assert (
            postagem_db is not None
        ), "A postagem deveria ser inserida e recuperada"
        assert (
            postagem_db.titulo == postagem.titulo
        ), "O título da postagem recuperada está incorreto"
        assert (
            postagem_db.conteudo == postagem.conteudo
        ), "O conteúdo da postagem recuperada está incorreto"
        assert (
            postagem_db.id_categoria_artigo == postagem.id_categoria_artigo
        ), "A categoria da postagem recuperada está incorreta"
        assert (
            postagem_db.data_publicacao is not None
        ), "A data de publicação não deveria ser None"
        assert (
            postagem_db.visualizacoes == postagem.visualizacoes
        ), "As visualizações da postagem recuperada estão incorretas"

    def test_atualizar_postagem_artigo(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        veterinario_repo.criar_tabela()
        categoria_artigo_repo.criar_tabela()
        postagem_artigo_repo.criar_tabela()
        vet = Veterinario(
            id_usuario=0,
            nome="Dr. João",
            email="joao3@email.com",
            senha="123",
            telefone="999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV123",
            verificado=True,
            bio="Especialista em felinos",
        )
        id_vet = veterinario_repo.inserir(vet)
        assert id_vet is not None
        categoria = CategoriaArtigo(
            id_categoria_artigo=0,
            nome="Saúde Felina",
            cor="#27AE60",
        )
        id_cat = categoria_artigo_repo.inserir(categoria)
        assert id_cat is not None
        postagem = PostagemArtigo(
            id_postagem_artigo=0,
            id_veterinario=id_vet,
            titulo="Vacinação de Gatos",
            conteudo="Texto do artigo",
            id_categoria_artigo=id_cat,
            data_publicacao=datetime.today().date(),
            visualizacoes=0,
        )
        id_post = postagem_artigo_repo.inserir(postagem)
        postagem_db = postagem_artigo_repo.obter_por_id(id_post)  # type: ignore[arg-type]  # noqa: E501
        assert postagem_db is not None
        # Act
        postagem_db.titulo = "Vacinação de Gatos Atualizado"
        postagem_db.conteudo = "Texto do artigo atualizado"
        postagem_artigo_repo.atualizar(postagem_db)
        # Assert
        postagem_atualizada = postagem_artigo_repo.obter_por_id(id_post)  # type: ignore[arg-type]  # noqa: E501
        assert (
            postagem_atualizada is not None
        ), "A postagem deveria ser inserida e recuperada"
        assert (
            postagem_atualizada.titulo == "Vacinação de Gatos Atualizado"
        ), "O título da postagem atualizada está incorreto"
        assert (
            postagem_atualizada.conteudo == "Texto do artigo atualizado"
        ), "O conteúdo da postagem atualizada está incorreto"
        assert (
            postagem_atualizada.id_categoria_artigo == id_cat
        ), "A categoria da postagem atualizada está incorreta"
        assert (
            postagem_atualizada.data_publicacao is not None
        ), "A data de publicação não deveria ser None"
        assert (
            postagem_atualizada.visualizacoes == 0
        ), "As visualizações da postagem atualizada estão incorretas"

    def test_excluir_postagem_artigo(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        veterinario_repo.criar_tabela()
        categoria_artigo_repo.criar_tabela()
        postagem_artigo_repo.criar_tabela()
        vet = Veterinario(
            id_usuario=0,
            nome="Dr. João",
            email="joao4@email.com",
            senha="123",
            telefone="999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV123",
            verificado=True,
            bio="Especialista em felinos",
        )
        id_vet = veterinario_repo.inserir(vet)
        assert id_vet is not None
        categoria = CategoriaArtigo(
            id_categoria_artigo=0,
            nome="Saúde Felina",
            cor="#27AE60",
        )
        id_cat = categoria_artigo_repo.inserir(categoria)
        assert id_cat is not None
        postagem = PostagemArtigo(
            id_postagem_artigo=0,
            id_veterinario=id_vet,
            titulo="Vacinação de Gatos",
            conteudo="Texto do artigo",
            id_categoria_artigo=id_cat,
            data_publicacao=datetime.today().date(),
            visualizacoes=0,
        )
        id_post = postagem_artigo_repo.inserir(postagem)
        # Act
        excluiu = postagem_artigo_repo.excluir(id_post)  # type: ignore[arg-type]  # noqa: E501
        # Assert
        assert excluiu is True, "A exclusão deveria retornar True"
        postagem_excluida = postagem_artigo_repo.obter_por_id(id_post)  # type: ignore[arg-type]  # noqa: E501
        assert (
            postagem_excluida is None
        ), "A postagem deveria ser excluída e não recuperada"

    def test_OBTER_PAGINA(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        veterinario_repo.criar_tabela()
        categoria_artigo_repo.criar_tabela()
        postagem_artigo_repo.criar_tabela()
        vet = Veterinario(
            id_usuario=0,
            nome="Dr. João",
            email="joao5@email.com",
            senha="123",
            telefone="999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV123",
            verificado=True,
            bio="Especialista em felinos",
        )
        id_vet = veterinario_repo.inserir(vet)
        categoria = CategoriaArtigo(
            id_categoria_artigo=0,
            nome="Saúde Felina",
            cor="#27AE60",
        )
        id_cat = categoria_artigo_repo.inserir(categoria)
        assert id_vet is not None
        assert id_cat is not None
        ids_posts = []
        for i in range(10):
            postagem = PostagemArtigo(
                id_postagem_artigo=0,
                id_veterinario=id_vet,
                titulo=f"Vacinação de Gatos {i}",
                conteudo=f"Texto do artigo {i}",
                id_categoria_artigo=id_cat,
                data_publicacao=datetime.today().date(),
                visualizacoes=i * 10,
            )
            id_post = postagem_artigo_repo.inserir(postagem)
            ids_posts.append(id_post)  # type: ignore[arg-type]
        # Act
        pagina1 = postagem_artigo_repo.obter_pagina(1, 6)
        pagina2 = postagem_artigo_repo.obter_pagina(2, 6)
        # Assert
        assert (
            len(pagina1) == 6
        ), "A primeira página deveria conter 6 postagens"
        assert len(pagina2) == 4, "A segunda página deveria conter 4 postagens"
        assert (
            pagina1[0].id_postagem_artigo == ids_posts[0]
        ), "A primeira postagem da primeira página está incorreta"
        assert (
            pagina2[0].id_postagem_artigo == ids_posts[6]
        ), "A primeira postagem da segunda página está incorreta"

```

# tests/test_postagem_feed.py

```py
from datetime import datetime
# import os  # noqa: F401
# import sys  # noqa: F401
from repo import usuario_repo, tutor_repo, postagem_feed_repo
from model.postagem_feed_model import PostagemFeed
# from model.usuario_model import Usuario  # noqa: F401
from model.tutor_model import Tutor


class TestPostagemFeedRepo:
    def test_criar_tabela(self, test_db):
        # Arrange
        # Act
        resultado = postagem_feed_repo.criar_tabela()
        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_postagem_feed(self, test_db):
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()

        tutor = Tutor(
            id_usuario=0,
            nome="Maria",
            email="maria@email.com",
            senha="123",
            telefone="999999999",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=0,
            descricao_pets=None,
        )
        id_tutor = tutor_repo.inserir(tutor)
        assert id_tutor is not None

        postagem = PostagemFeed(
            id_postagem_feed=0,
            id_tutor=id_tutor,
            descricao="Descrição da postagem",
            data_postagem=datetime.today().date(),
        )
        # Act
        id_post = postagem_feed_repo.inserir(postagem)
        # Assert
        assert id_post is not None, "A inserção deveria retornar um ID válido"
        postagem_db = postagem_feed_repo.obter_por_id(id_post)  # type: ignore[arg-type]  # noqa: E501
        assert (
            postagem_db is not None
        ), "A postagem deveria ser inserida e recuperada"
        assert (
            postagem_db.id_tutor == postagem.id_tutor
        ), "O tutor da postagem recuperada está incorreto"
        assert (
            postagem_db.descricao == postagem.descricao
        ), "A descrição da postagem recuperada está incorreta"
        assert (
            postagem_db.data_postagem is not None
        ), "A data da postagem não deveria ser None"

    def test_atualizar_postagem_feed_sucesso(self, test_db):
        """Testa atualização de postagem do feed com sucesso"""
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()

        tutor = Tutor(
            0,
            "Carlos",
            "carlos@email.com",
            "123",
            "999999999",
            "tutor",
            None,
            None,
            None,
            
            1,
            "Cachorro",
        )
        id_tutor = tutor_repo.inserir(tutor)
        assert id_tutor is not None

        postagem = PostagemFeed(
            0,
            id_tutor,
            "Descrição original",
            datetime.today().date(),
        )
        id_postagem = postagem_feed_repo.inserir(postagem)
        assert id_postagem is not None

        # Act
        postagem.id_postagem_feed = id_postagem
        postagem.descricao = "Descrição atualizada"
        resultado = postagem_feed_repo.atualizar(postagem)

        # Assert
        assert resultado is True, "Atualização deveria retornar True"
        postagem_db = postagem_feed_repo.obter_por_id(id_postagem)  # type: ignore[arg-type]  # noqa: E501
        assert postagem_db is not None
        assert (
            postagem_db.descricao == "Descrição atualizada"
        ), "Descrição deveria estar atualizada"

    def test_atualizar_postagem_feed_inexistente(self, test_db):
        """Testa atualização de postagem inexistente"""
        # Arrange
        postagem_feed_repo.criar_tabela()
        postagem = PostagemFeed(
            9999, 1, "Descrição", datetime.today().date()
        )

        # Act
        resultado = postagem_feed_repo.atualizar(postagem)

        # Assert
        assert (
            resultado is False
        ), "Atualização de postagem inexistente deveria retornar False"

    def test_excluir_postagem_feed_sucesso(self, test_db):
        """Testa exclusão de postagem com sucesso"""
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()

        tutor = Tutor(
            0,
            "Ana",
            "ana@email.com",
            "123",
            "888888888",
            "tutor",
            None,
            None,
            None,
            
            2,
            "Gatos",
        )
        id_tutor = tutor_repo.inserir(tutor)
        assert id_tutor is not None

        postagem = PostagemFeed(
            0, id_tutor, "Meus gatos", datetime.today().date()
        )
        id_postagem = postagem_feed_repo.inserir(postagem)

        # Act
        resultado = postagem_feed_repo.excluir(id_postagem)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"
        postagem_db = postagem_feed_repo.obter_por_id(id_postagem)  # type: ignore[arg-type]  # noqa: E501
        assert postagem_db is None, "Postagem não deveria mais existir"

    def test_excluir_postagem_feed_inexistente(self, test_db):
        """Testa exclusão de postagem inexistente"""
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()

        # Act
        resultado = postagem_feed_repo.excluir(9999)

        # Assert
        assert (
            resultado is False
        ), "Exclusão de postagem inexistente deveria retornar False"

    def test_OBTER_PAGINA(self, test_db):
        """Testa obtenção paginada de postagens"""
        # Arrange
        usuario_repo.criar_tabela()
        tutor_repo.criar_tabela()
        postagem_feed_repo.criar_tabela()

        tutor = Tutor(
            0,
            "Pedro",
            "pedro@email.com",
            "123",
            "777777777",
            "tutor",
            None,
            None,
            None,
            
            3,
            "Pets",
        )
        id_tutor = tutor_repo.inserir(tutor)
        assert id_tutor is not None

        # Criar 5 postagens
        for i in range(5):
            postagem = PostagemFeed(
                0,
                id_tutor,
                f"Postagem {i}",
                datetime.today().date(),
            )
            postagem_feed_repo.inserir(postagem)

        # Act - primeira página (2 itens)
        pagina1 = postagem_feed_repo.obter_pagina(pagina=1, tamanho_pagina=2)

        # Assert
        assert len(pagina1) == 2, "Primeira página deveria ter 2 postagens"
        assert all(
            isinstance(p, PostagemFeed) for p in pagina1
        ), "Todos os itens deveriam ser PostagemFeed"

        # Act - segunda página (2 itens)
        pagina2 = postagem_feed_repo.obter_pagina(pagina=2, tamanho_pagina=2)

        # Assert
        assert len(pagina2) == 2, "Segunda página deveria ter 2 postagens"

    def test_OBTER_PAGINA_vazio(self, test_db):
        """Testa obtenção paginada quando não há postagens"""
        # Arrange
        postagem_feed_repo.criar_tabela()

        # Act
        postagens = postagem_feed_repo.obter_pagina(
            pagina=1, tamanho_pagina=10
        )

        # Assert
        assert len(postagens) == 0, "Deveria retornar lista vazia"

    def test_obter_por_id_inexistente(self, test_db):
        """Testa obtenção de postagem inexistente"""
        # Arrange
        postagem_feed_repo.criar_tabela()

        # Act
        postagem = postagem_feed_repo.obter_por_id(9999)

        # Assert
        assert postagem is None, "Postagem inexistente deveria retornar None"

```

# tests/test_resposta_chamado.py

```py
# import os  # noqa: F401
# import sys  # noqa: F401
from datetime import date, datetime

from model.administrador_model import Administrador
from model.chamado_model import Chamado
from model.enums import ChamadoStatus
from model.usuario_model import Usuario
from model.resposta_chamado_model import RespostaChamado
from repo.administrador_repo import criar_tabela, inserir
from repo.chamado_repo import (
    criar_tabela as criar_tabela_chamado,
    inserir as inserir_chamado,
)
from repo.usuario_repo import (
    criar_tabela as criar_tabela_usuario,
    inserir as inserir_usuario,
)
from repo.resposta_chamado_repo import (
    criar_tabela as criar_tabelas,
    inserir as inserir_resposta,
    atualizar as atualizar_resposta,
    excluir as excluir_resposta,
    obter_pagina as obter_todas_respostas_paginado,
    obter_por_id as obter_resposta_por_id,
)


class TestRespostaChamadoRepo:

    def test_criar_tabelas(self, test_db):
        # Arrange
        # Act
        resultado = criar_tabelas()
        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_resposta(self, test_db):
        # Arrange
        # Cria tabelas necessárias no banco temporário
        criar_tabela_usuario()
        criar_tabela()
        criar_tabela_chamado()  # cria tabela chamado
        criar_tabelas()  # cria tabela resposta_chamado

        # Insere usuário dummy e obtém ID
        usuario_teste = Usuario(
            0,
            "Usuário Teste",
            "teste@teste.com",
            "12345678",
            "11999999999",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario_teste)
        assert id_usuario is not None

        # Insere administrador dummy e obtém ID
        admin_teste = Administrador(
            0, "Admin Teste", "admin@teste.com", "12345678"
        )
        id_admin = inserir(admin_teste)
        assert id_admin is not None

        # Cria chamado usando IDs válidos
        chamado_teste = Chamado(
            id_chamado=0,
            id_usuario=id_usuario,
            id_admin=id_admin,
            titulo="Título Chamado",
            descricao="Descrição",
            status=ChamadoStatus.ABERTO,
            data=datetime(2025, 6, 30),
        )
        id_chamado_inserido = inserir_chamado(chamado_teste)
        assert id_chamado_inserido is not None

        # Cria resposta usando ID do chamado válido
        resposta_teste = RespostaChamado(
            id_resposta_chamado=None,
            id_chamado=id_chamado_inserido,
            titulo="Resposta ao chamado",
            descricao="Esta é uma resposta ao chamado",
            data=date(2025, 6, 30),
        )

        # Act
        id_resposta_inserida = inserir_resposta(resposta_teste)

        # Assert
        assert id_resposta_inserida is not None
        resposta_db = obter_resposta_por_id(id_resposta_inserida)
        assert (
            resposta_db is not None
        ), "A resposta inserida não deveria ser None"
        assert (
            resposta_db.id_chamado == id_chamado_inserido
        ), "O id do chamado não confere"
        assert (
            resposta_db.titulo == "Resposta ao chamado"
        ), "O título da resposta não confere"
        assert (
            resposta_db.descricao == "Esta é uma resposta ao chamado"
        ), "A descrição da resposta não confere"
        assert (
            str(resposta_db.data) == "2025-06-30"
        ), "A data da resposta não confere"

    def test_atualizar_resposta(self, test_db):
        # Arrange
        # Cria tabelas necessárias
        criar_tabela_usuario()
        criar_tabela()
        criar_tabela_chamado()
        criar_tabelas()

        # Insere usuário e administrador de teste
        usuario_teste = Usuario(
            0,
            "Usuário Teste",
            "teste@teste.com",
            "12345678",
            "11999999999",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario_teste)
        assert id_usuario is not None

        admin_teste = Administrador(
            0, "Admin Teste", "admin@teste.com", "12345678"
        )
        id_admin = inserir(admin_teste)
        assert id_admin is not None

        # Cria chamado
        chamado_teste = Chamado(
            id_chamado=0,
            id_usuario=id_usuario,
            id_admin=id_admin,
            titulo="Título Chamado",
            descricao="Descrição",
            status=ChamadoStatus.ABERTO,
            data=datetime(2025, 6, 30),
        )
        id_chamado_inserido = inserir_chamado(chamado_teste)
        assert id_chamado_inserido is not None

        # Cria resposta inicial
        resposta_teste = RespostaChamado(
            id_resposta_chamado=None,
            id_chamado=id_chamado_inserido,
            titulo="Resposta Original",
            descricao="Descrição Original",
            data=date(2025, 6, 30),
        )
        id_resposta_inserida = inserir_resposta(resposta_teste)
        assert id_resposta_inserida is not None

        # Atualiza resposta
        resposta_atualizada = RespostaChamado(
            id_resposta_chamado=id_resposta_inserida,
            id_chamado=id_chamado_inserido,
            titulo="Resposta Atualizada",
            descricao="Descrição Atualizada",
            data=date(2025, 7, 1),
        )

        # Act
        resultado = atualizar_resposta(resposta_atualizada)

        # Assert
        assert (
            resultado is True
        ), "A atualização da resposta deveria retornar True"
        resposta_db = obter_resposta_por_id(id_resposta_inserida)
        assert resposta_db is not None
        assert (
            resposta_db.titulo == "Resposta Atualizada"
        ), "O título da resposta atualizada não confere"
        assert (
            resposta_db.descricao == "Descrição Atualizada"
        ), "A descrição da resposta atualizada não confere"
        assert (
            str(resposta_db.data) == "2025-07-01"
        ), "A data da resposta atualizada não confere"

    def test_excluir_resposta(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela()
        criar_tabela_chamado()
        criar_tabelas()

        # Insere usuário e administrador de teste
        usuario_teste = Usuario(
            0,
            "Usuário Teste",
            "teste@teste.com",
            "12345678",
            "11999999999",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario_teste)
        assert id_usuario is not None

        admin_teste = Administrador(
            0, "Admin Teste", "admin@teste.com", "12345678"
        )
        id_admin = inserir(admin_teste)
        assert id_admin is not None

        # Cria chamado
        chamado_teste = Chamado(
            id_chamado=0,
            id_usuario=id_usuario,
            id_admin=id_admin,
            titulo="Título Chamado",
            descricao="Descrição",
            status=ChamadoStatus.ABERTO,
            data=datetime(2025, 6, 30),
        )
        id_chamado_inserido = inserir_chamado(chamado_teste)
        assert id_chamado_inserido is not None

        # Insere resposta
        resposta_teste = RespostaChamado(
            id_resposta_chamado=None,
            id_chamado=id_chamado_inserido,
            titulo="Resposta para exclusão",
            descricao="Esta resposta será excluída",
            data=date(2025, 6, 30),
        )
        id_resposta = inserir_resposta(resposta_teste)
        assert id_resposta is not None

        # Act
        resultado = excluir_resposta(id_resposta)

        # Assert
        assert (
            resultado is True
        ), "A exclusão da resposta deveria retornar True"
        resposta_db = obter_resposta_por_id(id_resposta)
        assert resposta_db is None, "A resposta deveria ter sido excluída"

    def test_obter_todas_respostas_paginado(self, test_db):
        # Arrange: cria tabelas necessárias
        criar_tabela_usuario()
        criar_tabela()
        criar_tabela_chamado()
        criar_tabelas()

        # Insere usuário e administrador de teste
        usuario_teste = Usuario(
            0,
            "Usuário Teste",
            "teste@teste.com",
            "12345678",
            "11999999999",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario_teste)
        assert id_usuario is not None

        admin_teste = Administrador(
            0, "Admin Teste", "admin@teste.com", "12345678"
        )
        id_admin = inserir(admin_teste)
        assert id_admin is not None

        # Cria chamado
        chamado_teste = Chamado(
            id_chamado=0,
            id_usuario=id_usuario,
            id_admin=id_admin,
            titulo="Título Chamado",
            descricao="Descrição",
            status=ChamadoStatus.ABERTO,
            data=datetime(2025, 6, 30),
        )
        id_chamado_inserido = inserir_chamado(chamado_teste)
        assert id_chamado_inserido is not None

        # Cria duas respostas válidas
        resposta1 = RespostaChamado(
            id_resposta_chamado=None,
            id_chamado=id_chamado_inserido,
            titulo="Resposta 1",
            descricao="Descrição 1",
            data=date(2025, 6, 30),
        )
        resposta2 = RespostaChamado(
            id_resposta_chamado=None,
            id_chamado=id_chamado_inserido,
            titulo="Resposta 2",
            descricao="Descrição 2",
            data=date(2025, 7, 1),
        )

        inserir_resposta(resposta1)
        inserir_resposta(resposta2)

        # Act
        respostas = obter_todas_respostas_paginado(5, 0)

        # Assert
        assert len(respostas) == 2, "Deveria retornar duas respostas"
        # Note: a consulta ordena por data DESC, então resposta2 vem primeiro
        assert (
            respostas[0].titulo == "Resposta 2"
        ), "O título da primeira resposta não confere"
        assert (
            respostas[1].titulo == "Resposta 1"
        ), "O título da segunda resposta não confere"

    def test_obter_resposta_por_id(self, test_db):
        # Arrange
        # Criar todas as tabelas necessárias
        criar_tabela_usuario()
        criar_tabela()
        criar_tabela_chamado()
        criar_tabelas()

        # Inserir o usuário
        usuario = Usuario(
            id_usuario=0,
            nome="Usuario Teste",
            email="usuario@teste.com",
            senha="12345678",
            telefone="11999999999",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None

        # Inserir o administrador
        admin = Administrador(
            id_admin=0,
            nome="Admin Teste",
            email="admin@teste.com",
            senha="12345678",
        )
        id_admin = inserir(admin)
        assert id_admin is not None

        # Criar o chamado referenciando os IDs válidos
        chamado_teste = Chamado(
            id_chamado=0,
            id_usuario=id_usuario,
            id_admin=id_admin,
            titulo="Chamado Teste",
            descricao="Descrição Teste",
            status=ChamadoStatus.ABERTO,
            data=datetime(2025, 6, 30),
        )
        id_chamado_inserido = inserir_chamado(chamado_teste)
        assert id_chamado_inserido is not None

        # Criar a resposta referenciando o ID do chamado válido
        resposta_teste = RespostaChamado(
            id_resposta_chamado=None,
            id_chamado=id_chamado_inserido,
            titulo="Resposta Teste",
            descricao="Descrição da Resposta Teste",
            data=date(2025, 6, 30),
        )
        id_resposta_inserida = inserir_resposta(resposta_teste)
        assert id_resposta_inserida is not None

        # Act
        resposta_db = obter_resposta_por_id(id_resposta_inserida)

        # Assert
        assert resposta_db is not None
        assert resposta_db.id_resposta_chamado == id_resposta_inserida
        assert resposta_db.id_chamado == id_chamado_inserido
        assert resposta_db.titulo == resposta_teste.titulo
        assert resposta_db.descricao == resposta_teste.descricao
        assert str(resposta_db.data) == "2025-06-30"

```

# tests/test_seguida_repo.py

```py
# from dataclasses import dataclass  # noqa: F401
# import os  # noqa: F401
# import sys  # noqa: F401
from datetime import date
from model.seguida_model import Seguida
from model.tutor_model import Tutor
from model.veterinario_model import Veterinario

# from model.usuario_model import Usuario  # noqa: F401
from repo.tutor_repo import (
    criar_tabela as criar_tabela_tutor,
    inserir as inserir_tutor,
)
from repo.veterinario_repo import (
    criar_tabela as criar_tabela_veterinario,
    inserir as inserir_veterinario,
)
from repo.usuario_repo import criar_tabela as criar_tabela_usuario
from repo.seguida_repo import (
    criar_tabela as criar_tabela_seguida,
    inserir as inserir_seguida,
    excluir as excluir_seguida,
    obter_pagina as obter_seguidas_paginado,
    obter_por_id as obter_seguida_por_id,
)
from repo import veterinario_repo, tutor_repo


class TestSeguidaRepo:
    def test_criar_tabela(self, test_db):
        # Arrange
        # Act
        resultado = criar_tabela_seguida()
        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_seguida(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_tutor()
        criar_tabela_veterinario()
        criar_tabela_seguida()

        # Inserir veterinário
        vet = Veterinario(
            id_usuario=0,
            nome="Dr. João",
            email="vet@email.com",
            senha="123",
            telefone="999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV123",
            verificado=True,
            bio="Especialista",
        )
        id_vet = inserir_veterinario(vet)
        assert id_vet is not None

        # Inserir tutor
        tutor = Tutor(
            id_usuario=0,
            nome="Maria",
            email="maria@email.com",
            senha="321",
            telefone="888888888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=0,
            descricao_pets=None,
        )
        id_tutor = inserir_tutor(tutor)
        assert id_tutor is not None

        # Criar seguida
        seguida_teste = Seguida(
            id_seguidor=id_vet, id_seguido=id_tutor, data_inicio=date.today()
        )

        # Act
        resultado = inserir_seguida(seguida_teste)

        # Assert
        assert resultado is True, "A inserção da seguida deveria retornar True"
        seguida_db = obter_seguida_por_id(id_vet, id_tutor)
        assert seguida_db is not None, "A seguida inserida não deveria ser None"
        assert (
            seguida_db.id_seguidor == id_vet
        ), "O ID do veterinário inserido não confere"
        assert seguida_db.id_seguido == id_tutor, "O ID do tutor inserido não confere"

    def test_excluir_seguida(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_tutor()
        criar_tabela_veterinario()
        criar_tabela_seguida()

        # Inserir veterinário
        vet = Veterinario(
            id_usuario=0,
            nome="Dr. João",
            email="vet@email.com",
            senha="123",
            telefone="999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV123",
            verificado=True,
            bio="Especialista",
        )
        id_vet = inserir_veterinario(vet)
        assert id_vet is not None

        # Inserir tutor
        tutor = Tutor(
            id_usuario=0,
            nome="Maria",
            email="maria@email.com",
            senha="321",
            telefone="888888888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=0,
            descricao_pets=None,
        )
        id_tutor = inserir_tutor(tutor)
        assert id_tutor is not None

        # Criar seguida
        seguida_teste = Seguida(
            id_seguidor=id_vet, id_seguido=id_tutor, data_inicio=date.today()
        )

        resultado1 = inserir_seguida(seguida_teste)

        # Act
        resultado2 = excluir_seguida(id_vet, id_tutor)

        # Assert
        assert resultado1 is True, "A exclusão da seguida deveria retornar True"
        assert resultado2 is True, "A exclusão da seguida deveria retornar True"
        seguida_excluida = obter_seguida_por_id(id_vet, id_tutor)  # type: ignore[arg-type]  # noqa: E501
        assert seguida_excluida is None, "A seguida excluída deveria ser None"

    def test_obter_todas_seguidas_paginado(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_tutor()
        criar_tabela_veterinario()
        criar_tabela_seguida()

        # Cria uma coleção com 10 veterinários
        veterinarios = []
        for i in range(10):
            veterinario = Veterinario(
                id_usuario=0,
                nome=f"Veterinário {i+1}",
                email=f"vet{i+1}@email.com",
                senha="123",
                telefone="999999999",
                perfil="veterinario",
                token_redefinicao=None,
                data_token=None,
                data_cadastro=None,
                crmv="CRMV123",
                verificado=True,
                bio="Especialista",
            )
            veterinarios.append(veterinario)

        # Cria uma coleção com 10 tutores
        tutores = []
        for i in range(10):
            tutor = Tutor(
                id_usuario=0,
                nome=f"Tutor {i+1}",
                email=f"tutor{i+1}@email.com",
                senha="321",
                telefone="888888888",
                perfil="tutor",
                token_redefinicao=None,
                data_token=None,
                data_cadastro=None,
                quantidade_pets=0,
                descricao_pets=None,
            )
            tutores.append(tutor)

        for i in range(10):
            inserir_veterinario(veterinarios[i])
            inserir_tutor(tutores[i])

        veterinarios_bd = veterinario_repo.obter_pagina(10, 0)
        tutores_bd = tutor_repo.obter_pagina(10, 0)
        seguidas = []
        for i in range(10):
            seguida_teste = Seguida(
                id_seguidor=veterinarios_bd[i].id_usuario,
                id_seguido=tutores_bd[i].id_usuario,
                data_inicio=date.today(),
            )
            seguidas.append(seguida_teste)

        for seguida in seguidas:
            inserir_seguida(seguida)

        # Act
        seguidas = obter_seguidas_paginado(1, 4)

        # Assert
        assert len(seguidas) == 4, "Deveria retornar quatro seguidas"

    def test_obter_seguida_por_id(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_tutor()
        criar_tabela_veterinario()
        criar_tabela_seguida()

        # Inserir veterinário
        vet = Veterinario(
            id_usuario=0,
            nome="Dr. João",
            email="vet@email.com",
            senha="123",
            telefone="999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV123",
            verificado=True,
            bio="Especialista",
        )
        id_vet = inserir_veterinario(vet)
        assert id_vet is not None

        # Inserir tutor
        tutor = Tutor(
            id_usuario=0,
            nome="Maria",
            email="maria@email.com",
            senha="321",
            telefone="888888888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=0,
            descricao_pets=None,
        )
        id_tutor = inserir_tutor(tutor)
        assert id_tutor is not None

        # Criar seguida (usando apenas os IDs, não os objetos completos)
        seguida_teste = Seguida(
            id_seguidor=id_vet, id_seguido=id_tutor, data_inicio=date.today()
        )

        # Inserir seguida
        inserir_seguida(seguida_teste)

        # Act
        seguida_db = obter_seguida_por_id(id_vet, id_tutor)

        # Assert
        assert seguida_db is not None, "A seguida obtida não deveria ser None"
        assert (
            seguida_db.id_seguidor == id_vet
        ), "O ID do veterinário obtido não confere"
        assert seguida_db.id_seguido == id_tutor, "O ID do tutor obtido não confere"
        assert (
            seguida_db.data_inicio is not None
        ), "A data de início não deveria ser None"
        # Verificar se os IDs estão corretos
        # (modelo simplificado sem objetos relacionados)
        # Para verificar os objetos relacionados,
        # seria necessário fazer consultas separadas

    def test_obter_seguida_inexistente(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_tutor()
        criar_tabela_veterinario()
        criar_tabela_seguida()
        # Act
        seguida_db = obter_seguida_por_id(999, 888)
        # Assert
        assert seguida_db is None, "A seguida inexistente deveria retornar None"

    def test_excluir_seguida_inexistente(self, test_db):
        """Testa exclusão de seguida inexistente"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_tutor()
        criar_tabela_veterinario()
        criar_tabela_seguida()

        # Act
        resultado = excluir_seguida(9999, 9999)

        # Assert
        assert (
            resultado is False
        ), "Exclusão de seguida inexistente deveria retornar False"

    def test_obter_seguidas_paginado_vazio(self, test_db):
        """Testa obtenção paginada quando não há seguidas"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_tutor()
        criar_tabela_veterinario()
        criar_tabela_seguida()

        # Act
        seguidas = obter_seguidas_paginado(pagina=1, tamanho_pagina=10)

        # Assert
        assert len(seguidas) == 0, "Deveria retornar lista vazia"

    def test_inserir_seguida_duplicada(self, test_db):
        """Testa inserção de seguida duplicada.
        Deveria falhar por constraint.
        """
        # Arrange
        criar_tabela_usuario()
        criar_tabela_tutor()
        criar_tabela_veterinario()
        criar_tabela_seguida()

        vet = Veterinario(
            0,
            "Dr. Silva",
            "silva@vet.com",
            "123",
            "999999999",
            "veterinario",
            None,
            None,
            None,
            
            "CRMV111",
            True,
            "Bio",
        )
        id_vet = inserir_veterinario(vet)
        assert id_vet is not None

        tutor = Tutor(
            0,
            "João",
            "joao@email.com",
            "321",
            "888888888",
            "tutor",
            None,
            None,
            None,
            
            1,
            "Cachorro",
        )
        id_tutor = inserir_tutor(tutor)
        assert id_tutor is not None

        seguida = Seguida(id_vet, id_tutor, date.today())
        inserir_seguida(seguida)

        # Act - tentar inserir novamente
        resultado = inserir_seguida(seguida)

        # Assert
        assert (
            resultado is False
        ), "Inserção de seguida duplicada deveria retornar False"

```

# tests/test_tutor_repo.py

```py
import pytest
from repo.tutor_repo import (
    criar_tabela as criar_tabela_tutor,
    inserir as inserir_tutor,
    atualizar as atualizar_tutor,
    excluir as excluir_tutor,
    obter_pagina as obter_tutores_por_pagina,
    obter_por_id,
)
from repo.usuario_repo import (
    criar_tabela as criar_tabela_usuario,
    obter_por_id as obter_usuario_por_id,
)
from model.tutor_model import Tutor
# from model.usuario_model import Usuario  # noqa: F401


class TestTutorRepo:
    """Testes para o repositório de tutores"""

    @pytest.fixture(autouse=True)
    def setup(self, test_db):
        """Setup executado antes de cada teste"""
        criar_tabela_usuario()
        criar_tabela_tutor()

    def test_criar_tabela(self, test_db):
        """Testa a criação da tabela de tutores"""
        # Arrange - já feito no setup
        # Act
        resultado = criar_tabela_tutor()

        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_tutor_sucesso(self, test_db):
        """Testa inserção de tutor com sucesso"""
        # Arrange
        tutor = Tutor(
            id_usuario=0,
            nome="Maria Silva",
            email="maria.silva@email.com",
            senha="senha123",
            telefone="11987654321",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=2,
            descricao_pets="Um cachorro e um gato",
        )

        # Act
        id_inserido = inserir_tutor(tutor)

        # Assert
        assert (
            id_inserido is not None
        ), "ID do tutor inserido não deveria ser None"
        assert id_inserido > 0, "ID deveria ser maior que zero"

        # Verificar se foi salvo corretamente
        tutor_db = obter_por_id(id_inserido)  # type: ignore[arg-type]
        assert tutor_db is not None, "Tutor deveria existir no banco"
        assert tutor_db.nome == tutor.nome
        assert tutor_db.email == tutor.email
        assert tutor_db.telefone == tutor.telefone
        assert tutor_db.quantidade_pets == 2
        assert tutor_db.descricao_pets == "Um cachorro e um gato"

    def test_inserir_tutor_sem_pets(self, test_db):
        """Testa inserção de tutor sem pets"""
        # Arrange
        tutor = Tutor(
            id_usuario=0,
            nome="João Santos",
            email="joao.santos@email.com",
            senha="senha456",
            telefone="11999998888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=0,
            descricao_pets=None,
        )

        # Act
        id_inserido = inserir_tutor(tutor)

        # Assert
        assert id_inserido is not None

        tutor_db = obter_por_id(id_inserido)  # type: ignore[arg-type]
        assert tutor_db is not None
        assert tutor_db.quantidade_pets == 0
        assert tutor_db.descricao_pets is None

    def test_atualizar_tutor_sucesso(self, test_db):
        """Testa atualização de tutor com sucesso"""
        # Arrange
        tutor_original = Tutor(
            id_usuario=0,
            nome="Nome Original",
            email="original@email.com",
            senha="senha123",
            telefone="11999998888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=1,
            descricao_pets="Um gato",
        )
        id_tutor = inserir_tutor(tutor_original)
        assert id_tutor is not None

        # Act
        tutor_atualizado = Tutor(
            id_usuario=id_tutor,
            nome="Nome Atualizado",
            email="atualizado@email.com",
            senha="senha123",
            telefone="11777776666",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=3,
            descricao_pets="Um gato e dois cachorros",
        )
        resultado = atualizar_tutor(tutor_atualizado)

        # Assert
        assert resultado is True, "Atualização deveria retornar True"

        tutor_db = obter_por_id(id_tutor)  # type: ignore[arg-type]
        assert tutor_db is not None
        assert tutor_db.nome == "Nome Atualizado"
        assert tutor_db.email == "atualizado@email.com"
        assert tutor_db.telefone == "11777776666"
        assert tutor_db.quantidade_pets == 3
        assert tutor_db.descricao_pets == "Um gato e dois cachorros"

    def test_atualizar_tutor_inexistente(self, test_db):
        """Testa atualização de tutor inexistente"""
        # Arrange
        tutor_inexistente = Tutor(
            id_usuario=9999,
            nome="Não Existe",
            email="nao@existe.com",
            senha="senha",
            telefone="11999998888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=0,
            descricao_pets=None,
        )

        # Act
        resultado = atualizar_tutor(tutor_inexistente)

        # Assert
        assert (
            resultado is False
        ), "Atualização de tutor inexistente deveria retornar False"

    def test_excluir_tutor_sucesso(self, test_db):
        """Testa exclusão de tutor com sucesso"""
        # Arrange
        tutor = Tutor(
            id_usuario=0,
            nome="Para Excluir",
            email="excluir@email.com",
            senha="senha123",
            telefone="11999998888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=1,
            descricao_pets="Um hamster",
        )
        id_tutor = inserir_tutor(tutor)
        assert id_tutor is not None

        # Act
        resultado = excluir_tutor(id_tutor)  # type: ignore[arg-type]

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"

        # Verificar se foi excluído
        tutor_db = obter_por_id(id_tutor)  # type: ignore[arg-type]
        assert tutor_db is None, "Tutor não deveria mais existir"

        # Verificar se usuário também foi excluído
        usuario_db = obter_usuario_por_id(id_tutor)  # type: ignore[arg-type]
        assert usuario_db is None, "Usuário também deveria ter sido excluído"

    def test_excluir_tutor_inexistente(self, test_db):
        """Testa exclusão de tutor inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        resultado = excluir_tutor(id_inexistente)  # type: ignore[arg-type]

        # Assert
        assert (
            resultado is False
        ), "Exclusão de tutor inexistente deveria retornar False"

    def test_obter_tutores_por_pagina(self, test_db):
        """Testa obtenção paginada de tutores"""
        # Arrange
        tutores = [
            Tutor(
                0,
                "Ana Costa",
                "ana@email.com",
                "senha1",
                "11111111111",
                "tutor",
                None,
                None,
                None,
                
                1,
                "Um gato",
            ),
            Tutor(
                0,
                "Bruno Lima",
                "bruno@email.com",
                "senha2",
                "22222222222",
                "tutor",
                None,
                None,
                None,
                
                2,
                "Dois cães",
            ),
            Tutor(
                0,
                "Carlos Silva",
                "carlos@email.com",
                "senha3",
                "33333333333",
                "tutor",
                None,
                None,
                None,
                
                0,
                None,
            ),
            Tutor(
                0,
                "Diana Santos",
                "diana@email.com",
                "senha4",
                "44444444444",
                "tutor",
                None,
                None,
                None,
                
                3,
                "Três pássaros",
            ),
            Tutor(
                0,
                "Eduardo Souza",
                "eduardo@email.com",
                "senha5",
                "55555555555",
                "tutor",
                None,
                None,
                None,
                
                1,
                "Um peixe",
            ),
        ]

        for tutor in tutores:
            inserir_tutor(tutor)

        # Act - primeira página
        pagina1 = obter_tutores_por_pagina(limite=3, offset=0)

        # Assert
        assert len(pagina1) == 3, "Primeira página deveria ter 3 tutores"
        assert pagina1[0].nome == "Ana Costa"
        assert pagina1[1].nome == "Bruno Lima"
        assert pagina1[2].nome == "Carlos Silva"

        # Act - segunda página
        pagina2 = obter_tutores_por_pagina(limite=3, offset=3)

        # Assert
        assert len(pagina2) == 2, "Segunda página deveria ter 2 tutores"
        assert pagina2[0].nome == "Diana Santos"
        assert pagina2[1].nome == "Eduardo Souza"

    def test_obter_tutores_por_pagina_vazio(self, test_db):
        """Testa obtenção paginada quando não há tutores"""
        # Arrange - banco vazio
        # Act
        tutores = obter_tutores_por_pagina(limite=10, offset=0)

        # Assert
        assert len(tutores) == 0, "Lista deveria estar vazia"

    def test_obter_por_id_existente(self, test_db):
        """Testa obtenção de tutor por ID existente"""
        # Arrange
        tutor = Tutor(
            id_usuario=0,
            nome="João Silva",
            email="joao@email.com",
            senha="senha123",
            telefone="11999998888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=4,
            descricao_pets="Dois gatos e dois cachorros",
        )
        id_tutor = inserir_tutor(tutor)
        assert id_tutor is not None

        # Act
        tutor_db = obter_por_id(id_tutor)  # type: ignore[arg-type]

        # Assert
        assert tutor_db is not None, "Tutor deveria existir"
        assert tutor_db.id_usuario == id_tutor
        assert tutor_db.nome == tutor.nome
        assert tutor_db.email == tutor.email
        assert tutor_db.telefone == tutor.telefone
        assert tutor_db.quantidade_pets == 4
        assert tutor_db.descricao_pets == "Dois gatos e dois cachorros"

    def test_obter_por_id_inexistente(self, test_db):
        """Testa obtenção de tutor por ID inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        tutor = obter_por_id(id_inexistente)  # type: ignore[arg-type]

        # Assert
        assert tutor is None, "Tutor não deveria existir"

    def test_heranca_usuario(self, test_db):
        """Testa se tutor herda corretamente de usuario"""
        # Arrange
        tutor = Tutor(
            id_usuario=0,
            nome="Teste Herança",
            email="heranca@email.com",
            senha="senha123",
            telefone="11999998888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=1,
            descricao_pets="Um coelho",
        )

        # Act
        id_tutor = inserir_tutor(tutor)
        assert id_tutor is not None

        # Assert - verificar se foi criado também como usuário
        usuario_db = obter_usuario_por_id(id_tutor)  # type: ignore[arg-type]
        assert usuario_db is not None, "Deveria existir como usuário"
        assert usuario_db.nome == tutor.nome
        assert usuario_db.email == tutor.email

        tutor_db = obter_por_id(id_tutor)  # type: ignore[arg-type]
        assert tutor_db is not None, "Deveria existir como tutor"
        assert isinstance(
            tutor_db, Tutor
        ), "Deveria ser uma instância de Tutor"

```

# tests/test_usuario_repo.py

```py
import pytest
from repo.usuario_repo import (
    criar_tabela as criar_tabela_usuario,
    inserir as inserir_usuario,
    atualizar as atualizar_usuario,
    atualizar_senha as atualizar_senha_usuario,
    excluir as excluir_usuario,
    obter_pagina as obter_todos_usuarios_paginado,
    obter_por_id as obter_usuario_por_id,
    obter_por_email,
    atualizar_token,
    obter_por_token,
    limpar_token,
    obter_todos_por_perfil,
    importar as importar_usuario,
)
from model.usuario_model import Usuario


class TestUsuarioRepo:
    """Testes para o repositório de usuários"""

    @pytest.fixture(autouse=True)
    def setup(self, test_db):
        """Setup executado antes de cada teste"""
        criar_tabela_usuario()

    def test_criar_tabela(self, test_db):
        """Testa a criação da tabela de usuários"""
        # Arrange - já feito no setup
        # Act
        resultado = criar_tabela_usuario()

        # Assert
        assert (
            resultado is True
        ), "A criação da tabela de usuários deveria retornar True"

    def test_inserir_usuario_sucesso(self, test_db):
        """Testa inserção de usuário com sucesso"""
        # Arrange
        usuario_teste = Usuario(
            id_usuario=0,  # 0 para auto-increment
            nome="João Silva",
            email="joao.silva@email.com",
            senha="senha123",
            telefone="11999998888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )

        # Act
        id_inserido = inserir_usuario(usuario_teste)

        # Assert
        assert (
            id_inserido is not None
        ), "ID do usuário inserido não deveria ser None"
        assert id_inserido > 0, "ID deveria ser maior que zero"

        # Verificar se foi salvo corretamente
        usuario_db = obter_usuario_por_id(id_inserido)  # type: ignore[arg-type]  # noqa: E501
        assert usuario_db is not None, "Usuário deveria existir no banco"
        assert usuario_db.nome == usuario_teste.nome
        assert usuario_db.email == usuario_teste.email
        assert usuario_db.senha == usuario_teste.senha
        assert usuario_db.telefone == usuario_teste.telefone

    def test_inserir_usuario_email_duplicado(self, test_db):
        """Testa inserção de usuário com email duplicado"""
        # Arrange
        usuario1 = Usuario(
            0,
            "João",
            "email@test.com",
            "senha123",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )
        usuario2 = Usuario(
            0,
            "Maria",
            "email@test.com",
            "senha456",
            "11888887777",
            "tutor",
            None,
            None,
            None,
            )

        # Act
        inserir_usuario(usuario1)

        # Assert - deve falhar por email único
        with pytest.raises(Exception):
            inserir_usuario(usuario2)

    def test_atualizar_usuario_sucesso(self, test_db):
        """Testa atualização de usuário com sucesso"""
        # Arrange
        usuario_original = Usuario(
            0,
            "Nome Original",
            "original@email.com",
            "senha123",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario_original)
        assert id_usuario is not None

        # Act
        usuario_atualizado = Usuario(
            id_usuario=id_usuario,
            nome="Nome Atualizado",
            email="atualizado@email.com",
            senha="senha123",  # senha não é atualizada por atualizar_usuario
            telefone="11777776666",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )
        resultado = atualizar_usuario(usuario_atualizado)

        # Assert
        assert resultado is True, "Atualização deveria retornar True"

        usuario_db = obter_usuario_por_id(id_usuario)  # type: ignore[arg-type]
        assert usuario_db is not None
        assert usuario_db.nome == "Nome Atualizado"
        assert usuario_db.email == "atualizado@email.com"
        assert usuario_db.telefone == "11777776666"
        assert usuario_db.senha == "senha123"  # senha não deve mudar

    def test_atualizar_usuario_inexistente(self, test_db):
        """Testa atualização de usuário inexistente"""
        # Arrange
        usuario_inexistente = Usuario(
            9999,
            "Não Existe",
            "nao@existe.com",
            "senha",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )

        # Act
        resultado = atualizar_usuario(usuario_inexistente)

        # Assert
        assert (
            resultado is False
        ), "Atualização de usuário inexistente deveria retornar False"

    def test_atualizar_senha_usuario_sucesso(self, test_db):
        """Testa atualização de senha com sucesso"""
        # Arrange
        usuario = Usuario(
            0,
            "João",
            "joao@email.com",
            "senha_antiga",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None
        nova_senha = "senha_nova_123"

        # Act
        resultado = atualizar_senha_usuario(id_usuario, nova_senha)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert resultado is True, "Atualização de senha deveria retornar True"

        usuario_db = obter_usuario_por_id(id_usuario)  # type: ignore[arg-type]
        assert usuario_db is not None
        assert (
            usuario_db.senha == nova_senha
        ), "Senha deveria ter sido atualizada"

    def test_atualizar_senha_usuario_inexistente(self, test_db):
        """Testa atualização de senha de usuário inexistente"""
        # Arrange
        id_inexistente = 9999
        nova_senha = "senha_nova"

        # Act
        resultado = atualizar_senha_usuario(id_inexistente, nova_senha)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert (
            resultado is False
        ), "Atualização de senha de usuário inexistente deveria retornar False"

    def test_excluir_usuario_sucesso(self, test_db):
        """Testa exclusão de usuário com sucesso"""
        # Arrange
        usuario = Usuario(
            0,
            "João",
            "joao@email.com",
            "senha123",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None

        # Act
        resultado = excluir_usuario(id_usuario)  # type: ignore[arg-type]

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"

        usuario_db = obter_usuario_por_id(id_usuario)  # type: ignore[arg-type]
        assert usuario_db is None, "Usuário não deveria mais existir"

    def test_excluir_usuario_inexistente(self, test_db):
        """Testa exclusão de usuário inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        resultado = excluir_usuario(id_inexistente)  # type: ignore[arg-type]

        # Assert
        assert (
            resultado is False
        ), "Exclusão de usuário inexistente deveria retornar False"

    def test_obter_todos_usuarios_paginado(self, test_db):
        """Testa obtenção paginada de usuários"""
        # Arrange
        usuarios = [
            Usuario(
                0,
                "Ana Silva",
                "ana@email.com",
                "senha1",
                "11111111111",
                "tutor",
                None,
                None,
                None,
                ),
            Usuario(
                0,
                "Bruno Costa",
                "bruno@email.com",
                "senha2",
                "22222222222",
                "tutor",
                None,
                None,
                None,
                ),
            Usuario(
                0,
                "Carlos Dias",
                "carlos@email.com",
                "senha3",
                "33333333333",
                "tutor",
                None,
                None,
                None,
                ),
            Usuario(
                0,
                "Diana Souza",
                "diana@email.com",
                "senha4",
                "44444444444",
                "tutor",
                None,
                None,
                None,
                ),
            Usuario(
                0,
                "Eduardo Lima",
                "eduardo@email.com",
                "senha5",
                "55555555555",
                "tutor",
                None,
                None,
                None,
                ),
        ]

        for usuario in usuarios:
            inserir_usuario(usuario)

        # Act - primeira página
        pagina1 = obter_todos_usuarios_paginado(limite=3, offset=0)

        # Assert
        assert len(pagina1) == 3, "Primeira página deveria ter 3 usuários"
        assert pagina1[0].nome == "Ana Silva"
        assert pagina1[1].nome == "Bruno Costa"
        assert pagina1[2].nome == "Carlos Dias"

        # Act - segunda página
        pagina2 = obter_todos_usuarios_paginado(limite=3, offset=3)

        # Assert
        assert len(pagina2) == 2, "Segunda página deveria ter 2 usuários"
        assert pagina2[0].nome == "Diana Souza"
        assert pagina2[1].nome == "Eduardo Lima"

    def test_obter_todos_usuarios_paginado_vazio(self, test_db):
        """Testa obtenção paginada quando não há usuários"""
        # Arrange - banco vazio
        # Act
        usuarios = obter_todos_usuarios_paginado(limite=10, offset=0)

        # Assert
        assert len(usuarios) == 0, "Lista deveria estar vazia"

    def test_obter_usuario_por_id_existente(self, test_db):
        """Testa obtenção de usuário por ID existente"""
        # Arrange
        usuario = Usuario(
            0,
            "João Silva",
            "joao@email.com",
            "senha123",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None

        # Act
        usuario_db = obter_usuario_por_id(id_usuario)  # type: ignore[arg-type]

        # Assert
        assert usuario_db is not None, "Usuário deveria existir"
        assert usuario_db.id_usuario == id_usuario
        assert usuario_db.nome == usuario.nome
        assert usuario_db.email == usuario.email
        assert usuario_db.senha == usuario.senha
        assert usuario_db.telefone == usuario.telefone

    def test_obter_usuario_por_id_inexistente(self, test_db):
        """Testa obtenção de usuário por ID inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        usuario = obter_usuario_por_id(id_inexistente)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert usuario is None, "Usuário não deveria existir"

    def test_obter_por_email_existente(self, test_db):
        """Testa obtenção de usuário por email existente"""
        # Arrange
        usuario = Usuario(
            0,
            "João Silva",
            "joao.unico@email.com",
            "senha123",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None

        # Act
        usuario_db = obter_por_email("joao.unico@email.com")

        # Assert
        assert usuario_db is not None, "Usuário deveria existir"
        assert usuario_db.email == "joao.unico@email.com"
        assert usuario_db.nome == "João Silva"

    def test_obter_por_email_inexistente(self, test_db):
        """Testa obtenção de usuário por email inexistente"""
        # Arrange & Act
        usuario = obter_por_email("naoexiste@email.com")

        # Assert
        assert usuario is None, "Usuário não deveria existir"

    def test_atualizar_token(self, test_db):
        """Testa atualização de token de redefinição"""
        # Arrange
        usuario = Usuario(
            0,
            "João",
            "joao.token@email.com",
            "senha123",
            "11999998888",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None
        token = "abc123xyz"
        data_expiracao = "2025-12-31 23:59:59"

        # Act
        resultado = atualizar_token(
            "joao.token@email.com", token, data_expiracao
        )

        # Assert
        assert resultado is True, "Atualização de token deveria retornar True"
        usuario_db = obter_por_email("joao.token@email.com")
        assert usuario_db is not None
        assert usuario_db.token_redefinicao == token
        assert usuario_db.data_token == data_expiracao

    def test_atualizar_token_email_inexistente(self, test_db):
        """Testa atualização de token com email inexistente"""
        # Arrange & Act
        resultado = atualizar_token(
            "naoexiste@email.com", "token123", "2025-12-31"
        )

        # Assert
        assert (
            resultado is False
        ), "Atualização de token com email inexistente deveria retornar False"

    def test_obter_por_token(self, test_db):
        """Testa obtenção de usuário por token"""
        # Arrange
        usuario = Usuario(
            0,
            "Maria",
            "maria.token@email.com",
            "senha123",
            "11888887777",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        assert id_usuario is not None
        token = "token_unico_123"
        atualizar_token("maria.token@email.com", token, "2025-12-31")

        # Act
        usuario_db = obter_por_token(token)

        # Assert
        assert (
            usuario_db is not None
        ), "Usuário deveria ser encontrado pelo token"
        assert usuario_db.email == "maria.token@email.com"
        assert usuario_db.token_redefinicao == token

    def test_obter_por_token_inexistente(self, test_db):
        """Testa obtenção com token inexistente"""
        # Arrange & Act
        usuario = obter_por_token("token_que_nao_existe")

        # Assert
        assert usuario is None, "Não deveria encontrar usuário"

    def test_limpar_token(self, test_db):
        """Testa limpeza de token de redefinição"""
        # Arrange
        usuario = Usuario(
            0,
            "Carlos",
            "carlos.limpar@email.com",
            "senha123",
            "11777776666",
            "tutor",
            None,
            None,
            None,
            )
        id_usuario = inserir_usuario(usuario)
        atualizar_token("carlos.limpar@email.com", "token123", "2025-12-31")

        # Act
        resultado = limpar_token(id_usuario)  # type: ignore[arg-type]

        # Assert
        assert resultado is True, "Limpeza de token deveria retornar True"
        usuario_db = obter_usuario_por_id(id_usuario)  # type: ignore[arg-type]
        assert usuario_db is not None
        assert usuario_db.token_redefinicao is None
        assert usuario_db.data_token is None

    def test_limpar_token_usuario_inexistente(self, test_db):
        """Testa limpeza de token com usuário inexistente"""
        # Arrange & Act
        resultado = limpar_token(9999)

        # Assert
        assert (
            resultado is False
        ), "Limpeza de token com ID inexistente deveria retornar False"

    def test_obter_todos_por_perfil(self, test_db):
        """Testa obtenção de usuários por perfil"""
        # Arrange
        usuarios = [
            Usuario(
                0,
                "Tutor 1",
                "tutor1@email.com",
                "senha1",
                "11111111111",
                "tutor",
                None,
                None,
                None,
                ),
            Usuario(
                0,
                "Tutor 2",
                "tutor2@email.com",
                "senha2",
                "22222222222",
                "tutor",
                None,
                None,
                None,
                ),
            Usuario(
                0,
                "Admin 1",
                "admin1@email.com",
                "senha3",
                "33333333333",
                "admin",
                None,
                None,
                None,
                ),
            Usuario(
                0,
                "Vet 1",
                "vet1@email.com",
                "senha4",
                "44444444444",
                "veterinario",
                None,
                None,
                None,
                ),
        ]

        for usuario in usuarios:
            inserir_usuario(usuario)

        # Act
        tutores = obter_todos_por_perfil("tutor")
        admins = obter_todos_por_perfil("admin")

        # Assert
        assert len(tutores) == 2, "Deveria haver 2 tutores"
        assert len(admins) == 1, "Deveria haver 1 admin"
        assert all(
            u.perfil == "tutor" for u in tutores
        ), "Todos deveriam ser tutores"
        assert admins[0].perfil == "admin", "Deveria ser admin"

    def test_obter_todos_por_perfil_vazio(self, test_db):
        """Testa obtenção por perfil quando não há usuários"""
        # Arrange & Act
        usuarios = obter_todos_por_perfil("perfil_inexistente")

        # Assert
        assert len(usuarios) == 0, "Não deveria haver usuários"

    def test_importar_usuario_sucesso(self, test_db):
        """Testa importação de usuário com ID específico"""
        # Arrange
        usuario_importado = Usuario(
            id_usuario=100,  # ID específico para importação
            nome="João Importado",
            email="joao.importado@email.com",
            senha="senha123",
            telefone="11999998888",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )

        # Act
        resultado = importar_usuario(usuario_importado)

        # Assert
        assert resultado is True, "Importação deveria retornar True"

        # Verificar se foi salvo com o ID correto
        usuario_db = obter_usuario_por_id(100)
        assert usuario_db is not None, "Usuário importado deveria existir"
        assert usuario_db.id_usuario == 100, "ID deveria ser 100"
        assert usuario_db.nome == "João Importado"
        assert usuario_db.email == "joao.importado@email.com"
        assert usuario_db.senha == "senha123"
        assert usuario_db.telefone == "11999998888"
        assert usuario_db.perfil == "tutor"

    def test_importar_usuario_id_duplicado(self, test_db):
        """Testa importação de usuário com ID duplicado"""
        # Arrange
        usuario1 = Usuario(
            id_usuario=200,
            nome="Primeiro",
            email="primeiro@email.com",
            senha="senha1",
            telefone="11111111111",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )
        usuario2 = Usuario(
            id_usuario=200,  # Mesmo ID
            nome="Segundo",
            email="segundo@email.com",
            senha="senha2",
            telefone="22222222222",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )

        # Act
        resultado1 = importar_usuario(usuario1)
        assert resultado1 is True

        # Assert - deve falhar por ID duplicado
        with pytest.raises(Exception):
            importar_usuario(usuario2)

    def test_importar_multiplos_usuarios(self, test_db):
        """Testa importação de múltiplos usuários com IDs específicos"""
        # Arrange
        usuarios = [
            Usuario(
                id_usuario=301,
                nome="Usuario 1",
                email="user1@email.com",
                senha="senha1",
                telefone="11111111111",
                perfil="tutor",
                    token_redefinicao=None,
                data_token=None,
                data_cadastro=None,
            ),
            Usuario(
                id_usuario=302,
                nome="Usuario 2",
                email="user2@email.com",
                senha="senha2",
                telefone="22222222222",
                perfil="veterinario",
                    token_redefinicao=None,
                data_token=None,
                data_cadastro=None,
            ),
            Usuario(
                id_usuario=303,
                nome="Usuario 3",
                email="user3@email.com",
                senha="senha3",
                telefone="33333333333",
                perfil="admin",
                    token_redefinicao=None,
                data_token=None,
                data_cadastro=None,
            ),
        ]

        # Act
        for usuario in usuarios:
            resultado = importar_usuario(usuario)
            assert resultado is True, f"Importação de {usuario.nome} deveria retornar True"

        # Assert
        usuario1_db = obter_usuario_por_id(301)
        usuario2_db = obter_usuario_por_id(302)
        usuario3_db = obter_usuario_por_id(303)

        assert usuario1_db is not None and usuario1_db.id_usuario == 301
        assert usuario2_db is not None and usuario2_db.id_usuario == 302
        assert usuario3_db is not None and usuario3_db.id_usuario == 303

        assert usuario1_db.nome == "Usuario 1"
        assert usuario2_db.nome == "Usuario 2"
        assert usuario3_db.nome == "Usuario 3"

        assert usuario1_db.perfil == "tutor"
        assert usuario2_db.perfil == "veterinario"
        assert usuario3_db.perfil == "admin"

    def test_importar_usuario_email_duplicado(self, test_db):
        """Testa importação de usuário com email duplicado"""
        # Arrange
        usuario1 = Usuario(
            id_usuario=401,
            nome="Usuario 1",
            email="duplicado@email.com",
            senha="senha1",
            telefone="11111111111",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )
        usuario2 = Usuario(
            id_usuario=402,  # ID diferente
            nome="Usuario 2",
            email="duplicado@email.com",  # Email duplicado
            senha="senha2",
            telefone="22222222222",
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
        )

        # Act
        resultado1 = importar_usuario(usuario1)
        assert resultado1 is True

        # Assert - deve falhar por email único
        with pytest.raises(Exception):
            importar_usuario(usuario2)

```

# tests/test_verificacao_crmv_repo.py

```py
import pytest
from datetime import datetime
from repo.verificacao_crmv_repo import (
    criar_tabela as criar_tabela_verificacao,
    inserir,
    atualizar,
    excluir,
    obter_pagina,
    obter_por_id,
)
from repo.usuario_repo import criar_tabela as criar_tabela_usuario
from repo.veterinario_repo import (
    criar_tabela as criar_tabela_veterinario,
    inserir as inserir_veterinario,
)
from repo.administrador_repo import (
    criar_tabela as criar_tabela_admin,
    inserir as inserir_admin,
)
from model.verificacao_crmv_model import VerificacaoCRMV
from model.veterinario_model import Veterinario
from model.administrador_model import Administrador
# from model.usuario_model import Usuario  # noqa: F401
from model.enums import VerificacaoStatus


class TestVerificacaoCRMVRepo:
    """Testes para o repositório de verificação CRMV"""

    @pytest.fixture(autouse=True)
    def setup(self, test_db):
        """Setup executado antes de cada teste"""
        # Criar tabelas necessárias
        criar_tabela_usuario()
        criar_tabela_veterinario()
        criar_tabela_admin()
        criar_tabela_verificacao()

        # Criar dados base para os testes
        self.veterinario = Veterinario(
            id_usuario=0,
            nome="Dr. João Silva",
            email="dr.joao@email.com",
            senha="senha123",
            telefone="11999998888",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="SP-12345",
            verificado=False,
            bio="Veterinário clínico geral",
        )
        self.id_veterinario = inserir_veterinario(self.veterinario)
        assert self.id_veterinario is not None

        self.admin = Administrador(
            0, "Admin Silva", "admin@email.com", "senha456"
        )
        self.id_admin = inserir_admin(self.admin)
        assert self.id_admin is not None

    def test_criar_tabela(self, test_db):
        """Testa a criação da tabela de verificação CRMV"""
        # Arrange - já feito no setup
        # Act
        resultado = criar_tabela_verificacao()

        # Assert
        assert resultado is True, "A criação da tabela deveria retornar True"

    def test_inserir_verificacao_sucesso(self, test_db):
        """Testa inserção de verificação CRMV com sucesso"""
        # Arrange
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        verificacao = VerificacaoCRMV(
            id_verificacao_crmv=0,
            id_veterinario=self.id_veterinario,
            id_administrador=self.id_admin,
            data_verificacao=datetime.now(),
            status_verificacao=VerificacaoStatus.PENDENTE,
        )

        # Act
        id_inserido = inserir(verificacao)

        # Assert
        assert (
            id_inserido is not None
        ), "ID da verificação inserida não deveria ser None"
        assert id_inserido > 0, "ID deveria ser maior que zero"

        # Verificar se foi salvo corretamente
        verificacao_db = obter_por_id(id_inserido)  # type: ignore[arg-type]
        assert (
            verificacao_db is not None
        ), "Verificação deveria existir no banco"
        assert verificacao_db.id_veterinario == self.id_veterinario
        assert verificacao_db.id_administrador == self.id_admin
        assert verificacao_db.status_verificacao == VerificacaoStatus.PENDENTE

    def test_inserir_verificacao_sem_admin(self, test_db):
        """Testa inserção de verificação CRMV sem admin atribuído"""
        # Arrange - Agora id_administrador pode ser NULL
        assert self.id_veterinario is not None
        verificacao = VerificacaoCRMV(
            id_verificacao_crmv=0,
            id_veterinario=self.id_veterinario,
            id_administrador=None,  # Sem admin atribuído
            data_verificacao=datetime.now(),
            status_verificacao=VerificacaoStatus.PENDENTE,
        )

        # Act
        id_inserido = inserir(verificacao)

        # Assert
        assert (
            id_inserido is not None
        ), "Deveria permitir inserir verificação sem admin"

        verificacao_db = obter_por_id(id_inserido)  # type: ignore[arg-type]
        assert verificacao_db is not None
        assert verificacao_db.id_administrador is None

    def test_atualizar_status_verificacao_sucesso(self, test_db):
        """Testa atualização de status da verificação CRMV com sucesso"""
        # Arrange
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        verificacao_original = VerificacaoCRMV(
            id_verificacao_crmv=0,
            id_veterinario=self.id_veterinario,
            id_administrador=self.id_admin,
            data_verificacao=datetime.now(),
            status_verificacao=VerificacaoStatus.PENDENTE,
        )
        id_verificacao = inserir(verificacao_original)

        # Act - aprovar verificação
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        resultado = atualizar(
            self.id_veterinario, VerificacaoStatus.APROVADO, self.id_admin
        )

        # Assert
        assert resultado is True, "Atualização deveria retornar True"

        verificacao_db = obter_por_id(id_verificacao)  # type: ignore[arg-type]
        assert verificacao_db is not None
        assert verificacao_db.status_verificacao == VerificacaoStatus.APROVADO

        # Act - rejeitar verificação
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        resultado = atualizar(
            self.id_veterinario, VerificacaoStatus.REJEITADO, self.id_admin
        )

        # Assert
        assert resultado is True
        verificacao_db = obter_por_id(id_verificacao)  # type: ignore[arg-type]
        assert verificacao_db is not None
        assert verificacao_db.status_verificacao == VerificacaoStatus.REJEITADO

    def test_atualizar_verificacao_inexistente(self, test_db):
        """Testa atualização de verificação inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        assert self.id_admin is not None
        resultado = atualizar(
            id_inexistente, VerificacaoStatus.APROVADO, self.id_admin
        )

        # Assert
        assert (
            resultado is False
        ), "Atualização de verificação inexistente deveria retornar False"

    def test_excluir_verificacao_sucesso(self, test_db):
        """Testa exclusão de verificação CRMV com sucesso"""
        # Arrange
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        verificacao = VerificacaoCRMV(
            id_verificacao_crmv=0,
            id_veterinario=self.id_veterinario,
            id_administrador=self.id_admin,
            data_verificacao=datetime.now(),
            status_verificacao=VerificacaoStatus.PENDENTE,
        )
        id_verificacao = inserir(verificacao)

        # Act
        resultado = excluir(self.id_veterinario)  # type: ignore[arg-type]

        # Assert
        assert resultado is True, "Exclusão deveria retornar True"

        verificacao_db = obter_por_id(id_verificacao)  # type: ignore[arg-type]
        assert verificacao_db is None, "Verificação não deveria mais existir"

    def test_excluir_verificacao_inexistente(self, test_db):
        """Testa exclusão de verificação inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        resultado = excluir(id_inexistente)  # type: ignore[arg-type]

        # Assert
        assert (
            resultado is False
        ), "Exclusão de verificação inexistente deveria retornar False"

    def test_OBTER_PAGINA(self, test_db):
        """Testa obtenção paginada de verificações CRMV"""
        # Arrange - criar verificações simples usando o mesmo veterinário
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        verificacoes_ids = []
        for i in range(5):
            verificacao = VerificacaoCRMV(
                0,
                self.id_veterinario,
                self.id_admin,
                datetime.now(),
                VerificacaoStatus.PENDENTE,
            )
            verificacoes_ids.append(inserir(verificacao))

        # Act - primeira página
        pagina1 = obter_pagina(limite=3, offset=0)

        # Assert
        assert len(pagina1) == 3, "Primeira página deveria ter 3 verificações"

        # Act - segunda página
        pagina2 = obter_pagina(limite=3, offset=3)

        # Assert
        assert len(pagina2) == 2, "Segunda página deveria ter 2 verificações"

    def test_OBTER_PAGINA_vazio(self, test_db):
        """Testa obtenção paginada quando não há verificações"""
        # Arrange - sem inserir verificações adicionais
        # Act
        verificacoes = obter_pagina(limite=10, offset=0)

        # Assert
        assert isinstance(verificacoes, list), "Deveria retornar uma lista"
        assert len(verificacoes) == 0, "Lista deveria estar vazia"

    def test_obter_por_id_existente(self, test_db):
        """Testa obtenção de verificação por ID existente"""
        # Arrange
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        verificacao = VerificacaoCRMV(
            id_verificacao_crmv=0,
            id_veterinario=self.id_veterinario,
            id_administrador=self.id_admin,
            data_verificacao=datetime.now(),
            status_verificacao=VerificacaoStatus.PENDENTE,
        )
        id_verificacao = inserir(verificacao)

        # Act
        verificacao_db = obter_por_id(id_verificacao)  # type: ignore[arg-type]

        # Assert
        assert verificacao_db is not None, "Verificação deveria existir"
        assert verificacao_db.id_verificacao_crmv == id_verificacao
        assert verificacao_db.id_veterinario == self.id_veterinario
        assert verificacao_db.status_verificacao == VerificacaoStatus.PENDENTE

    def test_obter_por_id_inexistente(self, test_db):
        """Testa obtenção de verificação por ID inexistente"""
        # Arrange
        id_inexistente = 9999

        # Act
        verificacao = obter_por_id(id_inexistente)  # type: ignore[arg-type]

        # Assert
        assert verificacao is None, "Verificação não deveria existir"

    def test_fluxo_completo_verificacao(self, test_db):
        """Testa fluxo completo: criar, aprovar verificação CRMV"""
        # Arrange
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        verificacao = VerificacaoCRMV(
            id_verificacao_crmv=0,
            id_veterinario=self.id_veterinario,
            id_administrador=None,  # Inicialmente sem admin
            data_verificacao=datetime.now(),
            status_verificacao=VerificacaoStatus.PENDENTE,
        )

        # Act 1 - Criar verificação
        id_verificacao = inserir(verificacao)
        assert id_verificacao is not None

        # Act 2 - Admin analisa e aprova
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        resultado = atualizar(
            self.id_veterinario, VerificacaoStatus.APROVADO, self.id_admin
        )
        assert resultado is True

        # Verificar aprovação
        verificacao_db = obter_por_id(id_verificacao)  # type: ignore[arg-type]
        assert verificacao_db is not None
        assert verificacao_db.status_verificacao == VerificacaoStatus.APROVADO

    def test_enum_status_valores(self, test_db):
        """Testa se os valores dos enums estão corretos"""
        # Arrange - usar apenas o veterinário existente
        assert self.id_veterinario is not None
        assert self.id_admin is not None
        statuses = [
            VerificacaoStatus.PENDENTE,
            VerificacaoStatus.APROVADO,
            VerificacaoStatus.REJEITADO,
        ]
        ids_verificacao = []

        for status in statuses:
            verificacao = VerificacaoCRMV(
                0, self.id_veterinario, self.id_admin, datetime.now(), status
            )
            ids_verificacao.append(inserir(verificacao))

        # Act & Assert
        assert ids_verificacao[0] is not None
        verificacao1 = obter_por_id(ids_verificacao[0])
        assert verificacao1 is not None
        assert verificacao1.status_verificacao == VerificacaoStatus.PENDENTE

        assert ids_verificacao[1] is not None
        verificacao2 = obter_por_id(ids_verificacao[1])
        assert verificacao2 is not None
        assert verificacao2.status_verificacao == VerificacaoStatus.APROVADO

        assert ids_verificacao[2] is not None
        verificacao3 = obter_por_id(ids_verificacao[2])
        assert verificacao3 is not None
        assert verificacao3.status_verificacao == VerificacaoStatus.REJEITADO

```

# tests/test_veterinario_repo.py

```py
# import os  # noqa: F401
# import sys  # noqa: F401
from repo.veterinario_repo import (
    criar_tabela as criar_tabela_veterinario,
    inserir as inserir_veterinario,
    atualizar as atualizar_veterinario,
    atualizar_verificacao,
    excluir as excluir_veterinario,
    obter_pagina as obter_por_pagina,
    obter_por_id,
)
from model.veterinario_model import Veterinario
# from model.usuario_model import Usuario  # noqa: F401
from repo.usuario_repo import criar_tabela as criar_tabela_usuario


class TestVeterinarioRepo:
    def test_criar_tabela(self, test_db):
        # Arrange
        # Act
        resultado = criar_tabela_veterinario()
        # Assert
        assert (
            resultado is True
        ), "A criação da tabela de veterinários deveria retornar True"

    def test_inserir_veterinario(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        novo_veterinario = Veterinario(
            id_usuario=0,
            nome="Veterinario Teste",
            email="vet@gmail.com",
            senha="senha123",
            telefone="11999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="SP-123456",
            verificado=False,
            bio="Veterinário para teste",
        )
        # Insere um usuário para a FK id_usuario
        id_novo_veterinario = inserir_veterinario(novo_veterinario)
        # Act
        # Assert
        assert (
            id_novo_veterinario is not None
        ), "A inserção do veterinário deveria retornar um ID válido"
        veterinario_db = obter_por_id(id_novo_veterinario)  # type: ignore[arg-type]  # noqa: E501
        assert (
            veterinario_db is not None
        ), "O veterinário inserido não deveria ser None"
        assert (
            veterinario_db.id_usuario == id_novo_veterinario
        ), "O ID do veterinário inserido não confere"
        assert (
            veterinario_db.nome == "Veterinario Teste"
        ), "O nome do veterinário inserido não confere"
        assert (
            veterinario_db.email == "vet@gmail.com"
        ), "O email do veterinário inserido não confere"
        # Senha não é retornada por segurança
        assert (
            veterinario_db.telefone == "11999999999"
        ), "O telefone do veterinário inserido não confere"
        assert (
            veterinario_db.crmv == "SP-123456"
        ), "O CRMV do veterinário inserido não confere"
        assert (
            veterinario_db.verificado == False  # noqa: E712
        ), "O status de verificado do veterinário inserido não confere"
        assert (
            veterinario_db.bio == "Veterinário para teste"
        ), "A bio do veterinário inserido não confere"

    def test_atualizar_veterinario(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        novo_veterinario = Veterinario(
            id_usuario=0,
            nome="Veterinario Teste",
            email="vet@gmail.com",
            senha="senha123",
            telefone="11999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="SP-123456",
            verificado=False,
            bio="Veterinário para teste",
        )
        id_novo_veterinario = inserir_veterinario(novo_veterinario)
        veterinario_inserido = obter_por_id(id_novo_veterinario)  # type: ignore[arg-type]  # noqa: E501
        assert veterinario_inserido is not None

        # Act
        # Atualizando atributos herdados do usuário
        veterinario_inserido.nome = "Dr. Atualizado"
        veterinario_inserido.email = "atualizado@example.com"
        veterinario_inserido.telefone = "11988888888"
        # Atualizando atributos exclusivos do veterinário
        veterinario_inserido.crmv = "SP-654321"
        veterinario_inserido.verificado = True
        veterinario_inserido.bio = "Bio atualizada"
        # Chama a função de atualização
        resultado = atualizar_veterinario(veterinario_inserido)

        # Assert
        assert (
            resultado is True
        ), "A atualização do veterinário deveria retornar True"
        veterinario_db = obter_por_id(id_novo_veterinario)  # type: ignore[arg-type]  # noqa: E501
        assert veterinario_db is not None
        assert (
            veterinario_db.nome == "Dr. Atualizado"
        ), "O nome do veterinário não foi atualizado corretamente"
        assert (
            veterinario_db.email == "atualizado@example.com"
        ), "O email do veterinário não foi atualizado corretamente"
        assert (
            veterinario_db.telefone == "11988888888"
        ), "O telefone do veterinário não foi atualizado corretamente"
        assert (
            veterinario_db.crmv == "SP-654321"
        ), "O CRMV do veterinário não foi atualizado corretamente"
        assert (
            veterinario_db.verificado == True  # noqa: E712
        ), "O status de verificado não foi atualizado corretamente"
        assert (
            veterinario_db.bio == "Bio atualizada"
        ), "A bio do veterinário não foi atualizada corretamente"

    def test_excluir_veterinario(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        novo_veterinario = Veterinario(
            id_usuario=0,
            nome="Veterinario Teste",
            email="vet@gmail",
            senha="senha123",
            telefone="11999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="SP-123456",
            verificado=False,
            bio="Veterinário para teste",
        )
        id_novo_veterinario = inserir_veterinario(novo_veterinario)
        # act
        resultado = excluir_veterinario(id_novo_veterinario)  # type: ignore[arg-type]  # noqa: E501
        # Assert
        assert (
            resultado is True
        ), "A exclusão do veterinário deveria retornar True"
        veterinario_excluido = obter_por_id(id_novo_veterinario)  # type: ignore[arg-type]  # noqa: E501
        assert (
            veterinario_excluido is None
        ), "O veterinário excluído deveria ser None"

    def test_obter_todos_veterinarios(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        vet1 = Veterinario(
            id_usuario=0,
            nome="Veterinario Teste",
            email="vet@gmail.com",
            senha="senha123",
            telefone="11999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="SP-123456",
            verificado=False,
            bio="Veterinário para teste",
        )
        vet2 = Veterinario(
            id_usuario=1,
            nome="Dr. B",
            email="b@example.com",
            senha="senhaB",
            telefone="22222222222",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="CRMV-B",
            verificado=True,
            bio="Veterinário B",
        )
        inserir_veterinario(vet1)
        inserir_veterinario(vet2)

        # Act
        veterinarios_db = obter_por_pagina(2, 0)
        # Assert
        assert len(veterinarios_db) == 2, "Deveriam ser obtidos 2 veterinários"
        assert (
            veterinarios_db[0].nome == "Veterinario Teste"
        ), "O nome do primeiro veterinário obtido não confere"
        assert (
            veterinarios_db[1].nome == "Dr. B"
        ), "O nome do segundo veterinário obtido não confere"

    def test_obter_veterinario_por_id(self, test_db):
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        veterinario_teste = Veterinario(
            id_usuario=1,
            nome="Dr. Teste",
            email="vet@gmail.com",
            senha="senha123",
            telefone="11999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="SP-123456",
            verificado=False,
            bio="Veterinário para teste",
        )
        inserir_veterinario(veterinario_teste)
        # Act
        veterinario_db = obter_por_id(1)
        # Assert
        assert (
            veterinario_db is not None
        ), "O veterinário obtido não deveria ser None"
        assert (
            veterinario_db.id_usuario == veterinario_teste.id_usuario
        ), "O ID do veterinário obtido não confere"
        assert (
            veterinario_db.nome == "Dr. Teste"
        ), "O nome do veterinário obtido não confere"
        assert (
            veterinario_db.crmv == "SP-123456"
        ), "O CRMV do veterinário obtido não confere"
        assert (
            veterinario_db.bio == "Veterinário para teste"
        ), "A bio do veterinário obtido não confere"

    def test_atualizar_verificacao_sucesso(self, test_db):
        """Testa atualização do status de verificação do veterinário"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        novo_veterinario = Veterinario(
            id_usuario=0,
            nome="Dr. Não Verificado",
            email="nao.verificado@vet.com",
            senha="senha123",
            telefone="11999999999",
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv="SP-999999",
            verificado=False,
            bio="Veterinário aguardando verificação",
        )
        id_veterinario = inserir_veterinario(novo_veterinario)

        # Act
        resultado = atualizar_verificacao(id_veterinario, True)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert (
            resultado is True
        ), "Atualização de verificação deveria retornar True"
        veterinario_db = obter_por_id(id_veterinario)  # type: ignore[arg-type]
        assert veterinario_db is not None
        assert (
            veterinario_db.verificado == True  # noqa: E712
        ), "Status de verificado deveria ser True"

    def test_atualizar_verificacao_veterinario_inexistente(self, test_db):
        """Testa atualização de verificação com veterinário inexistente"""
        # Arrange
        criar_tabela_usuario()
        criar_tabela_veterinario()
        id_inexistente = 9999

        # Act
        resultado = atualizar_verificacao(id_inexistente, True)  # type: ignore[arg-type]  # noqa: E501

        # Assert
        assert resultado is False, (
            "Atualização de verificação de veterinário inexistente "
            "deveria retornar False"
        )

```

# util/__init__.py

```py

```

# util/auth_decorator.py

```py
"""
Decorator para proteger rotas com autenticação e autorização
"""
from functools import wraps
from typing import List, Optional
from fastapi import Request, HTTPException, status
from fastapi.responses import RedirectResponse


def obter_usuario_logado(request: Request) -> Optional[dict]:
    """
    Obtém os dados do usuário logado da sessão
    
    Args:
        request: Objeto Request do FastAPI
    
    Returns:
        Dicionário com dados do usuário ou None se não estiver logado
    """
    if not hasattr(request, 'session'):
        return None
    return request.session.get('usuario')


def esta_logado(request: Request) -> bool:
    """
    Verifica se há um usuário logado
    
    Args:
        request: Objeto Request do FastAPI
    
    Returns:
        True se há usuário logado, False caso contrário
    """
    return obter_usuario_logado(request) is not None


def criar_sessao(request: Request, usuario: dict) -> None:
    """
    Cria uma sessão para o usuário após login

    Args:
        request: Objeto Request do FastAPI
        usuario: Dicionário com dados do usuário
    """
    if hasattr(request, 'session'):
        # Limpar sessão anterior para prevenir fixação de sessão
        request.session.clear()

        # Remove senha da sessão por segurança
        usuario_sessao = usuario.copy()
        usuario_sessao.pop('senha', None)

        # Criar nova sessão com dados do usuário
        request.session['usuario'] = usuario_sessao


def destruir_sessao(request: Request) -> None:
    """
    Destrói a sessão do usuário (logout)
    
    Args:
        request: Objeto Request do FastAPI
    """
    if hasattr(request, 'session'):
        request.session.clear()


def requer_autenticacao(perfis_autorizados: Optional[List[str]] = None):
    """
    Decorator para proteger rotas que requerem autenticação

    Args:
        perfis_autorizados: Lista de perfis autorizados a acessar a rota.
                           Se None, qualquer usuário logado pode acessar.
    
    Exemplo de uso:
        @router.get("/admin")
        @requer_autenticacao(['admin'])
        async def admin_page(request: Request):
            ...
        
        @router.get("/perfil")
        @requer_autenticacao()  # Qualquer usuário logado
        async def perfil(request: Request):
            ...
    """
    def decorator(func):
        @wraps(func)
        async def wrapper(*args, **kwargs):
            # Encontra o objeto Request nos argumentos
            request = None
            for arg in args:
                if isinstance(arg, Request):
                    request = arg
                    break
            if not request:
                for value in kwargs.values():
                    if isinstance(value, Request):
                        request = value
                        break
            
            if not request:
                raise HTTPException(
                    status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
                    detail="Request object not found"
                )
            
            # Verifica se o usuário está logado
            usuario = obter_usuario_logado(request)
            if not usuario:
                # Redireciona para login se não estiver autenticado
                return RedirectResponse(
                    url="/login?redirect=" + str(request.url.path),
                    status_code=status.HTTP_303_SEE_OTHER
                )
            
            # Verifica autorização se perfis foram especificados
            if perfis_autorizados:
                perfil_usuario = usuario.get('perfil', 'cliente')
                if perfil_usuario not in perfis_autorizados:
                    # Retorna erro 403 se não autorizado
                    raise HTTPException(
                        status_code=status.HTTP_403_FORBIDDEN,
                        detail="Você não tem permissão para acessar este recurso"
                    )
            
            # Adiciona o usuário aos kwargs para fácil acesso na rota
            kwargs['usuario_logado'] = usuario
            
            # Chama a função original
            if asyncio.iscoroutinefunction(func):
                return await func(*args, **kwargs)
            return func(*args, **kwargs)
        
        return wrapper
    return decorator


# Importação necessária para funções assíncronas
import asyncio
```

# util/data_util.py

```py
"""
Utilitários para conversão de datas e timestamps.
"""

from datetime import datetime, date
from typing import Union, Optional


def converter_para_date(
    valor: Union[str, date, None],
    formato: str = "%Y-%m-%d"
) -> Optional[date]:
    """
    Converte string ou date para date, retorna None se inválido.

    Args:
        valor: Valor a ser convertido (str, date ou None)
        formato: Formato de data esperado para strings (padrão: %Y-%m-%d)

    Returns:
        date object ou None se conversão falhar

    Examples:
        >>> converter_para_date("2025-10-15")
        date(2025, 10, 15)
        >>> converter_para_date(date(2025, 10, 15))
        date(2025, 10, 15)
        >>> converter_para_date(None)
        None
    """
    if valor is None:
        return None

    if isinstance(valor, date):
        return valor

    if isinstance(valor, str):
        try:
            return datetime.strptime(valor, formato).date()
        except ValueError:
            # Tentar formato com hora
            try:
                return datetime.strptime(valor, "%Y-%m-%d %H:%M:%S").date()
            except ValueError:
                # Tentar formato ISO
                try:
                    return datetime.fromisoformat(valor).date()
                except (ValueError, AttributeError):
                    return None

    return None


def converter_para_datetime(
    valor: Union[str, datetime, None],
    formato: str = "%Y-%m-%d %H:%M:%S"
) -> Optional[datetime]:
    """
    Converte string ou datetime para datetime.

    Args:
        valor: Valor a ser convertido (str, datetime ou None)
        formato: Formato de datetime esperado para strings

    Returns:
        datetime object ou None se conversão falhar

    Examples:
        >>> converter_para_datetime("2025-10-15 10:30:00")
        datetime(2025, 10, 15, 10, 30, 0)
        >>> converter_para_datetime(datetime(2025, 10, 15))
        datetime(2025, 10, 15, 0, 0)
        >>> converter_para_datetime(None)
        None
    """
    if valor is None:
        return None

    if isinstance(valor, datetime):
        return valor

    if isinstance(valor, str):
        try:
            return datetime.strptime(valor, formato)
        except ValueError:
            # Tentar formato ISO
            try:
                return datetime.fromisoformat(valor)
            except (ValueError, AttributeError):
                # Tentar formato apenas data
                try:
                    return datetime.strptime(valor, "%Y-%m-%d")
                except ValueError:
                    return None

    return None


def formatar_data(
    valor: Union[date, datetime, str, None],
    formato: str = "%d/%m/%Y"
) -> Optional[str]:
    """
    Formata uma data para string no formato brasileiro ou personalizado.

    Args:
        valor: Valor a ser formatado (date, datetime, str ou None)
        formato: Formato de saída desejado (padrão: %d/%m/%Y - brasileiro)

    Returns:
        String formatada ou None se conversão falhar

    Examples:
        >>> formatar_data(date(2025, 10, 15))
        '15/10/2025'
        >>> formatar_data("2025-10-15", "%d/%m/%Y")
        '15/10/2025'
    """
    if valor is None:
        return None

    if isinstance(valor, str):
        # Tentar converter string para date primeiro
        valor = converter_para_date(valor)
        if valor is None:
            return None

    if isinstance(valor, (date, datetime)):
        return valor.strftime(formato)

    return None


def formatar_datetime(
    valor: Union[datetime, str, None],
    formato: str = "%d/%m/%Y %H:%M:%S"
) -> Optional[str]:
    """
    Formata um datetime para string no formato brasileiro ou personalizado.

    Args:
        valor: Valor a ser formatado (datetime, str ou None)
        formato: Formato de saída desejado

    Returns:
        String formatada ou None se conversão falhar

    Examples:
        >>> formatar_datetime(datetime(2025, 10, 15, 10, 30, 0))
        '15/10/2025 10:30:00'
    """
    if valor is None:
        return None

    if isinstance(valor, str):
        # Tentar converter string para datetime primeiro
        valor = converter_para_datetime(valor)
        if valor is None:
            return None

    if isinstance(valor, datetime):
        return valor.strftime(formato)

    return None

```

# util/db_util.py

```py
import sqlite3
import os
import json
from contextlib import contextmanager
from typing import Generator
from pathlib import Path
import logging

logger = logging.getLogger(__name__)

# Timeout padrão
DB_TIMEOUT: float = float(os.getenv("DATABASE_TIMEOUT", "30.0"))


# Função para obter o caminho do banco de dados, considerando variáveis
# de ambiente que indicam caminhos diferentes para testes e produção.
def _get_db_path() -> str:
    """Retorna o caminho do banco, lendo variáveis de ambiente dinamicamente."""
    return os.getenv("TEST_DATABASE_PATH") or os.getenv("DATABASE_PATH") or "dados.db"


def _criar_conexao() -> sqlite3.Connection:
    """Cria uma conexão configurada com o banco de dados."""
    try:
        db_path = _get_db_path()  # Lê dinamicamente a cada conexão
        conn = sqlite3.connect(db_path, timeout=DB_TIMEOUT, check_same_thread=False)
        conn.row_factory = sqlite3.Row
        # CRITICAL: Habilitar foreign keys no SQLite
        conn.execute("PRAGMA foreign_keys = ON")
        # Performance improvements
        conn.execute("PRAGMA journal_mode = WAL")
        conn.execute("PRAGMA synchronous = NORMAL")
        return conn
    except sqlite3.Error as e:
        logger.error(f"Erro ao conectar ao banco de dados: {e}")
        raise


@contextmanager
def get_connection() -> Generator[sqlite3.Connection, None, None]:
    """Context manager para gerenciar conexões com commit/rollback automático."""
    conn = _criar_conexao()
    try:
        yield conn
        conn.commit()
    except Exception as e:
        conn.rollback()
        logger.error(f"Erro na transação, rollback executado: {e}")
        raise
    finally:
        conn.close()


def get_connection_sem_commit() -> sqlite3.Connection:
    """Retorna conexão sem commit automático para operações de leitura."""
    return _criar_conexao()


def inicializar_banco():
    # Chama o método criar_tabela de cada repositório para garantir que as tabelas existam
    from repo import (
        administrador_repo,
        tutor_repo,
        usuario_repo,
        veterinario_repo,
        categoria_artigo_repo,
        postagem_artigo_repo,
        curtida_artigo_repo,
        postagem_feed_repo,
        curtida_feed_repo,
        denuncia_repo,
        verificacao_crmv_repo,
        seguida_repo,
    )

    usuario_repo.criar_tabela()
    tutor_repo.criar_tabela()
    veterinario_repo.criar_tabela()
    administrador_repo.criar_tabela()
    categoria_artigo_repo.criar_tabela()
    postagem_artigo_repo.criar_tabela()
    curtida_artigo_repo.criar_tabela()
    postagem_feed_repo.criar_tabela()
    curtida_feed_repo.criar_tabela()
    denuncia_repo.criar_tabela()
    verificacao_crmv_repo.criar_tabela()
    seguida_repo.criar_tabela()

    # Importar dados iniciais se necessário
    importar_admins()
    importar_veterinarios()
    importar_tutores()
    importar_categorias_artigos()
    importar_postagens_artigos()
    importar_postagens_feeds()


def importar_admins():
    """Importa administradores do arquivo JSON se a tabela estiver vazia."""
    from repo import administrador_repo
    from model.administrador_model import Administrador
    from util.security import criar_hash_senha

    # Verifica se a tabela está vazia
    admins_existentes = administrador_repo.obter_pagina(offset=0, limite=1)
    if admins_existentes:
        logger.info("Tabela de administradores já contém dados. Importação ignorada.")
        return

    # Lê o arquivo JSON
    json_path = Path(__file__).parent.parent / "data" / "admins.json"
    if not json_path.exists():
        logger.warning(f"Arquivo {json_path} não encontrado.")
        return

    with open(json_path, "r", encoding="utf-8") as f:
        dados = json.load(f)

    # Importa cada administrador
    for item in dados:
        admin = Administrador(
            id_admin=item["id_admin"],
            nome=item["nome"],
            email=item["email"],
            senha=criar_hash_senha(item["senha"]),
        )
        administrador_repo.importar(admin)
        logger.info(f"Administrador '{admin.nome}' importado com sucesso.")


def importar_tutores():
    """Importa tutores do arquivo JSON se a tabela estiver vazia."""
    from repo import tutor_repo
    from model.tutor_model import Tutor
    from util.security import criar_hash_senha

    # Verifica se a tabela está vazia
    tutores_existentes = tutor_repo.obter_pagina(limite=1, offset=0)
    if tutores_existentes:
        logger.info("Tabela de tutores já contém dados. Importação ignorada.")
        return

    # Lê o arquivo JSON
    json_path = Path(__file__).parent.parent / "data" / "tutores.json"
    if not json_path.exists():
        logger.warning(f"Arquivo {json_path} não encontrado.")
        return

    with open(json_path, "r", encoding="utf-8") as f:
        dados = json.load(f)

    # Importa cada tutor
    for item in dados:
        tutor = Tutor(
            id_usuario=item["id_usuario"],
            nome=item["nome"],
            email=item["email"],
            senha=criar_hash_senha(item["senha"]),
            telefone=item["telefone"],
            perfil="tutor",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            quantidade_pets=item["quantidade_pets"],
            descricao_pets=item["descricao_pets"],
        )
        tutor_repo.importar(tutor)
        logger.info(f"Tutor '{tutor.nome}' importado com sucesso.")


def importar_veterinarios():
    """Importa veterinários do arquivo JSON se a tabela estiver vazia."""
    from repo import veterinario_repo
    from model.veterinario_model import Veterinario
    from util.security import criar_hash_senha

    # Verifica se a tabela está vazia
    vets_existentes = veterinario_repo.obter_pagina(limite=1, offset=0)
    if vets_existentes:
        logger.info("Tabela de veterinários já contém dados. Importação ignorada.")
        return

    # Lê o arquivo JSON
    json_path = Path(__file__).parent.parent / "data" / "veterinarios.json"
    if not json_path.exists():
        logger.warning(f"Arquivo {json_path} não encontrado.")
        return

    with open(json_path, "r", encoding="utf-8") as f:
        dados = json.load(f)

    # Importa cada veterinário
    for item in dados:
        vet = Veterinario(
            id_usuario=item["id_usuario"],
            nome=item["nome"],
            email=item["email"],
            senha=criar_hash_senha(item["senha"]),
            telefone=item["telefone"],
            perfil="veterinario",
            token_redefinicao=None,
            data_token=None,
            data_cadastro=None,
            crmv=item["crmv"],
            verificado=item["verificado"],
            bio=item["bio"],
        )
        veterinario_repo.importar(vet)
        logger.info(f"Veterinário '{vet.nome}' importado com sucesso.")


def importar_categorias_artigos():
    """Importa categorias de artigos do arquivo JSON se a tabela estiver vazia."""
    from repo import categoria_artigo_repo
    from model.categoria_artigo_model import CategoriaArtigo

    # Verifica se a tabela está vazia
    categorias_existentes = categoria_artigo_repo.obter_pagina(offset=0, limite=1)
    if categorias_existentes:
        logger.info("Tabela de categorias de artigos já contém dados. Importação ignorada.")
        return

    # Lê o arquivo JSON
    json_path = Path(__file__).parent.parent / "data" / "categorias_artigos.json"
    if not json_path.exists():
        logger.warning(f"Arquivo {json_path} não encontrado.")
        return

    with open(json_path, "r", encoding="utf-8") as f:
        dados = json.load(f)

    # Importa cada categoria
    for item in dados:
        categoria = CategoriaArtigo(
            id_categoria_artigo=item["id_categoria_artigo"],
            nome=item["nome"],
            cor=item["cor"],
        )
        categoria_artigo_repo.importar(categoria)
        logger.info(f"Categoria '{categoria.nome}' importada com sucesso.")


def importar_postagens_artigos():
    """Importa postagens de artigos do arquivo JSON se a tabela estiver vazia."""
    from datetime import date
    from repo import postagem_artigo_repo
    from model.postagem_artigo_model import PostagemArtigo

    # Verifica se a tabela está vazia
    postagens_existentes = postagem_artigo_repo.obter_pagina(pagina=1, tamanho_pagina=1)
    if postagens_existentes:
        logger.info("Tabela de postagens de artigos já contém dados. Importação ignorada.")
        return

    # Lê o arquivo JSON
    json_path = Path(__file__).parent.parent / "data" / "postagens_artigos.json"
    if not json_path.exists():
        logger.warning(f"Arquivo {json_path} não encontrado.")
        return

    with open(json_path, "r", encoding="utf-8") as f:
        dados = json.load(f)

    # Importa cada postagem
    for item in dados:
        postagem = PostagemArtigo(
            id_postagem_artigo=item["id_postagem_artigo"],
            id_veterinario=item["id_veterinario"],
            titulo=item["titulo"],
            conteudo=item["conteudo"],
            id_categoria_artigo=item["id_categoria_artigo"],
            data_publicacao=date.today(),  # Usa data atual pois não está no JSON
            visualizacoes=item.get("visualizacoes", 0),  # Usa 0 como padrão se não existir
        )
        postagem_artigo_repo.importar(postagem)
        logger.info(f"Postagem '{postagem.titulo}' importada com sucesso.")


def importar_postagens_feeds():
    """Importa postagens de feeds do arquivo JSON se a tabela estiver vazia."""
    from datetime import datetime
    from repo import postagem_feed_repo
    from model.postagem_feed_model import PostagemFeed

    # Verifica se a tabela está vazia
    postagens_existentes = postagem_feed_repo.obter_pagina(pagina=1, tamanho_pagina=1)
    if postagens_existentes:
        logger.info("Tabela de postagens de feeds já contém dados. Importação ignorada.")
        return

    # Lê o arquivo JSON
    json_path = Path(__file__).parent.parent / "data" / "postagens_feeds.json"
    if not json_path.exists():
        logger.warning(f"Arquivo {json_path} não encontrado.")
        return

    with open(json_path, "r", encoding="utf-8") as f:
        dados = json.load(f)

    # Importa cada postagem
    for item in dados:
        postagem = PostagemFeed(
            id_postagem_feed=item["id_postagem_feed"],
            id_tutor=item["id_tutor"],
            descricao=item["descricao"],
            data_postagem=datetime.strptime(item["data_postagem"], "%Y-%m-%d %H:%M:%S"),
            visualizacoes=item.get("visualizacoes", 0),
        )
        postagem_feed_repo.importar(postagem)
        logger.info(f"Postagem feed #{postagem.id_postagem_feed} do tutor {postagem.id_tutor} importada com sucesso.")
```

# util/enum_util.py

```py
"""
Utilitários para conversão de enums.
"""

from enum import Enum
from typing import Union, Type, TypeVar, Optional

E = TypeVar('E', bound=Enum)


def enum_para_valor(enum_ou_valor: Union[E, str, int]) -> Union[str, int]:
    """
    Converte enum para valor ou retorna o valor se já for primitivo.

    Args:
        enum_ou_valor: Um enum ou valor primitivo (str, int)

    Returns:
        O valor do enum (str ou int)

    Examples:
        >>> from enum import Enum
        >>> class Status(Enum):
        ...     ABERTO = "aberto"
        ...     FECHADO = "fechado"
        >>> enum_para_valor(Status.ABERTO)
        'aberto'
        >>> enum_para_valor("aberto")
        'aberto'
    """
    return enum_ou_valor.value if isinstance(enum_ou_valor, Enum) else enum_ou_valor


def valor_para_enum(valor: Union[str, int, None], enum_class: Type[E]) -> Optional[E]:
    """
    Converte valor para enum de forma segura.

    Args:
        valor: Valor a ser convertido (str, int ou None)
        enum_class: Classe do enum

    Returns:
        Instância do enum ou None se valor for None ou inválido

    Examples:
        >>> from enum import Enum
        >>> class Status(Enum):
        ...     ABERTO = "aberto"
        ...     FECHADO = "fechado"
        >>> valor_para_enum("aberto", Status)
        <Status.ABERTO: 'aberto'>
        >>> valor_para_enum(None, Status)
        None
        >>> valor_para_enum("invalido", Status)
        None
    """
    if valor is None:
        return None

    try:
        return enum_class(valor)
    except (ValueError, KeyError):
        return None


def enum_para_nome(enum_ou_valor: Union[E, str, int, None]) -> Optional[str]:
    """
    Retorna o nome do enum (não o valor).

    Args:
        enum_ou_valor: Um enum, valor primitivo ou None

    Returns:
        O nome do enum ou None

    Examples:
        >>> from enum import Enum
        >>> class Status(Enum):
        ...     ABERTO = "aberto"
        ...     FECHADO = "fechado"
        >>> enum_para_nome(Status.ABERTO)
        'ABERTO'
    """
    if enum_ou_valor is None:
        return None

    return enum_ou_valor.name if isinstance(enum_ou_valor, Enum) else None


def listar_valores_enum(enum_class: Type[E]) -> list[Union[str, int]]:
    """
    Lista todos os valores possíveis de um enum.

    Args:
        enum_class: Classe do enum

    Returns:
        Lista com todos os valores do enum

    Examples:
        >>> from enum import Enum
        >>> class Status(Enum):
        ...     ABERTO = "aberto"
        ...     FECHADO = "fechado"
        >>> listar_valores_enum(Status)
        ['aberto', 'fechado']
    """
    return [item.value for item in enum_class]


def listar_nomes_enum(enum_class: Type[E]) -> list[str]:
    """
    Lista todos os nomes possíveis de um enum.

    Args:
        enum_class: Classe do enum

    Returns:
        Lista com todos os nomes do enum

    Examples:
        >>> from enum import Enum
        >>> class Status(Enum):
        ...     ABERTO = "aberto"
        ...     FECHADO = "fechado"
        >>> listar_nomes_enum(Status)
        ['ABERTO', 'FECHADO']
    """
    return [item.name for item in enum_class]

```

# util/error_handlers.py

```py
"""
Decoradores e handlers para tratamento de erros
"""

import functools
from typing import Callable, Optional
from fastapi import Request
from fastapi.templating import Jinja2Templates
from pydantic import ValidationError
from util.exceptions import ValidacaoError, RecursoNaoEncontradoError, LojaVirtualError
from util.flash_messages import informar_erro, informar_sucesso


def tratar_erro_rota(template_erro: Optional[str] = None,
                     redirect_erro: Optional[str] = None):
    """
    Decorador para tratar erros em rotas web

    Args:
        template_erro: Template para renderizar em caso de erro
        redirect_erro: URL para redirecionar em caso de erro

    Uso:
        @router.post("/cadastro")
        @tratar_erro_rota(template_erro="publico/cadastro.html")
        async def cadastrar(request: Request):
            # Seu código aqui
    """
    def decorator(func: Callable) -> Callable:
        @functools.wraps(func)
        async def wrapper(request: Request, *args, **kwargs):
            try:
                return await func(request, *args, **kwargs)

            except ValidationError as e:
                # Extrair primeira mensagem de erro do Pydantic
                error_msg = e.errors()[0]["msg"]
                # logger.warning("Erro de validação Pydantic", erro=error_msg, rota=str(request.url))

                if template_erro:
                    templates = Jinja2Templates(directory="templates")
                    return templates.TemplateResponse(template_erro, {
                        "request": request,
                        "erro": error_msg
                    })

            except ValidacaoError as e:
                # logger.warning("Erro de validação customizado", erro=e, rota=str(request.url))
                informar_erro(request, f"Dados inválidos: {e.mensagem}")

                if template_erro:
                    templates = Jinja2Templates(directory="templates")
                    return templates.TemplateResponse(template_erro, {
                        "request": request,
                        "erro": e.mensagem
                    })

            except RecursoNaoEncontradoError as e:
                # logger.info("Recurso não encontrado", erro=e, rota=str(request.url))
                informar_erro(request, e.mensagem)

            except LojaVirtualError as e:
                # logger.error("Erro de negócio", erro=e, rota=str(request.url))
                informar_erro(request, e.mensagem)

            except Exception as e:
                # logger.error("Erro inesperado", erro=e, rota=str(request.url))
                informar_erro(request, "Erro interno. Tente novamente.")

            # Fallback para redirect ou template
            if redirect_erro:
                from fastapi.responses import RedirectResponse
                return RedirectResponse(redirect_erro)
            elif template_erro:
                templates = Jinja2Templates(directory="templates")
                return templates.TemplateResponse(template_erro, {
                    "request": request,
                    "erro": "Ocorreu um erro. Tente novamente."
                })

        return wrapper
    return decorator
```

# util/exceptions.py

```py
"""
Exceções customizadas da aplicação
"""
from typing import Any, Optional


class LojaVirtualError(Exception):
    """Exceção base para erros da aplicação"""
    def __init__(self, mensagem: str, erro_original: Optional[Exception] = None):
        self.mensagem = mensagem
        self.erro_original = erro_original
        super().__init__(self.mensagem)


class ValidacaoError(LojaVirtualError):
    """Erro de validação de dados"""
    def __init__(self, mensagem: str, campo: Optional[str] = None, valor: Optional[Any] = None):
        super().__init__(mensagem)
        self.campo = campo
        self.valor = valor


class RecursoNaoEncontradoError(LojaVirtualError):
    """Erro quando um recurso não é encontrado"""
    def __init__(self, recurso: str, identificador: Any):
        mensagem = f"{recurso} não encontrado: {identificador}"
        super().__init__(mensagem)
        self.recurso = recurso
        self.identificador = identificador


class BancoDadosError(LojaVirtualError):
    """Erro relacionado ao banco de dados"""
    def __init__(self, mensagem: str, operacao: str, erro_original: Optional[Exception] = None):
        super().__init__(mensagem, erro_original)
        self.operacao = operacao
```

# util/file_manager.py

```py
"""
Gerenciador de Arquivos de Upload
"""
import os
import logging
from pathlib import Path
from typing import Optional

from config.upload_config import UploadConfig


logger = logging.getLogger(__name__)


class FileManager:
    """Gerenciador de arquivos de upload com limpeza"""

    @staticmethod
    def salvar_arquivo(
        conteudo: bytes,
        nome_arquivo: str,
        usuario_id: int
    ) -> str:
        """
        Salva arquivo com permissões corretas

        Returns:
            str: Caminho relativo do arquivo salvo
        """
        # Caminho completo
        caminho_completo = UploadConfig.USUARIOS_DIR / nome_arquivo

        try:
            # Verificar permissões do diretório
            if not os.access(UploadConfig.USUARIOS_DIR, os.W_OK):
                raise PermissionError(
                    f"Sem permissão de escrita em {UploadConfig.USUARIOS_DIR}"
                )

            # Salvar arquivo
            with open(caminho_completo, 'wb') as f:
                f.write(conteudo)

            # Definir permissões
            os.chmod(caminho_completo, UploadConfig.FILE_PERMISSIONS)

            # Caminho relativo para URL
            caminho_relativo = f"/static/img/usuarios/{nome_arquivo}"

            logger.info(
                f"Arquivo salvo com sucesso: {nome_arquivo} "
                f"(usuário: {usuario_id}, tamanho: {len(conteudo)} bytes)"
            )

            return caminho_relativo

        except PermissionError as e:
            logger.error(f"Erro de permissão ao salvar arquivo: {e}")
            raise
        except OSError as e:
            logger.error(f"Erro de sistema ao salvar arquivo: {e}")
            raise
        except Exception as e:
            logger.error(f"Erro inesperado ao salvar arquivo: {e}", exc_info=True)
            raise

    @staticmethod
    def deletar_foto_antiga(caminho_foto: Optional[str]):
        """
        Deleta foto antiga do usuário (LGPD compliance)
        """
        if not caminho_foto:
            return

        try:
            # Converter caminho relativo para absoluto
            # caminho_foto = "/static/uploads/usuarios/abc.jpg"
            nome_arquivo = Path(caminho_foto).name
            caminho_completo = UploadConfig.USUARIOS_DIR / nome_arquivo

            if caminho_completo.exists():
                caminho_completo.unlink()
                logger.info(f"Foto antiga deletada: {nome_arquivo}")
            else:
                logger.warning(f"Foto antiga não encontrada: {caminho_completo}")

        except PermissionError as e:
            logger.error(f"Sem permissão para deletar foto: {e}")
        except Exception as e:
            logger.error(f"Erro ao deletar foto antiga: {e}", exc_info=True)

    @staticmethod
    def verificar_espaco_disco(tamanho_necessario: int) -> bool:
        """Verifica se há espaço suficiente no disco"""
        import shutil

        try:
            stats = shutil.disk_usage(UploadConfig.USUARIOS_DIR)
            espaco_livre = stats.free

            # Deixar pelo menos 100MB de margem
            margem_seguranca = 100 * 1024 * 1024

            return espaco_livre > (tamanho_necessario + margem_seguranca)
        except Exception as e:
            logger.error(f"Erro ao verificar espaço em disco: {e}")
            return False

    @staticmethod
    def gerar_nome_foto_usuario(id_usuario: int, extensao: str) -> str:
        """
        Gera nome de arquivo para foto de usuário no formato 000123.jpg

        Args:
            id_usuario: ID do usuário
            extensao: Extensão do arquivo (sem ponto, ex: 'jpg', 'png')

        Returns:
            str: Nome do arquivo (ex: '000123.jpg')
        """
        # Remove ponto da extensão se presente
        extensao_limpa = extensao.lstrip('.')

        # Gera nome usando o pattern configurado
        nome_base = UploadConfig.FOTO_USUARIO_PATTERN.format(id_usuario)
        return f"{nome_base}.{extensao_limpa}"

    @staticmethod
    def obter_foto_usuario_existente(id_usuario: int) -> Optional[Path]:
        """
        Busca foto existente do usuário em qualquer extensão permitida

        Args:
            id_usuario: ID do usuário

        Returns:
            Path do arquivo encontrado ou None
        """
        nome_base = UploadConfig.FOTO_USUARIO_PATTERN.format(id_usuario)

        for extensao in UploadConfig.ALLOWED_EXTENSIONS:
            # Remove ponto da extensão
            ext_limpa = extensao.lstrip('.')
            nome_arquivo = f"{nome_base}.{ext_limpa}"
            caminho_completo = UploadConfig.USUARIOS_DIR / nome_arquivo

            if caminho_completo.exists():
                return caminho_completo

        return None

    @staticmethod
    def deletar_todas_fotos_usuario(id_usuario: int):
        """
        Deleta todas as extensões possíveis de foto de um usuário

        Args:
            id_usuario: ID do usuário
        """
        nome_base = UploadConfig.FOTO_USUARIO_PATTERN.format(id_usuario)

        for extensao in UploadConfig.ALLOWED_EXTENSIONS:
            nome_arquivo = ""  # Inicializar para evitar UnboundLocalError
            try:
                # Remove ponto da extensão
                ext_limpa = extensao.lstrip('.')
                nome_arquivo = f"{nome_base}.{ext_limpa}"
                caminho_completo = UploadConfig.USUARIOS_DIR / nome_arquivo

                if caminho_completo.exists():
                    caminho_completo.unlink()
                    logger.info(
                        f"Foto deletada: {nome_arquivo} (usuário: {id_usuario})"
                    )
            except PermissionError as e:
                logger.error(
                    f"Sem permissão para deletar {nome_arquivo or extensao}: {e}"
                )
            except Exception as e:
                logger.error(
                    f"Erro ao deletar {nome_arquivo or extensao}: {e}",
                    exc_info=True
                )

```

# util/file_validator.py

```py
"""
Validador Robusto de Arquivos de Upload
"""
import uuid
from pathlib import Path
from typing import Tuple, Optional
from PIL import Image
from fastapi import UploadFile

from config.upload_config import UploadConfig


class FileValidationError(Exception):
    """Erro de validação de arquivo"""
    pass


class FileValidator:
    """Validador completo de arquivos de upload"""

    @staticmethod
    async def validar_imagem_completo(
        arquivo: UploadFile,
        max_size: int = UploadConfig.MAX_FILE_SIZE
    ) -> Tuple[bytes, str]:
        """
        Validação completa de arquivo de imagem

        Returns:
            Tuple[bytes, str]: (conteúdo do arquivo, extensão validada)

        Raises:
            FileValidationError: Se arquivo inválido
        """

        # 1. Validar nome do arquivo
        if not arquivo.filename:
            raise FileValidationError("Nome do arquivo não fornecido")

        FileValidator._validar_nome_arquivo(arquivo.filename)

        # 2. Validar extensão
        extensao = FileValidator._obter_extensao_segura(arquivo.filename)
        if extensao not in UploadConfig.ALLOWED_EXTENSIONS:
            extensoes_str = ', '.join(UploadConfig.ALLOWED_EXTENSIONS)
            raise FileValidationError(
                f"Extensão não permitida. Use: {extensoes_str}"
            )

        # 3. Ler conteúdo com limite de tamanho
        try:
            conteudo = await FileValidator._ler_com_limite(arquivo, max_size)
        except FileValidationError:
            raise

        # 4. Validar magic bytes
        tipo_real = FileValidator._validar_magic_bytes(conteudo)
        if not tipo_real:
            raise FileValidationError(
                "Arquivo não é uma imagem válida (validação de assinatura falhou)"
            )

        # 5. Validar com biblioteca de imagem
        try:
            FileValidator._validar_com_pillow(conteudo)
        except Exception as e:
            raise FileValidationError(f"Arquivo de imagem corrompido: {str(e)}")

        # 6. Validar MIME type
        if arquivo.content_type not in UploadConfig.ALLOWED_MIME_TYPES:
            raise FileValidationError(
                f"Tipo MIME não permitido: {arquivo.content_type}"
            )

        return conteudo, extensao

    @staticmethod
    async def _ler_com_limite(
        arquivo: UploadFile,
        max_size: int
    ) -> bytes:
        """Lê arquivo com limite de tamanho"""
        conteudo = b""
        chunk_size = 1024 * 1024  # 1MB por vez

        while True:
            chunk = await arquivo.read(chunk_size)
            if not chunk:
                break

            conteudo += chunk

            if len(conteudo) > max_size:
                raise FileValidationError(
                    f"Arquivo muito grande. Máximo: {max_size // (1024*1024)}MB"
                )

        if len(conteudo) == 0:
            raise FileValidationError("Arquivo vazio")

        return conteudo

    @staticmethod
    def _validar_nome_arquivo(filename: str):
        """Valida nome do arquivo contra path traversal e caracteres perigosos"""
        # Caracteres proibidos
        caracteres_proibidos = ['..', '/', '\\', '\x00', '<', '>', ':', '"', '|', '?', '*']

        for char in caracteres_proibidos:
            if char in filename:
                raise FileValidationError(
                    f"Nome de arquivo contém caracteres proibidos: {char}"
                )

        # Verificar nomes reservados (Windows)
        nomes_reservados = {
            'CON', 'PRN', 'AUX', 'NUL',
            'COM1', 'COM2', 'COM3', 'COM4', 'COM5', 'COM6', 'COM7', 'COM8', 'COM9',
            'LPT1', 'LPT2', 'LPT3', 'LPT4', 'LPT5', 'LPT6', 'LPT7', 'LPT8', 'LPT9'
        }

        nome_base = filename.split('.')[0].upper()
        if nome_base in nomes_reservados:
            raise FileValidationError("Nome de arquivo reservado pelo sistema")

    @staticmethod
    def _obter_extensao_segura(filename: str) -> str:
        """Obtém extensão de forma segura"""
        # Remover null bytes
        filename = filename.replace('\x00', '')

        # Obter última extensão
        partes = filename.lower().split('.')
        if len(partes) < 2:
            raise FileValidationError("Arquivo sem extensão")

        extensao = '.' + partes[-1]
        return extensao

    @staticmethod
    def _validar_magic_bytes(conteudo: bytes) -> Optional[str]:
        """Valida arquivo através dos magic bytes (assinatura)"""
        for magic_byte, tipo in UploadConfig.MAGIC_BYTES.items():
            if conteudo.startswith(magic_byte):
                # Validação especial para WebP
                if tipo == 'webp':
                    if len(conteudo) > 12 and conteudo[8:12] == b'WEBP':
                        return tipo
                    return None
                return tipo
        return None

    @staticmethod
    def _validar_com_pillow(conteudo: bytes):
        """Valida imagem usando Pillow e retorna dimensões"""
        from io import BytesIO

        try:
            img = Image.open(BytesIO(conteudo))
            img.verify()  # Verifica integridade

            # Reabrir para obter dimensões (verify() invalida objeto)
            img = Image.open(BytesIO(conteudo))
            width, height = img.size

            # Validar dimensões
            if width < UploadConfig.MIN_WIDTH or height < UploadConfig.MIN_HEIGHT:
                raise FileValidationError(
                    f"Imagem muito pequena. Mínimo: {UploadConfig.MIN_WIDTH}x{UploadConfig.MIN_HEIGHT}px"
                )

            if width > UploadConfig.MAX_WIDTH or height > UploadConfig.MAX_HEIGHT:
                raise FileValidationError(
                    f"Imagem muito grande. Máximo: {UploadConfig.MAX_WIDTH}x{UploadConfig.MAX_HEIGHT}px"
                )

        except FileValidationError:
            raise
        except Exception as e:
            raise FileValidationError(f"Erro ao validar imagem: {str(e)}")

    @staticmethod
    def gerar_nome_arquivo_seguro(extensao: str) -> str:
        """Gera nome de arquivo único e seguro"""
        # Normalizar extensão
        extensao = extensao.lower().lstrip('.')

        # Gerar UUID completamente aleatório
        nome_unico = str(uuid.uuid4())

        return f"{nome_unico}.{extensao}"

    @staticmethod
    def sanitizar_path(caminho: str) -> Path:
        """Sanitiza path para evitar path traversal"""
        path = Path(caminho).resolve()

        # Verificar se está dentro do diretório permitido
        base_permitido = UploadConfig.USUARIOS_DIR.resolve()

        if not str(path).startswith(str(base_permitido)):
            raise FileValidationError("Path inválido detectado")

        return path

```

# util/flash_messages.py

```py
"""
Sistema de mensagens flash para FastAPI
Permite enviar mensagens através de redirects usando sessões
"""

from fastapi import Request
from typing import List, Dict, Any


def flash(request: Request, message: str, type: str = "info") -> None:
    """
    Adiciona uma mensagem flash à sessão

    Args:
        request: Objeto Request do FastAPI
        message: Mensagem a ser exibida
        type: Tipo da mensagem (success, danger, warning, info)
    """
    if "flash_messages" not in request.session:
        request.session["flash_messages"] = []

    request.session["flash_messages"].append({
        "text": message,
        "type": type
    })


def informar_sucesso(request: Request, message: str) -> None:
    """Adiciona mensagem de sucesso"""
    flash(request, message, "success")


def informar_erro(request: Request, message: str) -> None:
    """Adiciona mensagem de erro"""
    flash(request, message, "danger")


def informar_aviso(request: Request, message: str) -> None:
    """Adiciona mensagem de aviso"""
    flash(request, message, "warning")


def informar_info(request: Request, message: str) -> None:
    """Adiciona mensagem informativa"""
    flash(request, message, "info")


def get_flashed_messages(request: Request) -> List[Dict[str, Any]]:
    """
    Recupera e remove as mensagens flash da sessão

    Args:
        request: Objeto Request do FastAPI

    Returns:
        Lista de mensagens flash
    """
    messages = request.session.pop("flash_messages", [])
    return messages
```

# util/mensagens.py

```py
"""
Sistema de mensagens flash para FastAPI
Permite enviar mensagens através de redirects usando sessões

VetConecta - Utilidade de mensagens flash
"""

from fastapi import Request
from typing import List, Dict, Any


def adicionar_mensagem(request: Request, mensagem: str, tipo: str = "info") -> None:
    """
    Adiciona uma mensagem flash à sessão

    Args:
        request: Objeto Request do FastAPI
        mensagem: Mensagem a ser exibida
        tipo: Tipo da mensagem (success, danger, warning, info)
    """
    if "_mensagens" not in request.session:
        request.session["_mensagens"] = []

    request.session["_mensagens"].append({
        "text": mensagem,
        "type": tipo
    })


def adicionar_mensagem_sucesso(request: Request, mensagem: str) -> None:
    """Adiciona mensagem de sucesso"""
    adicionar_mensagem(request, mensagem, "success")


def adicionar_mensagem_erro(request: Request, mensagem: str) -> None:
    """Adiciona mensagem de erro"""
    adicionar_mensagem(request, mensagem, "danger")


def adicionar_mensagem_aviso(request: Request, mensagem: str) -> None:
    """Adiciona mensagem de aviso"""
    adicionar_mensagem(request, mensagem, "warning")


def adicionar_mensagem_info(request: Request, mensagem: str) -> None:
    """Adiciona mensagem informativa"""
    adicionar_mensagem(request, mensagem, "info")


def obter_mensagens(request: Request) -> List[Dict[str, Any]]:
    """
    Recupera e remove as mensagens flash da sessão

    Args:
        request: Objeto Request do FastAPI

    Returns:
        Lista de mensagens flash
    """
    mensagens = request.session.pop("_mensagens", [])
    return mensagens


# Aliases para compatibilidade
flash = adicionar_mensagem
informar_sucesso = adicionar_mensagem_sucesso
informar_erro = adicionar_mensagem_erro
informar_aviso = adicionar_mensagem_aviso
informar_info = adicionar_mensagem_info
get_flashed_messages = obter_mensagens

```

# util/middlewares.py

```py
"""
Módulo de configuração de middlewares para a aplicação VetConecta.
"""

import os
import secrets
import logging
from fastapi import FastAPI, Request
from fastapi.middleware.trustedhost import TrustedHostMiddleware
from fastapi.middleware.cors import CORSMiddleware
from starlette.middleware.sessions import SessionMiddleware
from slowapi import Limiter, _rate_limit_exceeded_handler
from slowapi.util import get_remote_address
from slowapi.errors import RateLimitExceeded
from slowapi.middleware import SlowAPIMiddleware


def obter_secret_key() -> str:
    """
    Obtém a chave secreta da variável de ambiente ou gera uma temporária.

    Returns:
        str: Chave secreta para uso em sessões e tokens
    """
    secret_key = os.getenv("SECRET_KEY")
    if not secret_key:
        # Em desenvolvimento, gerar uma chave temporária com aviso
        secret_key = secrets.token_urlsafe(32)
        print("⚠️  AVISO: SECRET_KEY não configurada. Usando chave temporária.")
        print("⚠️  Defina a variável de ambiente SECRET_KEY para produção!")
    return secret_key


def configurar_rate_limiter(app: FastAPI) -> Limiter:
    """
    Configura o rate limiter para a aplicação.

    Args:
        app: Instância do FastAPI

    Returns:
        Limiter: Instância configurada do rate limiter
    """
    limiter = Limiter(
        key_func=get_remote_address,
        default_limits=["200/hour"],  # Limite padrão global
        storage_uri="memory://",  # Usar Redis em produção
    )
    app.state.limiter = limiter
    app.add_exception_handler(RateLimitExceeded, _rate_limit_exceeded_handler)  # type: ignore[arg-type]
    return limiter


async def security_headers_middleware(request: Request, call_next):
    """Adiciona headers de segurança nas respostas"""
    response = await call_next(request)

    environment = os.getenv("ENVIRONMENT", "development")

    # Security headers
    response.headers["X-Content-Type-Options"] = "nosniff"
    response.headers["X-Frame-Options"] = "DENY"
    response.headers["X-XSS-Protection"] = "1; mode=block"

    if environment == "production":
        response.headers["Strict-Transport-Security"] = (
            "max-age=31536000; includeSubDomains"
        )

    response.headers["Content-Security-Policy"] = (
        "default-src 'self'; "
        "script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net; "
        "style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://fonts.googleapis.com; "
        "img-src 'self' data: https:; "
        "font-src 'self' data: https://cdn.jsdelivr.net https://fonts.gstatic.com; "
        "connect-src 'self' https://cdn.jsdelivr.net"
    )
    response.headers["Referrer-Policy"] = "strict-origin-when-cross-origin"
    response.headers["Permissions-Policy"] = "geolocation=(), microphone=(), camera=()"

    return response


async def log_requests_middleware(request: Request, call_next):
    """Loga requisições (sem dados sensíveis)"""
    req_logger = logging.getLogger("vetconecta.requests")

    # Não logar senhas ou tokens
    safe_path = request.url.path
    if "senha" not in safe_path.lower() and "password" not in safe_path.lower():
        req_logger.info(
            f"{request.method} {safe_path} - {request.client.host if request.client else 'unknown'}"
        )

    response = await call_next(request)
    return response


def configurar_middlewares(app: FastAPI) -> None:
    """
    Configura todos os middlewares da aplicação.

    Args:
        app: Instância do FastAPI
    """
    # Obter variáveis de ambiente
    environment = os.getenv("ENVIRONMENT", "development")
    secret_key = obter_secret_key()

    # Configurar rate limiter
    configurar_rate_limiter(app)

    # Middleware de segurança - Trusted Host
    allowed_hosts = ["localhost", "127.0.0.1", "*.vetconecta.com"]
    if environment == "development":
        allowed_hosts.append("*")  # Aceitar todos em desenvolvimento
    app.add_middleware(TrustedHostMiddleware, allowed_hosts=allowed_hosts)

    # Middleware de segurança - CORS
    app.add_middleware(
        CORSMiddleware,
        allow_origins=(
            ["http://localhost:8000"] if environment == "production" else ["*"]
        ),
        allow_credentials=True,
        allow_methods=["GET", "POST"],
        allow_headers=["*"],
    )

    # Middleware de sessão (deve vir antes do SlowAPI para ser executado primeiro)
    app.add_middleware(
        SessionMiddleware,
        secret_key=secret_key,
        max_age=3600,  # Sessão expira em 1 hora
        same_site="strict" if environment == "production" else "lax",
        https_only=(environment == "production"),  # HTTPS obrigatório em produção
    )

    # Middleware de rate limiting
    app.add_middleware(SlowAPIMiddleware)

    # Middleware de segurança customizado - Security Headers
    app.middleware("http")(security_headers_middleware)

    # Middleware de logging
    app.middleware("http")(log_requests_middleware)

```

# util/model_util.py

```py
"""
Utilitários para instanciação de modelos a partir de resultados de banco de dados.
"""

from typing import TypeVar, Type, Dict, Any, Optional
from sqlite3 import Row

T = TypeVar('T')


def row_to_dict(row: Row) -> Dict[str, Any]:
    """
    Converte sqlite3.Row para dict.

    Args:
        row: Objeto Row do sqlite3

    Returns:
        Dicionário com os dados da linha

    Examples:
        >>> # Assumindo cursor.fetchone() retorna um Row
        >>> row_dict = row_to_dict(row)
        >>> print(row_dict)
        {'id': 1, 'nome': 'João', 'email': 'joao@example.com'}
    """
    return dict(row)


def criar_modelo(model_class: Type[T], row: Optional[Row]) -> Optional[T]:
    """
    Cria instância do modelo a partir de Row.

    Args:
        model_class: Classe do modelo a ser instanciada
        row: Objeto Row do sqlite3 ou None

    Returns:
        Instância do modelo ou None se row for None

    Examples:
        >>> from model.usuario_model import Usuario
        >>> usuario = criar_modelo(Usuario, row)
        >>> if usuario:
        ...     print(usuario.nome)
    """
    if row is None:
        return None

    try:
        return model_class(**row_to_dict(row))
    except TypeError as e:
        # Log erro mas retorna None para manter consistência
        import logging
        logger = logging.getLogger(__name__)
        logger.error(f"Erro ao criar modelo {model_class.__name__}: {e}")
        return None


def criar_modelos(model_class: Type[T], rows: list[Row]) -> list[T]:
    """
    Cria lista de instâncias do modelo a partir de lista de Rows.

    Args:
        model_class: Classe do modelo a ser instanciada
        rows: Lista de objetos Row do sqlite3

    Returns:
        Lista de instâncias do modelo (ignora Rows que causam erro)

    Examples:
        >>> from model.usuario_model import Usuario
        >>> usuarios = criar_modelos(Usuario, rows)
        >>> for usuario in usuarios:
        ...     print(usuario.nome)
    """
    modelos = []
    for row in rows:
        modelo = criar_modelo(model_class, row)
        if modelo is not None:
            modelos.append(modelo)
    return modelos


def row_to_dict_partial(row: Row, campos: list[str]) -> Dict[str, Any]:
    """
    Converte sqlite3.Row para dict contendo apenas campos especificados.

    Args:
        row: Objeto Row do sqlite3
        campos: Lista de nomes de campos a extrair

    Returns:
        Dicionário com apenas os campos especificados

    Examples:
        >>> row_dict = row_to_dict_partial(row, ['id', 'nome'])
        >>> print(row_dict)
        {'id': 1, 'nome': 'João'}
    """
    row_dict = dict(row)
    return {campo: row_dict.get(campo) for campo in campos if campo in row_dict}

```

# util/repo_util.py

```py
"""
Utilitários para repositórios, incluindo decoradores para tratamento de exceções.
"""

import logging
from functools import wraps
from typing import Callable, TypeVar, Any

logger = logging.getLogger(__name__)

T = TypeVar('T')


def tratar_excecao_repo(valor_retorno_padrao: Any = None):
    """
    Decorador para tratar exceções em métodos de repositório.

    Este decorador captura todas as exceções que ocorrem durante a execução
    de métodos de repositório, registra o erro com logging e retorna um valor
    padrão em vez de propagar a exceção.

    Args:
        valor_retorno_padrao: Valor a ser retornado em caso de exceção
            (padrão: None)

    Returns:
        Decorador configurado

    Examples:
        >>> @tratar_excecao_repo(valor_retorno_padrao=None)
        ... def obter_usuario(id: int) -> Optional[Usuario]:
        ...     # código que pode lançar exceção
        ...     return usuario

        >>> @tratar_excecao_repo(valor_retorno_padrao=[])
        ... def listar_usuarios() -> List[Usuario]:
        ...     # código que pode lançar exceção
        ...     return usuarios

        >>> @tratar_excecao_repo(valor_retorno_padrao=False)
        ... def atualizar_usuario(usuario: Usuario) -> bool:
        ...     # código que pode lançar exceção
        ...     return True
    """
    def decorator(func: Callable[..., T]) -> Callable[..., T]:
        @wraps(func)
        def wrapper(*args, **kwargs) -> T:
            try:
                return func(*args, **kwargs)
            except Exception as e:
                logger.error(
                    f"Erro em {func.__module__}.{func.__name__}: {e}",
                    exc_info=True
                )
                return valor_retorno_padrao
        return wrapper
    return decorator


def validar_id(id_valor: int, nome_campo: str = "ID") -> bool:
    """
    Valida se um ID é válido (inteiro positivo).

    Args:
        id_valor: Valor do ID a ser validado
        nome_campo: Nome do campo para mensagem de log (padrão: "ID")

    Returns:
        True se válido, False caso contrário

    Examples:
        >>> validar_id(1)
        True
        >>> validar_id(0)
        False
        >>> validar_id(-1)
        False
        >>> validar_id(None)
        False
    """
    if not isinstance(id_valor, int) or id_valor <= 0:
        logger.warning(f"{nome_campo} inválido: {id_valor}")
        return False
    return True


def validar_string_nao_vazia(valor: str, nome_campo: str) -> bool:
    """
    Valida se uma string não é vazia ou apenas espaços.

    Args:
        valor: String a ser validada
        nome_campo: Nome do campo para mensagem de log

    Returns:
        True se válido, False caso contrário

    Examples:
        >>> validar_string_nao_vazia("teste", "nome")
        True
        >>> validar_string_nao_vazia("", "nome")
        False
        >>> validar_string_nao_vazia("   ", "nome")
        False
        >>> validar_string_nao_vazia(None, "nome")
        False
    """
    if not valor or not isinstance(valor, str) or not valor.strip():
        logger.warning(f"{nome_campo} inválido: '{valor}'")
        return False
    return True


def validar_email(email: str) -> bool:
    """
    Valida formato básico de email.

    Args:
        email: Email a ser validado

    Returns:
        True se válido, False caso contrário

    Examples:
        >>> validar_email("user@example.com")
        True
        >>> validar_email("invalid-email")
        False
        >>> validar_email("")
        False
        >>> validar_email(None)
        False
    """
    if not email or not isinstance(email, str):
        logger.warning(f"Email inválido: {email}")
        return False

    # Validação básica de email
    if '@' not in email or '.' not in email.split('@')[-1]:
        logger.warning(f"Email com formato inválido: {email}")
        return False

    return True


def validar_paginacao(limite: int, offset: int) -> bool:
    """
    Valida parâmetros de paginação.

    Args:
        limite: Número máximo de registros por página
        offset: Número de registros a pular

    Returns:
        True se válido, False caso contrário

    Examples:
        >>> validar_paginacao(10, 0)
        True
        >>> validar_paginacao(10, 20)
        True
        >>> validar_paginacao(-1, 0)
        False
        >>> validar_paginacao(10, -1)
        False
    """
    if not isinstance(limite, int) or limite <= 0:
        logger.warning(f"Limite inválido: {limite}")
        return False

    if not isinstance(offset, int) or offset < 0:
        logger.warning(f"Offset inválido: {offset}")
        return False

    return True

```

# util/security.py

```py
"""
Módulo de segurança para gerenciar senhas e tokens
"""

import secrets
import string
import logging
from datetime import datetime, timedelta
from passlib.context import CryptContext

# Configurar logger
logger = logging.getLogger(__name__)

# Contexto para hash de senhas usando bcrypt
pwd_context = CryptContext(schemes=["bcrypt"], deprecated="auto")


def criar_hash_senha(senha: str) -> str:
    """
    Cria um hash seguro da senha usando bcrypt

    Args:
        senha: Senha em texto plano

    Returns:
        Hash da senha
    """
    return pwd_context.hash(senha)


def verificar_senha(senha_plana: str, senha_hash: str) -> bool:
    """
    Verifica se a senha em texto plano corresponde ao hash

    Args:
        senha_plana: Senha em texto plano
        senha_hash: Hash da senha armazenado no banco

    Returns:
        True se a senha está correta, False caso contrário
    """
    try:
        return pwd_context.verify(senha_plana, senha_hash)
    except ValueError as e:
        logger.warning(f"Erro ao verificar senha: hash inválido - {e}")
        return False
    except Exception as e:
        logger.error(f"Erro inesperado ao verificar senha: {e}", exc_info=True)
        return False


def gerar_token_redefinicao(tamanho: int = 32) -> str:
    """
    Gera um token aleatório seguro para redefinição de senha

    Args:
        tamanho: Tamanho do token em caracteres

    Returns:
        Token aleatório
    """
    caracteres = string.ascii_letters + string.digits
    return "".join(secrets.choice(caracteres) for _ in range(tamanho))


def obter_data_expiracao_token(horas: int = 24) -> str:
    """
    Calcula a data de expiração do token

    Args:
        horas: Número de horas de validade do token

    Returns:
        Data de expiração no formato ISO
    """
    expiracao = datetime.now() + timedelta(hours=horas)
    return expiracao.isoformat()


def gerar_senha_aleatoria(tamanho: int = 8) -> str:
    """
    Gera uma senha aleatória segura

    Args:
        tamanho: Tamanho da senha

    Returns:
        Senha aleatória
    """
    caracteres = string.ascii_letters + string.digits + "!@#$%"
    senha = "".join(secrets.choice(caracteres) for _ in range(tamanho))
    return senha

```

# util/template_util.py

```py
from typing import List, Optional, Union
from datetime import datetime, date
from jinja2 import FileSystemLoader
from fastapi.templating import Jinja2Templates
from fastapi import Request


def criar_templates(diretorio_especifico: Optional[Union[str, List[str]]] = None) -> Jinja2Templates:
    """
    Cria um objeto Jinja2Templates configurado com múltiplos diretórios.
    
    O diretório raiz "templates" é sempre incluído automaticamente para garantir
    acesso aos templates base como base.html.
    
    Args:
        diretorio_especifico: Diretório(s) específico(s) além do raiz.
                             Pode ser uma string única ou lista de strings.
                             Exemplo: "templates/admin/categorias" ou
                                     ["templates/admin", "templates/public"]
    
    Returns:
        Objeto Jinja2Templates configurado com os diretórios especificados
    
    Exemplo de uso:
        # Para um diretório específico
        templates = criar_templates("templates/admin/categorias")
        
        # Para múltiplos diretórios
        templates = criar_templates(["templates/admin", "templates/admin/produtos"])
        
        # Apenas com o diretório raiz
        templates = criar_templates()
    """
    # Sempre incluir o diretório raiz onde estão os templates base
    diretorios = ["templates"]
    
    # Adicionar diretórios específicos se fornecidos
    if diretorio_especifico:
        if isinstance(diretorio_especifico, str):
            # Se for uma string única, adiciona à lista
            diretorios.append(diretorio_especifico)
        elif isinstance(diretorio_especifico, list):
            # Se for uma lista, estende a lista de diretórios
            diretorios.extend(diretorio_especifico)
    
    # Criar o objeto Jinja2Templates com diretório base como "."
    # Isso é necessário para que o FileSystemLoader funcione corretamente
    templates = Jinja2Templates(directory=".")
    
    # Configurar o loader com múltiplos diretórios
    # O FileSystemLoader tentará encontrar templates em ordem nos diretórios listados
    templates.env.loader = FileSystemLoader(diretorios)

    # Adicionar funções globais ao ambiente Jinja2
    _adicionar_funcoes_globais(templates)

    return templates


def _adicionar_funcoes_globais(templates: Jinja2Templates) -> None:
    """
    Adiciona funções globais e filtros ao ambiente Jinja2
    """
    from util.mensagens import obter_mensagens

    # Adicionar obter_mensagens como função global
    templates.env.globals['obter_mensagens'] = obter_mensagens

    # Adicionar filtros de formatação de data/hora pt-BR
    templates.env.filters['data_br'] = formatar_data_br
    templates.env.filters['hora_br'] = formatar_hora_br
    templates.env.filters['data_hora_br'] = formatar_data_hora_br


def formatar_data_br(valor) -> str:
    """
    Formata uma data para o formato brasileiro (dd/mm/yyyy).

    Args:
        valor: Pode ser datetime, date, ou string no formato ISO (YYYY-MM-DD)

    Returns:
        String formatada no padrão dd/mm/yyyy
    """
    if valor is None:
        return ""

    if isinstance(valor, str):
        valor = valor.strip()
        # Se for string, tenta converter
        try:
            # Tenta formato ISO completo (YYYY-MM-DD HH:MM:SS)
            if len(valor) > 10:
                valor = datetime.strptime(valor[:19], "%Y-%m-%d %H:%M:%S")
            else:
                # Formato apenas data (YYYY-MM-DD)
                valor = datetime.strptime(valor[:10], "%Y-%m-%d")
        except (ValueError, TypeError):
            return str(valor)

    if isinstance(valor, datetime):
        return valor.strftime("%d/%m/%Y")
    elif isinstance(valor, date):
        return valor.strftime("%d/%m/%Y")

    return str(valor)


def formatar_hora_br(valor) -> str:
    """
    Formata uma hora para o formato brasileiro (HH:MM).

    Args:
        valor: Pode ser datetime ou string no formato ISO

    Returns:
        String formatada no padrão HH:MM
    """
    if valor is None:
        return ""

    if isinstance(valor, str):
        valor = valor.strip()
        try:
            # Tenta formato completo primeiro
            if len(valor) > 10:
                valor = datetime.strptime(valor[:19], "%Y-%m-%d %H:%M:%S")
            else:
                # Se for apenas data, retorna 00:00
                valor = datetime.strptime(valor[:10], "%Y-%m-%d")
        except (ValueError, TypeError):
            return str(valor)

    if isinstance(valor, datetime):
        return valor.strftime("%H:%M")

    return str(valor)


def formatar_data_hora_br(valor) -> str:
    """
    Formata uma data e hora para o formato brasileiro (dd/mm/yyyy HH:MM).

    Args:
        valor: Pode ser datetime ou string no formato ISO

    Returns:
        String formatada no padrão dd/mm/yyyy HH:MM
    """
    if valor is None:
        return ""

    if isinstance(valor, str):
        valor = valor.strip()
        try:
            # Tenta formato completo primeiro
            if len(valor) > 10:
                valor = datetime.strptime(valor[:19], "%Y-%m-%d %H:%M:%S")
            else:
                # Se for apenas data, assume 00:00:00
                valor = datetime.strptime(valor[:10], "%Y-%m-%d")
        except (ValueError, TypeError):
            return str(valor)

    if isinstance(valor, datetime):
        return valor.strftime("%d/%m/%Y %H:%M")

    return str(valor)
```

# util/validacoes_dto.py

```py
import re
from typing import Optional, Any
from pydantic import ValidationError


def processar_erros_validacao(e: ValidationError) -> dict:
    erros = {}
    for erro in e.errors():
        campo = erro["loc"][0] if erro["loc"] else "campo"
        mensagem = erro["msg"].replace("Value error, ", "")
        erros[str(campo).lower()] = mensagem
    return erros


def validar_forca_senha(senha: str) -> tuple[bool, str]:
    erros = []
    if len(senha) < 8:
        erros.append("A senha deve ter pelo menos 8 caracteres")

    if not any(c.islower() for c in senha):
        erros.append("A senha deve conter pelo menos uma letra minúscula")

    if not any(c.isupper() for c in senha):
        erros.append("A senha deve conter pelo menos uma letra maiúscula")

    if not any(c.isdigit() for c in senha):
        erros.append("A senha deve conter pelo menos um número")

    if not any(c in "!@#$%^&*(),.?\":{}|<>_-+=[]\\;'/" for c in senha):
        erros.append(
            "A senha deve conter pelo menos um caractere especial (!@#$%^&*(),.?\":{}|<>_-+=[]\\;'/)"
        )

    # Lista de senhas comuns que devem ser rejeitadas
    senhas_comuns = [
        "123456",
        "password",
        "123456789",
        "12345678",
        "12345",
        "1234567",
        "qwerty",
        "abc123",
        "password1",
        "123123",
    ]

    if senha.lower() in senhas_comuns:
        erros.append("A senha é muito comum e fácil de adivinhar")

    if erros:
        return False, "; ".join(erros)

    return True, ""


def validar_crmv(crmv: str) -> str:    
    crmv_limpo = re.sub(r"[^0-9]", "", crmv)
    if not crmv.strip():
        raise ValueError("CRMV é obrigatório")
    if len(crmv_limpo) != 6:
        raise ValueError("CRMV deve ter 6 dígitos")
    if crmv_limpo == crmv_limpo[0] * 6:
        raise ValueError("CRMV inválido")
    return crmv_limpo


def validar_telefone(telefone: str) -> str:
    telefone_limpo = re.sub(r"[^0-9]", "", telefone)
    if not telefone_limpo:
        raise ValueError("Telefone é obrigatório")
    if len(telefone_limpo) < 10 or len(telefone_limpo) > 11:
        raise ValueError("Telefone deve ter 10 ou 11 dígitos")
    ddd = telefone_limpo[:2]
    if not (11 <= int(ddd) <= 99):
        raise ValueError("DDD inválido")
    return telefone_limpo


def validar_nome_pessoa(nome: str, min_words: int = 2, min_chars: int = 2, max_chars: int = 100) -> str:
    if not nome or not nome.strip():
        raise ValueError("Nome é obrigatório")
    palavras = nome.split()
    if len(palavras) < min_words:
        raise ValueError(f"Nome deve conter pelo menos {min_words} palavras")
    nome_limpo = " ".join(palavras)
    if len(nome_limpo) < min_chars:
        raise ValueError(f"Nome deve ter pelo menos {min_chars} caracteres")
    if len(nome_limpo) > max_chars:
        raise ValueError(f"Nome deve ter no máximo {max_chars} caracteres")
    # Verificar se contém apenas letras, espaços e acentos
    if not re.match(r"^[a-zA-ZÀ-ÿ\s]+$", nome_limpo):
        raise ValueError("Nome deve conter apenas letras e espaços")
    return nome_limpo


def validar_texto_obrigatorio(
    texto: str, campo: str, min_chars: int = 1, max_chars: int = 1000
) -> str:
    if not texto or not texto.strip():
        raise ValueError(f"{campo} é obrigatório")
    texto_limpo = " ".join(texto.split())
    if len(texto_limpo) < min_chars:
        raise ValueError(f"{campo} deve ter pelo menos {min_chars} caracteres")
    if len(texto_limpo) > max_chars:
        raise ValueError(f"{campo} deve ter no máximo {max_chars} caracteres")
    return texto_limpo


def validar_texto_opcional(
    texto: Optional[str], max_chars: int = 1000
) -> Optional[str]:
    if not texto:
        return None
    texto_limpo = " ".join(texto.split()) if texto.strip() else None
    if texto_limpo and len(texto_limpo) > max_chars:
        raise ValueError(f"Texto deve ter no máximo {max_chars} caracteres")
    return texto_limpo


def validar_email(email: str) -> str:
    email_limpo = email.strip()
    if not email_limpo:
        raise ValueError("Email é obrigatório")
    email_regex = r"^[\w\.-]+@[\w\.-]+\.\w+$"
    if not re.match(email_regex, email_limpo):
        raise ValueError("Email inválido")
    return email_limpo.lower()


def validar_senha(
    senha: str,
    min_chars: int = 6,
    max_chars: int = 128
) -> str:
    if not senha.strip():
        raise ValueError("Senha é obrigatória")
    if len(senha.strip()) < min_chars:
        raise ValueError(f"Senha deve ter pelo menos {min_chars} caracteres")
    if len(senha.strip()) > max_chars:
        raise ValueError(f"Senha deve ter no máximo {max_chars} caracteres")
    is_forte, mensagem = validar_forca_senha(senha.strip())
    if not is_forte:
        raise ValueError(f"Senha fraca: {mensagem}")
    return senha.strip()


def validar_senhas_coincidem(senha: str, confirmar_senha: str) -> str:
    if senha.strip() != confirmar_senha.strip():
        raise ValueError("As senhas não coincidem")
    return confirmar_senha.strip()


def converter_checkbox_para_bool(valor: Any) -> bool:
    if isinstance(valor, bool):
        return valor
    if isinstance(valor, str):
        return valor.lower() in ["on", "true", "1", "yes"]
    return bool(valor)


def validar_enum_valor(valor: Any, enum_class) -> Any:
    if isinstance(valor, str):
        try:
            return enum_class(valor.upper())
        except ValueError:
            valores_validos = [item.value for item in enum_class]
            raise ValueError(
                f'Valor deve ser uma das opções: {", ".join(valores_validos)}'
            )
    valores_validos = [item.value for item in enum_class]
    if valor not in valores_validos:
        raise ValueError(
            f'Valor deve ser uma das opções: {", ".join(valores_validos)}'
        )
    return valor


```

